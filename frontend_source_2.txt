===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\admin\questions\editor\page.tsx
---- CONTENT ----

import { useState } from 'react';
import { useParams } from 'react-router-dom';
import Header from '../../../../components/feature/Header';

interface QuestionOption {
  id: string;
  text: string;
  isCorrect: boolean;
}

interface QuestionData {
  title: string;
  topic: string;
  difficulty: 'Easy' | 'Medium' | 'Hard';
  type: 'multiple-choice' | 'numerical' | 'true-false';
  questionText: string;
  explanation: string;
  options: QuestionOption[];
  numericalAnswer?: number;
  tolerance?: number;
  tags: string[];
  references: string[];
}

export default function AdminQuestionEditor() {
  const { id } = useParams();
  const isEditing = Boolean(id);
  
  const [questionData, setQuestionData] = useState<QuestionData>({
    title: '',
    topic: 'Structural Analysis',
    difficulty: 'Medium',
    type: 'multiple-choice',
    questionText: '',
    explanation: '',
    options: [
      { id: '1', text: '', isCorrect: false },
      { id: '2', text: '', isCorrect: false },
      { id: '3', text: '', isCorrect: false },
      { id: '4', text: '', isCorrect: false }
    ],
    tags: [],
    references: []
  });

  const [newTag, setNewTag] = useState('');
  const [newReference, setNewReference] = useState('');
  const [previewMode, setPreviewMode] = useState(false);

  const topics = [
    'Structural Analysis',
    'Concrete Design', 
    'Steel Design',
    'Geotechnical Engineering',
    'Transportation Engineering',
    'Water Resources',
    'Environmental Engineering',
    'Construction Management'
  ];

  const handleOptionChange = (optionId: string, text: string) => {
    setQuestionData(prev => ({
      ...prev,
      options: prev.options.map(opt => 
        opt.id === optionId ? { ...opt, text } : opt
      )
    }));
  };

  const handleCorrectAnswerChange = (optionId: string) => {
    setQuestionData(prev => ({
      ...prev,
      options: prev.options.map(opt => ({
        ...opt,
        isCorrect: opt.id === optionId
      }))
    }));
  };

  const addOption = () => {
    const newId = (questionData.options.length + 1).toString();
    setQuestionData(prev => ({
      ...prev,
      options: [...prev.options, { id: newId, text: '', isCorrect: false }]
    }));
  };

  const removeOption = (optionId: string) => {
    if (questionData.options.length > 2) {
      setQuestionData(prev => ({
        ...prev,
        options: prev.options.filter(opt => opt.id !== optionId)
      }));
    }
  };

  const addTag = () => {
    if (newTag.trim() && !questionData.tags.includes(newTag.trim())) {
      setQuestionData(prev => ({
        ...prev,
        tags: [...prev.tags, newTag.trim()]
      }));
      setNewTag('');
    }
  };

  const removeTag = (tag: string) => {
    setQuestionData(prev => ({
      ...prev,
      tags: prev.tags.filter(t => t !== tag)
    }));
  };

  const addReference = () => {
    if (newReference.trim()) {
      setQuestionData(prev => ({
        ...prev,
        references: [...prev.references, newReference.trim()]
      }));
      setNewReference('');
    }
  };

  const removeReference = (index: number) => {
    setQuestionData(prev => ({
      ...prev,
      references: prev.references.filter((_, i) => i !== index)
    }));
  };

  const handleSave = (status: 'draft' | 'review' | 'published') => {
    console.log('Saving question:', { ...questionData, status });
    // Handle save logic
  };

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div className="mb-8">
          <div className="flex items-center justify-between">
            <div>
              <h1 className="text-3xl font-bold text-gray-900 mb-2">
                {isEditing ? 'Edit Question' : 'Create New Question'}
              </h1>
              <p className="text-gray-600">
                {isEditing ? `Editing question ${id}` : 'Add a new question to the question bank'}
              </p>
            </div>
            <div className="flex space-x-3">
              <button
                onClick={() => setPreviewMode(!previewMode)}
                className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap"
              >
                {previewMode ? 'Edit Mode' : 'Preview'}
              </button>
            </div>
          </div>
        </div>

        <div className="bg-white rounded-lg shadow">
          {!previewMode ? (
            <div className="p-6">
              <div className="space-y-6">
                {/* Basic Information */}
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-2">Question Title *</label>
                    <input
                      type="text"
                      value={questionData.title}
                      onChange={(e) => setQuestionData(prev => ({ ...prev, title: e.target.value }))}
                      placeholder="Brief descriptive title for the question"
                      className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    />
                  </div>
                  
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-2">Topic *</label>
                    <select
                      value={questionData.topic}
                      onChange={(e) => setQuestionData(prev => ({ ...prev, topic: e.target.value }))}
                      className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8"
                    >
                      {topics.map((topic) => (
                        <option key={topic} value={topic}>{topic}</option>
                      ))}
                    </select>
                  </div>

                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-2">Difficulty *</label>
                    <select
                      value={questionData.difficulty}
                      onChange={(e) => setQuestionData(prev => ({ ...prev, difficulty: e.target.value as QuestionData['difficulty'] }))}
                      className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8"
                    >
                      <option value="Easy">Easy</option>
                      <option value="Medium">Medium</option>
                      <option value="Hard">Hard</option>
                    </select>
                  </div>

                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-2">Question Type *</label>
                    <select
                      value={questionData.type}
                      onChange={(e) => setQuestionData(prev => ({ ...prev, type: e.target.value as QuestionData['type'] }))}
                      className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8"
                    >
                      <option value="multiple-choice">Multiple Choice</option>
                      <option value="numerical">Numerical</option>
                      <option value="true-false">True/False</option>
                    </select>
                  </div>
                </div>

                {/* Question Text */}
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">Question Text *</label>
                  <textarea
                    value={questionData.questionText}
                    onChange={(e) => setQuestionData(prev => ({ ...prev, questionText: e.target.value }))}
                    placeholder="Enter the full question text with all necessary information..."
                    rows={6}
                    className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
                  />
                </div>

                {/* Answer Options */}
                {questionData.type === 'multiple-choice' && (
                  <div>
                    <div className="flex items-center justify-between mb-3">
                      <label className="block text-sm font-medium text-gray-700">Answer Options *</label>
                      <button
                        onClick={addOption}
                        className="px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors whitespace-nowrap"
                      >
                        Add Option
                      </button>
                    </div>
                    <div className="space-y-3">
                      {questionData.options.map((option, index) => (
                        <div key={option.id} className="flex items-center space-x-3">
                          <input
                            type="radio"
                            name="correctAnswer"
                            checked={option.isCorrect}
                            onChange={() => handleCorrectAnswerChange(option.id)}
                            className="text-blue-600 focus:ring-blue-500"
                          />
                          <span className="text-sm font-medium text-gray-700 w-8">
                            {String.fromCharCode(65 + index)}.
                          </span>
                          <input
                            type="text"
                            value={option.text}
                            onChange={(e) => handleOptionChange(option.id, e.target.value)}
                            placeholder={`Option ${String.fromCharCode(65 + index)}`}
                            className="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                          />
                          {questionData.options.length > 2 && (
                            <button
                              onClick={() => removeOption(option.id)}
                              className="text-red-600 hover:text-red-800"
                            >
                              <i className="ri-delete-bin-line"></i>
                            </button>
                          )}
                        </div>
                      ))}
                    </div>
                  </div>
                )}

                {/* Numerical Answer */}
                {questionData.type === 'numerical' && (
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                      <label className="block text-sm font-medium text-gray-700 mb-2">Correct Answer *</label>
                      <input
                        type="number"
                        value={questionData.numericalAnswer || ''}
                        onChange={(e) => setQuestionData(prev => ({ ...prev, numericalAnswer: parseFloat(e.target.value) }))}
                        placeholder="Enter the numerical answer"
                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                      />
                    </div>
                    <div>
                      <label className="block text-sm font-medium text-gray-700 mb-2">Tolerance (%)</label>
                      <input
                        type="number"
                        value={questionData.tolerance || ''}
                        onChange={(e) => setQuestionData(prev => ({ ...prev, tolerance: parseFloat(e.target.value) }))}
                        placeholder="Acceptable error percentage"
                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                      />
                    </div>
                  </div>
                )}

                {/* True/False */}
                {questionData.type === 'true-false' && (
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-2">Correct Answer *</label>
                    <div className="flex space-x-4">
                      <label className="flex items-center">
                        <input
                          type="radio"
                          name="trueFalse"
                          value="true"
                          className="mr-2 text-blue-600 focus:ring-blue-500"
                        />
                        True
                      </label>
                      <label className="flex items-center">
                        <input
                          type="radio"
                          name="trueFalse"
                          value="false"
                          className="mr-2 text-blue-600 focus:ring-blue-500"
                        />
                        False
                      </label>
                    </div>
                  </div>
                )}

                {/* Explanation */}
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">Explanation *</label>
                  <textarea
                    value={questionData.explanation}
                    onChange={(e) => setQuestionData(prev => ({ ...prev, explanation: e.target.value }))}
                    placeholder="Provide a detailed explanation of the correct answer and solution approach..."
                    rows={4}
                    className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
                  />
                </div>

                {/* Tags */}
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">Tags</label>
                  <div className="space-y-3">
                    {questionData.tags.length > 0 && (
                      <div className="flex flex-wrap gap-2">
                        {questionData.tags.map((tag) => (
                          <span key={tag} className="inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full">
                            {tag}
                            <button
                              onClick={() => removeTag(tag)}
                              className="ml-2 text-blue-600 hover:text-blue-800"
                            >
                              <i className="ri-close-line text-xs"></i>
                            </button>
                          </span>
                        ))}
                      </div>
                    )}
                    <div className="flex space-x-2">
                      <input
                        type="text"
                        value={newTag}
                        onChange={(e) => setNewTag(e.target.value)}
                        placeholder="Add a tag..."
                        className="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                        onKeyPress={(e) => e.key === 'Enter' && addTag()}
                      />
                      <button
                        onClick={addTag}
                        className="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors whitespace-nowrap"
                      >
                        Add Tag
                      </button>
                    </div>
                  </div>
                </div>

                {/* References */}
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">References</label>
                  <div className="space-y-3">
                    {questionData.references.length > 0 && (
                      <div className="space-y-2">
                        {questionData.references.map((ref, index) => (
                          <div key={index} className="flex items-center space-x-2 p-2 bg-gray-50 rounded">
                            <span className="flex-1 text-sm">{ref}</span>
                            <button
                              onClick={() => removeReference(index)}
                              className="text-red-600 hover:text-red-800"
                            >
                              <i className="ri-delete-bin-line"></i>
                            </button>
                          </div>
                        ))}
                      </div>
                    )}
                    <div className="flex space-x-2">
                      <input
                        type="text"
                        value={newReference}
                        onChange={(e) => setNewReference(e.target.value)}
                        placeholder="Add a reference (textbook, code section, etc.)..."
                        className="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                        onKeyPress={(e) => e.key === 'Enter' && addReference()}
                      />
                      <button
                        onClick={addReference}
                        className="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors whitespace-nowrap"
                      >
                        Add Reference
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              {/* Action Buttons */}
              <div className="flex justify-between items-center pt-6 border-t border-gray-200 mt-8">
                <a 
                  href="/admin/questions"
                  className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap"
                >
                  Cancel
                </a>
                <div className="flex space-x-3">
                  <button 
                    onClick={() => handleSave('draft')}
                    className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap"
                  >
                    Save as Draft
                  </button>
                  <button 
                    onClick={() => handleSave('review')}
                    className="px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors whitespace-nowrap"
                  >
                    Submit for Review
                  </button>
                  <button 
                    onClick={() => handleSave('published')}
                    className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap"
                  >
                    Publish Question
                  </button>
                </div>
              </div>
            </div>
          ) : (
            /* Preview Mode */
            <div className="p-6">
              <div className="mb-6">
                <div className="flex items-center justify-between mb-4">
                  <div className="flex items-center space-x-4">
                    <span className="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">
                      {questionData.topic}
                    </span>
                    <span className="px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full">
                      {questionData.difficulty}
                    </span>
                    <span className="px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded-full">
                      {questionData.type}
                    </span>
                  </div>
                </div>
                <h2 className="text-xl font-bold text-gray-900 mb-4">{questionData.title || 'Question Title'}</h2>
                <div className="prose max-w-none">
                  <p className="text-gray-700 whitespace-pre-line">
                    {questionData.questionText || 'Question text will appear here...'}
                  </p>
                </div>
              </div>

              {questionData.type === 'multiple-choice' && (
                <div className="space-y-3 mb-6">
                  {questionData.options.map((option, index) => (
                    <div key={option.id} className="flex items-center space-x-3">
                      <input
                        type="radio"
                        name="preview"
                        className="text-blue-600 focus:ring-blue-500"
                        disabled
                      />
                      <span className="font-medium text-gray-700">
                        {String.fromCharCode(65 + index)}.
                      </span>
                      <span className="text-gray-700">{option.text || `Option ${String.fromCharCode(65 + index)}`}</span>
                      {option.isCorrect && (
                        <span className="text-green-600 text-sm">(Correct)</span>
                      )}
                    </div>
                  ))}
                </div>
              )}

              {questionData.explanation && (
                <div className="mt-6 p-4 bg-green-50 rounded-lg">
                  <h3 className="font-semibold text-green-900 mb-2">Explanation:</h3>
                  <p className="text-green-800 whitespace-pre-line">{questionData.explanation}</p>
                </div>
              )}

              {questionData.tags.length > 0 && (
                <div className="mt-6">
                  <h4 className="font-medium text-gray-900 mb-2">Tags:</h4>
                  <div className="flex flex-wrap gap-2">
                    {questionData.tags.map((tag) => (
                      <span key={tag} className="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">
                        {tag}
                      </span>
                    ))}
                  </div>
                </div>
              )}
            </div>
          )}
        </div>
      </div>
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\admin\questions\page.tsx
---- CONTENT ----

import { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import Header from '../../../components/feature/Header';
import LoadingSpinner from '../../../components/effects/LoadingSpinner';
import { questionService, adminService } from '../../../api';
import type { Question as ApiQuestion } from '../../../api/types';

interface Question {
  id: string;
  title: string;
  topic: string;
  difficulty: 'Easy' | 'Medium' | 'Hard';
  type: 'multiple-choice' | 'numerical' | 'true-false';
  status: 'published' | 'draft' | 'review';
  createdAt: string;
  lastModified: string;
  author: string;
  attempts: number;
  accuracy: number;
}

const mockQuestions: Question[] = [
  {
    id: 'Q001',
    title: 'Calculate the maximum bending moment for a simply supported beam',
    topic: 'Structural Analysis',
    difficulty: 'Medium',
    type: 'numerical',
    status: 'published',
    createdAt: '2024-01-10',
    lastModified: '2024-01-12',
    author: 'Dr. Smith',
    attempts: 245,
    accuracy: 72
  },
  {
    id: 'Q002',
    title: 'Determine the required reinforcement for concrete beam design',
    topic: 'Concrete Design',
    difficulty: 'Hard',
    type: 'multiple-choice',
    status: 'published',
    createdAt: '2024-01-08',
    lastModified: '2024-01-10',
    author: 'Prof. Johnson',
    attempts: 189,
    accuracy: 58
  },
  {
    id: 'Q003',
    title: 'Steel connection bolt capacity calculation',
    topic: 'Steel Design',
    difficulty: 'Medium',
    type: 'numerical',
    status: 'review',
    createdAt: '2024-01-15',
    lastModified: '2024-01-15',
    author: 'Dr. Chen',
    attempts: 0,
    accuracy: 0
  }
];

export default function AdminQuestions() {
  const navigate = useNavigate();
  const [questions, setQuestions] = useState<Question[]>(mockQuestions);
  const [searchTerm, setSearchTerm] = useState('');
  const [filterTopic, setFilterTopic] = useState('all');
  const [filterDifficulty, setFilterDifficulty] = useState('all');
  const [filterStatus, setFilterStatus] = useState('all');
  const [selectedQuestions, setSelectedQuestions] = useState<string[]>([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');

  useEffect(() => {
    const fetchQuestions = async () => {
      try {
        const data = await questionService.getQuestions({ limit: 100 });
        
        const mappedQuestions: Question[] = data.questions.map((q: ApiQuestion) => ({
          id: q.id,
          title: q.content.substring(0, 100),
          topic: q.topic?.name || 'Unknown',
          difficulty: (q.difficulty.charAt(0).toUpperCase() + q.difficulty.slice(1)) as 'Easy' | 'Medium' | 'Hard',
          type: q.question_type === 'multiple_choice' ? 'multiple-choice' : 'true-false' as 'multiple-choice' | 'numerical' | 'true-false',
          status: q.is_active ? 'published' : 'draft' as 'published' | 'draft' | 'review',
          createdAt: q.created_at,
          lastModified: q.updated_at,
          author: 'System',
          attempts: 0,
          accuracy: 0
        }));
        
        setQuestions(mappedQuestions);
      } catch (err) {
        setError(err instanceof Error ? err.message : 'Failed to load questions');
        // Keep mock data on error
      } finally {
        setLoading(false);
      }
    };

    fetchQuestions();
  }, []);

  const topics = ['all', 'Structural Analysis', 'Concrete Design', 'Steel Design', 'Geotechnical Engineering', 'Transportation Engineering'];
  const difficulties = ['all', 'Easy', 'Medium', 'Hard'];
  const statuses = ['all', 'published', 'draft', 'review'];

  const filteredQuestions = questions.filter(question => {
    const matchesSearch = question.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         question.id.toLowerCase().includes(searchTerm.toLowerCase());
    const matchesTopic = filterTopic === 'all' || question.topic === filterTopic;
    const matchesDifficulty = filterDifficulty === 'all' || question.difficulty === filterDifficulty;
    const matchesStatus = filterStatus === 'all' || question.status === filterStatus;
    return matchesSearch && matchesTopic && matchesDifficulty && matchesStatus;
  });

  const handleSelectQuestion = (questionId: string) => {
    setSelectedQuestions(prev => 
      prev.includes(questionId) 
        ? prev.filter(id => id !== questionId)
        : [...prev, questionId]
    );
  };

  const handleSelectAll = () => {
    if (selectedQuestions.length === filteredQuestions.length) {
      setSelectedQuestions([]);
    } else {
      setSelectedQuestions(filteredQuestions.map(q => q.id));
    }
  };

  const handleStatusChange = (questionId: string, newStatus: string) => {
    setQuestions(prev => prev.map(q => 
      q.id === questionId 
        ? { ...q, status: newStatus as Question['status'], lastModified: new Date().toISOString().split('T')[0] }
        : q
    ));
  };

  const handleDeleteQuestions = async () => {
    try {
      await Promise.all(selectedQuestions.map(id => adminService.deleteQuestion(id)));
      setQuestions(prev => prev.filter(q => !selectedQuestions.includes(q.id)));
      setSelectedQuestions([]);
    } catch (err) {
      setError(err instanceof Error ? err.message : 'Failed to delete questions');
    }
  };

  const getDifficultyColor = (difficulty: string) => {
    switch (difficulty) {
      case 'Easy': return 'bg-green-100 text-green-800';
      case 'Medium': return 'bg-yellow-100 text-yellow-800';
      case 'Hard': return 'bg-red-100 text-red-800';
      default: return 'bg-gray-100 text-gray-800';
    }
  };

  const getStatusColor = (status: string) => {
    switch (status) {
      case 'published': return 'bg-green-100 text-green-800';
      case 'draft': return 'bg-gray-100 text-gray-800';
      case 'review': return 'bg-yellow-100 text-yellow-800';
      default: return 'bg-gray-100 text-gray-800';
    }
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-50">
        <Header />
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <div className="flex items-center justify-center h-96">
            <LoadingSpinner size="lg" />
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        {error && (
          <div className="mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
            <div className="flex items-center">
              <i className="ri-information-line text-yellow-600 text-xl mr-3"></i>
              <p className="text-yellow-800">{error}</p>
            </div>
          </div>
        )}
        <div className="mb-8">
          <div className="flex items-center justify-between">
            <div>
              <h1 className="text-3xl font-bold text-gray-900 mb-2">Question Management</h1>
              <p className="text-gray-600">Manage the question bank and content</p>
            </div>
            <div className="flex space-x-3">
              <button className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap">
                Import Questions
              </button>
              <button
                onClick={() => navigate('/admin/questions/editor')}
                className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap"
              >
                Add Question
              </button>
            </div>
          </div>
        </div>

        <div className="bg-white rounded-lg shadow">
          <div className="px-6 py-4 border-b border-gray-200">
            <div className="flex items-center justify-between">
              <h2 className="text-lg font-semibold text-gray-900">Questions ({filteredQuestions.length})</h2>
              <div className="flex space-x-3">
                <button className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap">
                  Export CSV
                </button>
                <button className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap">
                  Bulk Edit
                </button>
              </div>
            </div>
          </div>

          <div className="p-6">
            <div className="grid grid-cols-1 md:grid-cols-5 gap-4 mb-6">
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">Search</label>
                <div className="relative">
                  <i className="ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                  <input
                    type="text"
                    value={searchTerm}
                    onChange={(e) => setSearchTerm(e.target.value)}
                    placeholder="Search questions..."
                    className="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                </div>
              </div>
              
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">Topic</label>
                <select
                  value={filterTopic}
                  onChange={(e) => setFilterTopic(e.target.value)}
                  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8"
                >
                  {topics.map((topic) => (
                    <option key={topic} value={topic}>
                      {topic === 'all' ? 'All Topics' : topic}
                    </option>
                  ))}
                </select>
              </div>

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">Difficulty</label>
                <select
                  value={filterDifficulty}
                  onChange={(e) => setFilterDifficulty(e.target.value)}
                  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8"
                >
                  {difficulties.map((difficulty) => (
                    <option key={difficulty} value={difficulty}>
                      {difficulty === 'all' ? 'All Difficulties' : difficulty}
                    </option>
                  ))}
                </select>
              </div>

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">Status</label>
                <select
                  value={filterStatus}
                  onChange={(e) => setFilterStatus(e.target.value)}
                  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8"
                >
                  {statuses.map((status) => (
                    <option key={status} value={status}>
                      {status === 'all' ? 'All Status' : status.charAt(0).toUpperCase() + status.slice(1)}
                    </option>
                  ))}
                </select>
              </div>

              <div className="flex items-end">
                <button className="w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap">
                  Clear Filters
                </button>
              </div>
            </div>

            {selectedQuestions.length > 0 && (
              <div className="mb-4 p-3 bg-blue-50 rounded-lg flex items-center justify-between">
                <span className="text-sm text-blue-800">
                  {selectedQuestions.length} question(s) selected
                </span>
                <div className="flex space-x-2">
                  <button className="px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors whitespace-nowrap">
                    Bulk Publish
                  </button>
                  <button 
                    onClick={handleDeleteQuestions}
                    className="px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700 transition-colors whitespace-nowrap"
                  >
                    Delete Selected
                  </button>
                </div>
              </div>
            )}

            <div className="overflow-x-auto">
              <table className="w-full">
                <thead className="bg-gray-50">
                  <tr>
                    <th className="px-6 py-3 text-left">
                      <input
                        type="checkbox"
                        checked={selectedQuestions.length === filteredQuestions.length && filteredQuestions.length > 0}
                        onChange={handleSelectAll}
                        className="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                      />
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Question
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Topic
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Difficulty
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Status
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Performance
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Actions
                    </th>
                  </tr>
                </thead>
                <tbody className="bg-white divide-y divide-gray-200">
                  {filteredQuestions.map((question) => (
                    <tr key={question.id} className="hover:bg-gray-50">
                      <td className="px-6 py-4">
                        <input
                          type="checkbox"
                          checked={selectedQuestions.includes(question.id)}
                          onChange={() => handleSelectQuestion(question.id)}
                          className="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                        />
                      </td>
                      <td className="px-6 py-4">
                        <div>
                          <div className="font-medium text-gray-900">{question.id}</div>
                          <div className="text-sm text-gray-600 max-w-xs truncate">{question.title}</div>
                          <div className="text-xs text-gray-500">
                            {question.type} â€¢ by {question.author}
                          </div>
                        </div>
                      </td>
                      <td className="px-6 py-4 text-sm text-gray-900">
                        {question.topic}
                      </td>
                      <td className="px-6 py-4">
                        <span className={`px-2 py-1 text-xs font-medium rounded-full ${getDifficultyColor(question.difficulty)}`}>
                          {question.difficulty}
                        </span>
                      </td>
                      <td className="px-6 py-4">
                        <select
                          value={question.status}
                          onChange={(e) => handleStatusChange(question.id, e.target.value)}
                          className={`px-2 py-1 text-xs font-medium rounded-full border-0 ${getStatusColor(question.status)} pr-8`}
                        >
                          <option value="draft">Draft</option>
                          <option value="review">Review</option>
                          <option value="published">Published</option>
                        </select>
                      </td>
                      <td className="px-6 py-4">
                        <div className="text-sm text-gray-900">{question.attempts} attempts</div>
                        <div className="text-sm text-gray-600">{question.accuracy}% accuracy</div>
                      </td>
                      <td className="px-6 py-4">
                        <div className="flex space-x-2">
                          <button
                            onClick={() => navigate(`/admin/questions/editor?id=${question.id}`)}
                            className="text-blue-600 hover:text-blue-800 text-sm"
                          >
                            Edit
                          </button>
                          <button className="text-green-600 hover:text-green-800 text-sm">
                            Preview
                          </button>
                          <button className="text-red-600 hover:text-red-800 text-sm">
                            Delete
                          </button>
                        </div>
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>

            {filteredQuestions.length === 0 && (
              <div className="text-center py-8">
                <i className="ri-question-line text-4xl text-gray-400 mb-4"></i>
                <h3 className="text-lg font-medium text-gray-900 mb-2">No questions found</h3>
                <p className="text-gray-600 mb-4">Try adjusting your search criteria or add new questions</p>
                <button
                  onClick={() => navigate('/admin/questions/editor')}
                  className="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap"
                >
                  Add First Question
                </button>
              </div>
            )}
          </div>
        </div>
      </div>
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\admin\subscriptions\page.tsx
---- CONTENT ----

import { useState } from 'react';
import Header from '../../../components/feature/Header';

interface Subscription {
  id: string;
  userId: string;
  userName: string;
  userEmail: string;
  plan: 'basic' | 'pro' | 'premium';
  status: 'active' | 'cancelled' | 'expired' | 'trial';
  startDate: string;
  endDate: string;
  amount: number;
  paymentMethod: string;
  lastPayment: string;
  nextBilling: string;
}

const mockSubscriptions: Subscription[] = [
  {
    id: 'SUB-001',
    userId: 'USR-001',
    userName: 'Sarah Chen',
    userEmail: 'sarah.chen@email.com',
    plan: 'pro',
    status: 'active',
    startDate: '2024-01-10',
    endDate: '2024-02-10',
    amount: 49,
    paymentMethod: 'Visa ****4242',
    lastPayment: '2024-01-10',
    nextBilling: '2024-02-10'
  },
  {
    id: 'SUB-002',
    userId: 'USR-002',
    userName: 'Mike Rodriguez',
    userEmail: 'mike.rodriguez@email.com',
    plan: 'premium',
    status: 'active',
    startDate: '2024-01-08',
    endDate: '2024-02-08',
    amount: 79,
    paymentMethod: 'Mastercard ****8765',
    lastPayment: '2024-01-08',
    nextBilling: '2024-02-08'
  },
  {
    id: 'SUB-003',
    userId: 'USR-003',
    userName: 'Emily Johnson',
    userEmail: 'emily.johnson@email.com',
    plan: 'basic',
    status: 'cancelled',
    startDate: '2023-12-15',
    endDate: '2024-01-15',
    amount: 29,
    paymentMethod: 'Visa ****1234',
    lastPayment: '2023-12-15',
    nextBilling: '-'
  },
  {
    id: 'SUB-004',
    userId: 'USR-004',
    userName: 'David Kim',
    userEmail: 'david.kim@email.com',
    plan: 'pro',
    status: 'trial',
    startDate: '2024-01-12',
    endDate: '2024-01-19',
    amount: 0,
    paymentMethod: '-',
    lastPayment: '-',
    nextBilling: '2024-01-19'
  }
];

export default function AdminSubscriptions() {
  const [subscriptions, setSubscriptions] = useState(mockSubscriptions);
  const [searchTerm, setSearchTerm] = useState('');
  const [filterPlan, setFilterPlan] = useState('all');
  const [filterStatus, setFilterStatus] = useState('all');
  const [selectedSubscriptions, setSelectedSubscriptions] = useState<string[]>([]);
  const [showRefundModal, setShowRefundModal] = useState(false);
  const [selectedSubscription, setSelectedSubscription] = useState<Subscription | null>(null);

  const plans = ['all', 'basic', 'pro', 'premium'];
  const statuses = ['all', 'active', 'cancelled', 'expired', 'trial'];

  const filteredSubscriptions = subscriptions.filter(sub => {
    const matchesSearch = sub.userName.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         sub.userEmail.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         sub.id.toLowerCase().includes(searchTerm.toLowerCase());
    const matchesPlan = filterPlan === 'all' || sub.plan === filterPlan;
    const matchesStatus = filterStatus === 'all' || sub.status === filterStatus;
    return matchesSearch && matchesPlan && matchesStatus;
  });

  const handleSelectSubscription = (subId: string) => {
    setSelectedSubscriptions(prev => 
      prev.includes(subId) 
        ? prev.filter(id => id !== subId)
        : [...prev, subId]
    );
  };

  const handleSelectAll = () => {
    if (selectedSubscriptions.length === filteredSubscriptions.length) {
      setSelectedSubscriptions([]);
    } else {
      setSelectedSubscriptions(filteredSubscriptions.map(sub => sub.id));
    }
  };

  const handleStatusChange = (subId: string, newStatus: string) => {
    setSubscriptions(prev => prev.map(sub => 
      sub.id === subId 
        ? { ...sub, status: newStatus as Subscription['status'] }
        : sub
    ));
  };

  const handleRefund = (subscription: Subscription) => {
    setSelectedSubscription(subscription);
    setShowRefundModal(true);
  };

  const processRefund = () => {
    if (selectedSubscription) {
      console.log('Processing refund for:', selectedSubscription.id);
      setShowRefundModal(false);
      setSelectedSubscription(null);
    }
  };

  const getPlanColor = (plan: string) => {
    switch (plan) {
      case 'basic': return 'bg-blue-100 text-blue-800';
      case 'pro': return 'bg-purple-100 text-purple-800';
      case 'premium': return 'bg-yellow-100 text-yellow-800';
      default: return 'bg-gray-100 text-gray-800';
    }
  };

  const getStatusColor = (status: string) => {
    switch (status) {
      case 'active': return 'bg-green-100 text-green-800';
      case 'trial': return 'bg-blue-100 text-blue-800';
      case 'cancelled': return 'bg-red-100 text-red-800';
      case 'expired': return 'bg-gray-100 text-gray-800';
      default: return 'bg-gray-100 text-gray-800';
    }
  };

  const totalRevenue = subscriptions
    .filter(sub => sub.status === 'active')
    .reduce((sum, sub) => sum + sub.amount, 0);

  const activeSubscriptions = subscriptions.filter(sub => sub.status === 'active').length;
  const trialUsers = subscriptions.filter(sub => sub.status === 'trial').length;
  const churnRate = (subscriptions.filter(sub => sub.status === 'cancelled').length / subscriptions.length * 100).toFixed(1);

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div className="mb-8">
          <h1 className="text-3xl font-bold text-gray-900 mb-2">Subscription Management</h1>
          <p className="text-gray-600">Manage user subscriptions and billing</p>
        </div>

        {/* Summary Cards */}
        <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
          <div className="bg-white rounded-lg shadow p-6">
            <div className="flex items-center">
              <div className="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                <i className="ri-money-dollar-circle-line text-green-600 text-xl"></i>
              </div>
              <div className="ml-4">
                <p className="text-sm font-medium text-gray-600">Monthly Revenue</p>
                <p className="text-2xl font-bold text-gray-900">${totalRevenue.toLocaleString()}</p>
              </div>
            </div>
          </div>

          <div className="bg-white rounded-lg shadow p-6">
            <div className="flex items-center">
              <div className="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                <i className="ri-user-line text-blue-600 text-xl"></i>
              </div>
              <div className="ml-4">
                <p className="text-sm font-medium text-gray-600">Active Subscriptions</p>
                <p className="text-2xl font-bold text-gray-900">{activeSubscriptions}</p>
              </div>
            </div>
          </div>

          <div className="bg-white rounded-lg shadow p-6">
            <div className="flex items-center">
              <div className="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                <i className="ri-time-line text-purple-600 text-xl"></i>
              </div>
              <div className="ml-4">
                <p className="text-sm font-medium text-gray-600">Trial Users</p>
                <p className="text-2xl font-bold text-gray-900">{trialUsers}</p>
              </div>
            </div>
          </div>

          <div className="bg-white rounded-lg shadow p-6">
            <div className="flex items-center">
              <div className="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center">
                <i className="ri-arrow-down-line text-red-600 text-xl"></i>
              </div>
              <div className="ml-4">
                <p className="text-sm font-medium text-gray-600">Churn Rate</p>
                <p className="text-2xl font-bold text-gray-900">{churnRate}%</p>
              </div>
            </div>
          </div>
        </div>

        <div className="bg-white rounded-lg shadow">
          <div className="px-6 py-4 border-b border-gray-200">
            <div className="flex items-center justify-between">
              <h2 className="text-lg font-semibold text-gray-900">Subscriptions ({filteredSubscriptions.length})</h2>
              <div className="flex space-x-3">
                <button className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap">
                  Export CSV
                </button>
                <button className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap">
                  Send Notifications
                </button>
              </div>
            </div>
          </div>

          <div className="p-6">
            <div className="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">Search</label>
                <div className="relative">
                  <i className="ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                  <input
                    type="text"
                    value={searchTerm}
                    onChange={(e) => setSearchTerm(e.target.value)}
                    placeholder="Search subscriptions..."
                    className="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                </div>
              </div>
              
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">Plan</label>
                <select
                  value={filterPlan}
                  onChange={(e) => setFilterPlan(e.target.value)}
                  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8"
                >
                  {plans.map((plan) => (
                    <option key={plan} value={plan}>
                      {plan === 'all' ? 'All Plans' : plan.charAt(0).toUpperCase() + plan.slice(1)}
                    </option>
                  ))}
                </select>
              </div>

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">Status</label>
                <select
                  value={filterStatus}
                  onChange={(e) => setFilterStatus(e.target.value)}
                  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8"
                >
                  {statuses.map((status) => (
                    <option key={status} value={status}>
                      {status === 'all' ? 'All Status' : status.charAt(0).toUpperCase() + status.slice(1)}
                    </option>
                  ))}
                </select>
              </div>

              <div className="flex items-end">
                <button className="w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap">
                  Clear Filters
                </button>
              </div>
            </div>

            {selectedSubscriptions.length > 0 && (
              <div className="mb-4 p-3 bg-blue-50 rounded-lg flex items-center justify-between">
                <span className="text-sm text-blue-800">
                  {selectedSubscriptions.length} subscription(s) selected
                </span>
                <div className="flex space-x-2">
                  <button className="px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors whitespace-nowrap">
                    Bulk Action
                  </button>
                  <button className="px-3 py-1 border border-blue-300 text-blue-700 rounded text-sm hover:bg-blue-100 transition-colors whitespace-nowrap">
                    Send Email
                  </button>
                </div>
              </div>
            )}

            <div className="overflow-x-auto">
              <table className="w-full">
                <thead className="bg-gray-50">
                  <tr>
                    <th className="px-6 py-3 text-left">
                      <input
                        type="checkbox"
                        checked={selectedSubscriptions.length === filteredSubscriptions.length && filteredSubscriptions.length > 0}
                        onChange={handleSelectAll}
                        className="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                      />
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      User
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Plan
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Status
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Amount
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Next Billing
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Actions
                    </th>
                  </tr>
                </thead>
                <tbody className="bg-white divide-y divide-gray-200">
                  {filteredSubscriptions.map((subscription) => (
                    <tr key={subscription.id} className="hover:bg-gray-50">
                      <td className="px-6 py-4">
                        <input
                          type="checkbox"
                          checked={selectedSubscriptions.includes(subscription.id)}
                          onChange={() => handleSelectSubscription(subscription.id)}
                          className="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                        />
                      </td>
                      <td className="px-6 py-4">
                        <div>
                          <div className="font-medium text-gray-900">{subscription.userName}</div>
                          <div className="text-sm text-gray-600">{subscription.userEmail}</div>
                          <div className="text-xs text-gray-500">{subscription.id}</div>
                        </div>
                      </td>
                      <td className="px-6 py-4">
                        <span className={`px-2 py-1 text-xs font-medium rounded-full ${getPlanColor(subscription.plan)}`}>
                          {subscription.plan}
                        </span>
                      </td>
                      <td className="px-6 py-4">
                        <select
                          value={subscription.status}
                          onChange={(e) => handleStatusChange(subscription.id, e.target.value)}
                          className={`px-2 py-1 text-xs font-medium rounded-full border-0 ${getStatusColor(subscription.status)} pr-8`}
                        >
                          <option value="active">Active</option>
                          <option value="trial">Trial</option>
                          <option value="cancelled">Cancelled</option>
                          <option value="expired">Expired</option>
                        </select>
                      </td>
                      <td className="px-6 py-4">
                        <div className="text-sm text-gray-900">
                          {subscription.amount > 0 ? `$${subscription.amount}/mo` : 'Free'}
                        </div>
                        <div className="text-xs text-gray-500">{subscription.paymentMethod}</div>
                      </td>
                      <td className="px-6 py-4 text-sm text-gray-900">
                        {subscription.nextBilling !== '-' 
                          ? new Date(subscription.nextBilling).toLocaleDateString()
                          : '-'
                        }
                      </td>
                      <td className="px-6 py-4">
                        <div className="flex space-x-2">
                          <button className="text-blue-600 hover:text-blue-800 text-sm">
                            View
                          </button>
                          <button className="text-green-600 hover:text-green-800 text-sm">
                            Extend
                          </button>
                          <button 
                            onClick={() => handleRefund(subscription)}
                            className="text-red-600 hover:text-red-800 text-sm"
                          >
                            Refund
                          </button>
                        </div>
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>

            {filteredSubscriptions.length === 0 && (
              <div className="text-center py-8">
                <i className="ri-bill-line text-4xl text-gray-400 mb-4"></i>
                <h3 className="text-lg font-medium text-gray-900 mb-2">No subscriptions found</h3>
                <p className="text-gray-600">Try adjusting your search criteria</p>
              </div>
            )}
          </div>
        </div>

        {/* Refund Modal */}
        {showRefundModal && selectedSubscription && (
          <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div className="bg-white rounded-lg p-6 w-full max-w-md mx-4">
              <h3 className="text-lg font-semibold text-gray-900 mb-4">Process Refund</h3>
              <div className="space-y-4">
                <div>
                  <p className="text-sm text-gray-600">User: {selectedSubscription.userName}</p>
                  <p className="text-sm text-gray-600">Plan: {selectedSubscription.plan}</p>
                  <p className="text-sm text-gray-600">Amount: ${selectedSubscription.amount}</p>
                </div>
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">Refund Reason</label>
                  <select className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8">
                    <option value="">Select reason</option>
                    <option value="customer-request">Customer Request</option>
                    <option value="billing-error">Billing Error</option>
                    <option value="service-issue">Service Issue</option>
                    <option value="other">Other</option>
                  </select>
                </div>
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">Notes</label>
                  <textarea
                    rows={3}
                    className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
                    placeholder="Additional notes..."
                  />
                </div>
              </div>
              <div className="flex justify-end space-x-3 mt-6">
                <button 
                  onClick={() => setShowRefundModal(false)}
                  className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap"
                >
                  Cancel
                </button>
                <button 
                  onClick={processRefund}
                  className="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors whitespace-nowrap"
                >
                  Process Refund
                </button>
              </div>
            </div>
          </div>
        )}
      </div>
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\admin\users\page.tsx
---- CONTENT ----

import { useState, useEffect } from 'react';
import Header from '../../../components/feature/Header';
import LoadingSpinner from '../../../components/effects/LoadingSpinner';
import { adminService } from '../../../api';
import type { UserProfile } from '../../../api/types';

interface User {
  id: string;
  name: string;
  email: string;
  plan: 'free' | 'basic' | 'pro' | 'premium';
  status: 'active' | 'inactive' | 'suspended';
  joinedAt: string;
  lastActive: string;
  questionsAnswered: number;
  testsCompleted: number;
}

const mockUsers: User[] = [
  {
    id: '1',
    name: 'Sarah Chen',
    email: 'sarah.chen@email.com',
    plan: 'pro',
    status: 'active',
    joinedAt: '2024-01-10',
    lastActive: '2024-01-15T14:30:00Z',
    questionsAnswered: 1247,
    testsCompleted: 23
  },
  {
    id: '2',
    name: 'Mike Rodriguez',
    email: 'mike.rodriguez@email.com',
    plan: 'premium',
    status: 'active',
    joinedAt: '2024-01-08',
    lastActive: '2024-01-15T13:15:00Z',
    questionsAnswered: 892,
    testsCompleted: 18
  },
  {
    id: '3',
    name: 'Emily Johnson',
    email: 'emily.johnson@email.com',
    plan: 'basic',
    status: 'active',
    joinedAt: '2024-01-12',
    lastActive: '2024-01-14T16:45:00Z',
    questionsAnswered: 456,
    testsCompleted: 8
  },
  {
    id: '4',
    name: 'David Kim',
    email: 'david.kim@email.com',
    plan: 'free',
    status: 'inactive',
    joinedAt: '2024-01-05',
    lastActive: '2024-01-10T09:20:00Z',
    questionsAnswered: 123,
    testsCompleted: 2
  }
];

export default function AdminUsers() {
  const [users, setUsers] = useState<User[]>(mockUsers);
  const [searchTerm, setSearchTerm] = useState('');
  const [filterPlan, setFilterPlan] = useState('all');
  const [filterStatus, setFilterStatus] = useState('all');
  const [selectedUsers, setSelectedUsers] = useState<string[]>([]);
  const [showUserModal, setShowUserModal] = useState(false);
  const [selectedUser, setSelectedUser] = useState<User | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');

  useEffect(() => {
    const fetchUsers = async () => {
      try {
        const data = await adminService.getUsers({
          search: searchTerm,
          limit: 100
        });
        
        const mappedUsers: User[] = data.users.map((user: UserProfile) => ({
          id: user.id,
          name: `${user.first_name} ${user.last_name}`,
          email: user.email,
          plan: (user.subscription?.plan || 'free') as 'free' | 'basic' | 'pro' | 'premium',
          status: user.is_verified ? 'active' : 'inactive' as 'active' | 'inactive' | 'suspended',
          joinedAt: user.created_at,
          lastActive: user.updated_at,
          questionsAnswered: user.questions_completed || 0,
          testsCompleted: user.practice_tests_taken || 0
        }));
        
        setUsers(mappedUsers);
      } catch (err) {
        setError(err instanceof Error ? err.message : 'Failed to load users');
        // Keep mock data on error
      } finally {
        setLoading(false);
      }
    };

    fetchUsers();
  }, [searchTerm]);

  const filteredUsers = users.filter(user => {
    const matchesSearch = user.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         user.email.toLowerCase().includes(searchTerm.toLowerCase());
    const matchesPlan = filterPlan === 'all' || user.plan === filterPlan;
    const matchesStatus = filterStatus === 'all' || user.status === filterStatus;
    return matchesSearch && matchesPlan && matchesStatus;
  });

  const handleSelectUser = (userId: string) => {
    setSelectedUsers(prev => 
      prev.includes(userId) 
        ? prev.filter(id => id !== userId)
        : [...prev, userId]
    );
  };

  const handleSelectAll = () => {
    if (selectedUsers.length === filteredUsers.length) {
      setSelectedUsers([]);
    } else {
      setSelectedUsers(filteredUsers.map(user => user.id));
    }
  };

  const handleEditUser = (user: User) => {
    setSelectedUser(user);
    setShowUserModal(true);
  };

  const handleSuspendUser = (userId: string) => {
    setUsers(prev => prev.map(user => 
      user.id === userId 
        ? { ...user, status: user.status === 'suspended' ? 'active' : 'suspended' as const }
        : user
    ));
  };

  const getPlanColor = (plan: string) => {
    switch (plan) {
      case 'free': return 'bg-gray-100 text-gray-800';
      case 'basic': return 'bg-blue-100 text-blue-800';
      case 'pro': return 'bg-purple-100 text-purple-800';
      case 'premium': return 'bg-yellow-100 text-yellow-800';
      default: return 'bg-gray-100 text-gray-800';
    }
  };

  const getStatusColor = (status: string) => {
    switch (status) {
      case 'active': return 'bg-green-100 text-green-800';
      case 'inactive': return 'bg-gray-100 text-gray-800';
      case 'suspended': return 'bg-red-100 text-red-800';
      default: return 'bg-gray-100 text-gray-800';
    }
  };

  const formatLastActive = (timestamp: string) => {
    const now = new Date();
    const lastActive = new Date(timestamp);
    const diffHours = Math.floor((now.getTime() - lastActive.getTime()) / (1000 * 60 * 60));
    
    if (diffHours < 1) return 'Just now';
    if (diffHours < 24) return `${diffHours}h ago`;
    return `${Math.floor(diffHours / 24)}d ago`;
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-50">
        <Header />
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <div className="flex items-center justify-center h-96">
            <LoadingSpinner size="lg" />
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        {error && (
          <div className="mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
            <div className="flex items-center">
              <i className="ri-information-line text-yellow-600 text-xl mr-3"></i>
              <p className="text-yellow-800">Using cached data. {error}</p>
            </div>
          </div>
        )}
        <div className="mb-8">
          <h1 className="text-3xl font-bold text-gray-900 mb-2">User Management</h1>
          <p className="text-gray-600">Manage user accounts and subscriptions</p>
        </div>

        <div className="bg-white rounded-lg shadow">
          <div className="px-6 py-4 border-b border-gray-200">
            <div className="flex items-center justify-between">
              <h2 className="text-lg font-semibold text-gray-900">Users ({filteredUsers.length})</h2>
              <div className="flex space-x-3">
                <button className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap">
                  Export CSV
                </button>
                <button className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap">
                  Add User
                </button>
              </div>
            </div>
          </div>

          <div className="p-6">
            <div className="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">Search Users</label>
                <div className="relative">
                  <i className="ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                  <input
                    type="text"
                    value={searchTerm}
                    onChange={(e) => setSearchTerm(e.target.value)}
                    placeholder="Search by name or email..."
                    className="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                </div>
              </div>
              
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">Plan</label>
                <select
                  value={filterPlan}
                  onChange={(e) => setFilterPlan(e.target.value)}
                  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8"
                >
                  <option value="all">All Plans</option>
                  <option value="free">Free</option>
                  <option value="basic">Basic</option>
                  <option value="pro">Pro</option>
                  <option value="premium">Premium</option>
                </select>
              </div>

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">Status</label>
                <select
                  value={filterStatus}
                  onChange={(e) => setFilterStatus(e.target.value)}
                  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8"
                >
                  <option value="all">All Status</option>
                  <option value="active">Active</option>
                  <option value="inactive">Inactive</option>
                  <option value="suspended">Suspended</option>
                </select>
              </div>

              <div className="flex items-end">
                <button className="w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap">
                  Clear Filters
                </button>
              </div>
            </div>

            {selectedUsers.length > 0 && (
              <div className="mb-4 p-3 bg-blue-50 rounded-lg flex items-center justify-between">
                <span className="text-sm text-blue-800">
                  {selectedUsers.length} user(s) selected
                </span>
                <div className="flex space-x-2">
                  <button className="px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors whitespace-nowrap">
                    Bulk Edit
                  </button>
                  <button className="px-3 py-1 border border-blue-300 text-blue-700 rounded text-sm hover:bg-blue-100 transition-colors whitespace-nowrap">
                    Export Selected
                  </button>
                </div>
              </div>
            )}

            <div className="overflow-x-auto">
              <table className="w-full">
                <thead className="bg-gray-50">
                  <tr>
                    <th className="px-6 py-3 text-left">
                      <input
                        type="checkbox"
                        checked={selectedUsers.length === filteredUsers.length && filteredUsers.length > 0}
                        onChange={handleSelectAll}
                        className="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                      />
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      User
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Plan
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Status
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Activity
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Joined
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Actions
                    </th>
                  </tr>
                </thead>
                <tbody className="bg-white divide-y divide-gray-200">
                  {filteredUsers.map((user) => (
                    <tr key={user.id} className="hover:bg-gray-50">
                      <td className="px-6 py-4">
                        <input
                          type="checkbox"
                          checked={selectedUsers.includes(user.id)}
                          onChange={() => handleSelectUser(user.id)}
                          className="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                        />
                      </td>
                      <td className="px-6 py-4">
                        <div>
                          <div className="font-medium text-gray-900">{user.name}</div>
                          <div className="text-sm text-gray-600">{user.email}</div>
                        </div>
                      </td>
                      <td className="px-6 py-4">
                        <span className={`px-2 py-1 text-xs font-medium rounded-full ${getPlanColor(user.plan)}`}>
                          {user.plan}
                        </span>
                      </td>
                      <td className="px-6 py-4">
                        <span className={`px-2 py-1 text-xs font-medium rounded-full ${getStatusColor(user.status)}`}>
                          {user.status}
                        </span>
                      </td>
                      <td className="px-6 py-4">
                        <div className="text-sm text-gray-900">{user.questionsAnswered} questions</div>
                        <div className="text-sm text-gray-600">{user.testsCompleted} tests</div>
                        <div className="text-xs text-gray-500">Last: {formatLastActive(user.lastActive)}</div>
                      </td>
                      <td className="px-6 py-4 text-sm text-gray-600">
                        {new Date(user.joinedAt).toLocaleDateString()}
                      </td>
                      <td className="px-6 py-4">
                        <div className="flex space-x-2">
                          <button 
                            onClick={() => handleEditUser(user)}
                            className="text-blue-600 hover:text-blue-800 text-sm"
                          >
                            Edit
                          </button>
                          <button 
                            onClick={() => handleSuspendUser(user.id)}
                            className={`text-sm ${
                              user.status === 'suspended' 
                                ? 'text-green-600 hover:text-green-800' 
                                : 'text-red-600 hover:text-red-800'
                            }`}
                          >
                            {user.status === 'suspended' ? 'Unsuspend' : 'Suspend'}
                          </button>
                        </div>
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>

            {filteredUsers.length === 0 && (
              <div className="text-center py-8">
                <i className="ri-user-line text-4xl text-gray-400 mb-4"></i>
                <h3 className="text-lg font-medium text-gray-900 mb-2">No users found</h3>
                <p className="text-gray-600">Try adjusting your search criteria</p>
              </div>
            )}
          </div>
        </div>

        {showUserModal && selectedUser && (
          <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div className="bg-white rounded-lg p-6 w-full max-w-md mx-4">
              <h3 className="text-lg font-semibold text-gray-900 mb-4">Edit User</h3>
              <div className="space-y-4">
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">Name</label>
                  <input
                    type="text"
                    defaultValue={selectedUser.name}
                    className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                </div>
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">Email</label>
                  <input
                    type="email"
                    defaultValue={selectedUser.email}
                    className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                </div>
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">Plan</label>
                  <select
                    defaultValue={selectedUser.plan}
                    className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8"
                  >
                    <option value="free">Free</option>
                    <option value="basic">Basic</option>
                    <option value="pro">Pro</option>
                    <option value="premium">Premium</option>
                  </select>
                </div>
              </div>
              <div className="flex justify-end space-x-3 mt-6">
                <button 
                  onClick={() => setShowUserModal(false)}
                  className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap"
                >
                  Cancel
                </button>
                <button 
                  onClick={() => setShowUserModal(false)}
                  className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap"
                >
                  Save Changes
                </button>
              </div>
            </div>
          </div>
        )}
      </div>
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\analytics\page.tsx
---- CONTENT ----

import { useEffect, useState } from 'react';
import Header from '../../components/feature/Header';
import MobileNavigation from '../../components/feature/MobileNavigation';
import Card from '../../components/base/Card';
import Button from '../../components/base/Button';
import LoadingSpinner from '../../components/effects/LoadingSpinner';
import { updateSEO } from '../../utils/seo';
import { dashboardService } from '../../api';
import type { AnalyticsData } from '../../api/types';

export default function Analytics() {
  const [selectedTimeRange, setSelectedTimeRange] = useState<'7d' | '30d' | '90d' | 'all'>('30d');
  const [selectedMetric, setSelectedMetric] = useState('accuracy');
  const [analyticsData, setAnalyticsData] = useState<AnalyticsData | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');

  useEffect(() => {
    updateSEO({
      title: 'Analytics Dashboard - NPPE Pro',
      description: 'Track your progress and identify areas for improvement',
      keywords: 'analytics, progress tracking, NPPE',
      canonical: '/analytics'
    });
  }, []);

  useEffect(() => {
    const fetchAnalytics = async () => {
      setLoading(true);
      setError('');
      try {
        const data = await dashboardService.getAnalytics(selectedTimeRange);
        setAnalyticsData(data);
      } catch (err) {
        setError(err instanceof Error ? err.message : 'Failed to load analytics');
      } finally {
        setLoading(false);
      }
    };

    fetchAnalytics();
  }, [selectedTimeRange]);

  const timeRanges: { id: '7d' | '30d' | '90d' | 'all', name: string }[] = [
    { id: '7d', name: 'Last 7 Days' },
    { id: '30d', name: 'Last 30 Days' },
    { id: '90d', name: 'Last 3 Months' },
    { id: 'all', name: 'All Time' }
  ];

  const overallStats = [
    {
      title: 'Questions Answered',
      value: '1,247',
      change: '+23%',
      changeType: 'positive',
      icon: 'ri-question-line',
      color: 'blue'
    },
    {
      title: 'Average Accuracy',
      value: '78%',
      change: '+5%',
      changeType: 'positive',
      icon: 'ri-target-line',
      color: 'green'
    },
    {
      title: 'Study Time',
      value: '42.5h',
      change: '+12%',
      changeType: 'positive',
      icon: 'ri-time-line',
      color: 'purple'
    },
    {
      title: 'Practice Tests',
      value: '18',
      change: '+3',
      changeType: 'positive',
      icon: 'ri-file-text-line',
      color: 'orange'
    }
  ];

  const topicPerformance = [
    { topic: 'Professional Practice', accuracy: 85, questions: 156, timeSpent: '8.2h', trend: 'up' },
    { topic: 'Ethics', accuracy: 82, questions: 142, timeSpent: '7.5h', trend: 'up' },
    { topic: 'Engineering Law', accuracy: 76, questions: 128, timeSpent: '6.8h', trend: 'stable' },
    { topic: 'Liability', accuracy: 74, questions: 118, timeSpent: '6.2h', trend: 'up' },
    { topic: 'Contracts', accuracy: 68, questions: 98, timeSpent: '5.1h', trend: 'down' },
    { topic: 'Sustainability', accuracy: 71, questions: 89, timeSpent: '4.8h', trend: 'up' },
    { topic: 'Project Management', accuracy: 65, questions: 76, timeSpent: '4.2h', trend: 'down' },
    { topic: 'Leadership', accuracy: 69, questions: 82, timeSpent: '3.9h', trend: 'stable' }
  ];

  const weeklyProgress = [
    { week: 'Week 1', questions: 45, accuracy: 72, timeSpent: 3.2 },
    { week: 'Week 2', questions: 62, accuracy: 75, timeSpent: 4.1 },
    { week: 'Week 3', questions: 58, accuracy: 78, timeSpent: 3.8 },
    { week: 'Week 4', questions: 71, accuracy: 80, timeSpent: 4.5 },
    { week: 'Week 5', questions: 69, accuracy: 82, timeSpent: 4.2 },
    { week: 'Week 6', questions: 74, accuracy: 79, timeSpent: 4.8 },
    { week: 'Week 7', questions: 68, accuracy: 81, timeSpent: 4.3 },
    { week: 'Week 8', questions: 76, accuracy: 83, timeSpent: 5.1 }
  ];

  const recentTests = [
    {
      id: 1,
      name: 'Full NPPE Simulation #5',
      date: '2024-01-15',
      score: 82,
      questions: 100,
      timeSpent: '2h 45m',
      status: 'completed'
    },
    {
      id: 2,
      name: 'Ethics Focus Test',
      date: '2024-01-12',
      score: 88,
      questions: 25,
      timeSpent: '42m',
      status: 'completed'
    },
    {
      id: 3,
      name: 'Professional Practice Quiz',
      date: '2024-01-10',
      score: 76,
      questions: 30,
      timeSpent: '38m',
      status: 'completed'
    },
    {
      id: 4,
      name: 'Mixed Topics Test',
      date: '2024-01-08',
      score: 79,
      questions: 50,
      timeSpent: '1h 15m',
      status: 'completed'
    }
  ];

  const getColorClasses = (color: string) => {
    const colorMap: { [key: string]: string } = {
      blue: 'text-blue-600 bg-blue-100',
      green: 'text-green-600 bg-green-100',
      purple: 'text-purple-600 bg-purple-100',
      orange: 'text-orange-600 bg-orange-100'
    };
    return colorMap[color] || 'text-gray-600 bg-gray-100';
  };

  const getTrendIcon = (trend: string) => {
    switch (trend) {
      case 'up': return 'ri-arrow-up-line text-green-600';
      case 'down': return 'ri-arrow-down-line text-red-600';
      case 'stable': return 'ri-subtract-line text-gray-600';
      default: return 'ri-subtract-line text-gray-600';
    }
  };

  const getScoreColor = (score: number) => {
    if (score >= 80) return 'text-green-600';
    if (score >= 70) return 'text-yellow-600';
    return 'text-red-600';
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-50">
        <Header />
        <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-24">
          <div className="flex items-center justify-center h-96">
            <LoadingSpinner size="lg" />
          </div>
        </main>
        <MobileNavigation />
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-24">
        {error && (
          <div className="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg">
            <div className="flex items-center">
              <i className="ri-error-warning-line text-red-600 text-xl mr-3"></i>
              <p className="text-red-800">{error}</p>
            </div>
          </div>
        )}
        {/* Header */}
        <div className="flex items-center justify-between mb-8">
          <div>
            <h1 className="text-3xl font-bold text-gray-900 mb-2">
              Analytics Dashboard
            </h1>
            <p className="text-gray-600">
              Track your progress and identify areas for improvement.
            </p>
          </div>
          
          {/* Time Range Selector */}
          <div className="flex items-center space-x-2">
            {timeRanges.map((range) => (
              <button
                key={range.id}
                onClick={() => setSelectedTimeRange(range.id)}
                className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer ${
                  selectedTimeRange === range.id
                    ? 'bg-blue-600 text-white'
                    : 'bg-white text-gray-600 hover:bg-gray-100 border border-gray-300'
                }`}
              >
                {range.name}
              </button>
            ))}
          </div>
        </div>

        {/* Overall Stats */}
        <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
          {overallStats.map((stat, index) => (
            <Card key={index}>
              <div className="flex items-center justify-between">
                <div>
                  <p className="text-sm text-gray-600 mb-1">{stat.title}</p>
                  <p className="text-2xl font-bold text-gray-900">{stat.value}</p>
                  <div className={`flex items-center text-sm mt-1 ${
                    stat.changeType === 'positive' ? 'text-green-600' : 'text-red-600'
                  }`}>
                    <i className={`${stat.changeType === 'positive' ? 'ri-arrow-up-line' : 'ri-arrow-down-line'} mr-1`}></i>
                    <span>{stat.change} from last period</span>
                  </div>
                </div>
                <div className={`w-12 h-12 rounded-lg flex items-center justify-center ${getColorClasses(stat.color)}`}>
                  <i className={`${stat.icon} text-xl`}></i>
                </div>
              </div>
            </Card>
          ))}
        </div>

        <div className="grid lg:grid-cols-3 gap-8 mb-8">
          {/* Weekly Progress Chart */}
          <div className="lg:col-span-2">
            <Card>
              <div className="flex items-center justify-between mb-6">
                <h2 className="text-xl font-semibold text-gray-900">Weekly Progress</h2>
                <div className="flex items-center space-x-2">
                  {['accuracy', 'questions', 'time'].map((metric) => (
                    <button
                      key={metric}
                      onClick={() => setSelectedMetric(metric)}
                      className={`px-3 py-1 rounded-lg text-sm font-medium transition-colors cursor-pointer ${
                        selectedMetric === metric
                          ? 'bg-blue-100 text-blue-700'
                          : 'text-gray-600 hover:bg-gray-100'
                      }`}
                    >
                      {metric.charAt(0).toUpperCase() + metric.slice(1)}
                    </button>
                  ))}
                </div>
              </div>
              
              {/* Simple Chart Representation */}
              <div className="space-y-4">
                {weeklyProgress.map((week, index) => {
                  const value = selectedMetric === 'accuracy' ? week.accuracy : 
                               selectedMetric === 'questions' ? week.questions : 
                               week.timeSpent;
                  const maxValue = selectedMetric === 'accuracy' ? 100 : 
                                  selectedMetric === 'questions' ? 80 : 6;
                  const percentage = (value / maxValue) * 100;
                  
                  return (
                    <div key={index} className="flex items-center space-x-4">
                      <div className="w-16 text-sm text-gray-600">{week.week}</div>
                      <div className="flex-1 bg-gray-200 rounded-full h-3">
                        <div 
                          className="bg-blue-600 h-3 rounded-full transition-all duration-500"
                          style={{ width: `${percentage}%` }}
                        ></div>
                      </div>
                      <div className="w-12 text-sm font-medium text-gray-900">
                        {selectedMetric === 'accuracy' ? `${value}%` : 
                         selectedMetric === 'questions' ? value : 
                         `${value}h`}
                      </div>
                    </div>
                  );
                })}
              </div>
            </Card>
          </div>

          {/* Recent Test Results */}
          <div>
            <Card>
              <h2 className="text-xl font-semibold text-gray-900 mb-6">Recent Tests</h2>
              <div className="space-y-4">
                {recentTests.map((test) => (
                  <div key={test.id} className="p-3 border border-gray-200 rounded-lg">
                    <div className="flex items-center justify-between mb-2">
                      <h3 className="font-medium text-gray-900 text-sm">{test.name}</h3>
                      <span className={`text-lg font-bold ${getScoreColor(test.score)}`}>
                        {test.score}%
                      </span>
                    </div>
                    <div className="text-xs text-gray-600 space-y-1">
                      <div className="flex justify-between">
                        <span>Date:</span>
                        <span>{test.date}</span>
                      </div>
                      <div className="flex justify-between">
                        <span>Questions:</span>
                        <span>{test.questions}</span>
                      </div>
                      <div className="flex justify-between">
                        <span>Time:</span>
                        <span>{test.timeSpent}</span>
                      </div>
                    </div>
                  </div>
                ))}
              </div>
              <Button variant="secondary" className="w-full mt-4">
                View All Tests
              </Button>
            </Card>
          </div>
        </div>

        {/* Topic Performance */}
        <Card>
          <h2 className="text-xl font-semibold text-gray-900 mb-6">Performance by Topic</h2>
          <div className="overflow-x-auto">
            <table className="w-full">
              <thead>
                <tr className="border-b border-gray-200">
                  <th className="text-left py-3 px-4 font-medium text-gray-900">Topic</th>
                  <th className="text-center py-3 px-4 font-medium text-gray-900">Accuracy</th>
                  <th className="text-center py-3 px-4 font-medium text-gray-900">Questions</th>
                  <th className="text-center py-3 px-4 font-medium text-gray-900">Time Spent</th>
                  <th className="text-center py-3 px-4 font-medium text-gray-900">Trend</th>
                  <th className="text-center py-3 px-4 font-medium text-gray-900">Action</th>
                </tr>
              </thead>
              <tbody>
                {topicPerformance.map((topic, index) => (
                  <tr key={index} className="border-b border-gray-100 hover:bg-gray-50">
                    <td className="py-3 px-4">
                      <span className="font-medium text-gray-900">{topic.topic}</span>
                    </td>
                    <td className="py-3 px-4 text-center">
                      <span className={`font-semibold ${getScoreColor(topic.accuracy)}`}>
                        {topic.accuracy}%
                      </span>
                    </td>
                    <td className="py-3 px-4 text-center text-gray-600">
                      {topic.questions}
                    </td>
                    <td className="py-3 px-4 text-center text-gray-600">
                      {topic.timeSpent}
                    </td>
                    <td className="py-3 px-4 text-center">
                      <i className={getTrendIcon(topic.trend)}></i>
                    </td>
                    <td className="py-3 px-4 text-center">
                      <Button variant="secondary" size="sm">
                        Practice
                      </Button>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        </Card>

        {/* Insights and Recommendations */}
        <Card className="mt-8 bg-gradient-to-r from-blue-50 to-blue-100">
          <h2 className="text-xl font-semibold text-gray-900 mb-4">
            <i className="ri-lightbulb-line mr-2"></i>
            Insights & Recommendations
          </h2>
          <div className="grid md:grid-cols-2 gap-6">
            <div>
              <h3 className="font-medium text-gray-900 mb-3">Strengths</h3>
              <ul className="space-y-2 text-sm text-gray-700">
                <li className="flex items-center">
                  <i className="ri-check-circle-line text-green-600 mr-2"></i>
                  Strong performance in Professional Practice (85% accuracy)
                </li>
                <li className="flex items-center">
                  <i className="ri-check-circle-line text-green-600 mr-2"></i>
                  Consistent improvement in Ethics over time
                </li>
                <li className="flex items-center">
                  <i className="ri-check-circle-line text-green-600 mr-2"></i>
                  Good study consistency with regular practice
                </li>
              </ul>
            </div>
            <div>
              <h3 className="font-medium text-gray-900 mb-3">Areas for Improvement</h3>
              <ul className="space-y-2 text-sm text-gray-700">
                <li className="flex items-center">
                  <i className="ri-alert-circle-line text-orange-600 mr-2"></i>
                  Focus more on Project Management (65% accuracy)
                </li>
                <li className="flex items-center">
                  <i className="ri-alert-circle-line text-orange-600 mr-2"></i>
                  Contracts topic needs additional practice
                </li>
                <li className="flex items-center">
                  <i className="ri-alert-circle-line text-orange-600 mr-2"></i>
                  Consider taking more full-length practice tests
                </li>
              </ul>
            </div>
          </div>
        </Card>
      </main>

      <MobileNavigation />
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\blog\page.tsx
---- CONTENT ----

import { useEffect, useState } from 'react';
import Header from '../../components/feature/Header';
import MobileNavigation from '../../components/feature/MobileNavigation';
import Card from '../../components/base/Card';
import Button from '../../components/base/Button';
import { updateSEO, seoData } from '../../utils/seo';

export default function Blog() {
  const [selectedCategory, setSelectedCategory] = useState('all');
  const [searchQuery, setSearchQuery] = useState('');

  useEffect(() => {
    updateSEO(seoData.blog);
  }, []);

  const categories = [
    { id: 'all', name: 'All Posts', count: 24 },
    { id: 'study-tips', name: 'Study Tips', count: 8 },
    { id: 'success-stories', name: 'Success Stories', count: 6 },
    { id: 'exam-prep', name: 'Exam Preparation', count: 5 },
    { id: 'engineering', name: 'Engineering Topics', count: 5 }
  ];

  const blogPosts = [
    {
      id: 1,
      title: 'How to Create an Effective NPPE Study Schedule',
      excerpt: 'Learn the proven strategies for organizing your study time and maximizing retention for the NPPE exam.',
      category: 'study-tips',
      author: 'Dr. Sarah Mitchell',
      date: '2024-01-15',
      readTime: '8 min read',
      image: 'professional engineer studying at desk with books and laptop organized workspace modern lighting focused concentration',
      tags: ['Study Planning', 'Time Management', 'NPPE']
    },
    {
      id: 2,
      title: 'From Engineer to P.Eng: My NPPE Journey',
      excerpt: 'A mechanical engineer shares their complete journey from preparation to passing the NPPE exam on the first attempt.',
      category: 'success-stories',
      author: 'Michael Rodriguez',
      date: '2024-01-12',
      readTime: '12 min read',
      image: 'successful professional engineer celebrating achievement office environment diploma certificate modern workspace',
      tags: ['Success Story', 'Mechanical Engineering', 'Career']
    },
    {
      id: 3,
      title: 'Understanding Professional Ethics in Engineering',
      excerpt: 'Deep dive into the ethical principles that form the foundation of professional engineering practice.',
      category: 'engineering',
      author: 'Prof. Jennifer Liu',
      date: '2024-01-10',
      readTime: '15 min read',
      image: 'engineering ethics concept professional responsibility modern office environment business meeting discussion',
      tags: ['Ethics', 'Professional Practice', 'Engineering Law']
    },
    {
      id: 4,
      title: 'Top 10 Common NPPE Exam Mistakes to Avoid',
      excerpt: 'Learn from the most frequent errors candidates make and how to avoid them in your exam preparation.',
      category: 'exam-prep',
      author: 'David Thompson',
      date: '2024-01-08',
      readTime: '10 min read',
      image: 'exam preparation mistakes checklist professional engineer reviewing notes study materials organized desk',
      tags: ['Exam Tips', 'Common Mistakes', 'Preparation']
    },
    {
      id: 5,
      title: 'Managing Engineering Projects: A P.Eng Perspective',
      excerpt: 'Essential project management skills every professional engineer needs to master for career success.',
      category: 'engineering',
      author: 'Lisa Chen',
      date: '2024-01-05',
      readTime: '14 min read',
      image: 'engineering project management team meeting blueprints construction plans professional office environment',
      tags: ['Project Management', 'Leadership', 'Professional Skills']
    },
    {
      id: 6,
      title: 'How I Passed NPPE While Working Full-Time',
      excerpt: 'Balancing work, family, and exam preparation - practical strategies that actually work.',
      category: 'success-stories',
      author: 'Robert Kim',
      date: '2024-01-03',
      readTime: '11 min read',
      image: 'busy professional engineer balancing work and study laptop books office environment time management',
      tags: ['Work-Life Balance', 'Time Management', 'Success Story']
    }
  ];

  const filteredPosts = blogPosts.filter(post => {
    const matchesCategory = selectedCategory === 'all' || post.category === selectedCategory;
    const matchesSearch = post.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
                         post.excerpt.toLowerCase().includes(searchQuery.toLowerCase()) ||
                         post.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase()));
    return matchesCategory && matchesSearch;
  });

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-24">
        {/* Hero Section */}
        <div className="text-center mb-12">
          <h1 className="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
            Engineering Insights & Resources
          </h1>
          <p className="text-xl text-gray-600 max-w-3xl mx-auto">
            Expert advice, study tips, and success stories to help you excel in your engineering career and NPPE preparation.
          </p>
        </div>

        {/* Search and Filters */}
        <div className="mb-8">
          <div className="flex flex-col md:flex-row gap-4 items-center justify-between">
            {/* Search Bar */}
            <div className="relative flex-1 max-w-md">
              <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <i className="ri-search-line text-gray-400"></i>
              </div>
              <input
                type="text"
                value={searchQuery}
                onChange={(e) => setSearchQuery(e.target.value)}
                className="block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                placeholder="Search articles..."
              />
            </div>

            {/* Category Filter */}
            <div className="flex flex-wrap gap-2">
              {categories.map((category) => (
                <button
                  key={category.id}
                  onClick={() => setSelectedCategory(category.id)}
                  className={`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 whitespace-nowrap cursor-pointer ${
                    selectedCategory === category.id
                      ? 'bg-blue-600 text-white'
                      : 'bg-white text-gray-600 hover:bg-gray-100 border border-gray-300'
                  }`}
                >
                  {category.name} ({category.count})
                </button>
              ))}
            </div>
          </div>
        </div>

        {/* Featured Post */}
        {filteredPosts.length > 0 && (
          <Card className="mb-12 overflow-hidden">
            <div className="md:flex">
              <div className="md:w-1/2">
                <img
                  src={`https://readdy.ai/api/search-image?query=$%7BfilteredPosts%5B0%5D.image%7D&width=600&height=400&seq=featured-post&orientation=landscape`}
                  alt={filteredPosts[0].title}
                  className="w-full h-64 md:h-full object-cover"
                />
              </div>
              <div className="md:w-1/2 p-8">
                <div className="flex items-center mb-4">
                  <span className="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full">
                    Featured
                  </span>
                  <span className="ml-2 text-sm text-gray-500">{filteredPosts[0].readTime}</span>
                </div>
                <h2 className="text-2xl md:text-3xl font-bold text-gray-900 mb-4">
                  {filteredPosts[0].title}
                </h2>
                <p className="text-gray-600 mb-6 text-lg">
                  {filteredPosts[0].excerpt}
                </p>
                <div className="flex items-center justify-between">
                  <div className="flex items-center">
                    <img
                      src={`https://readdy.ai/api/search-image?query=professional%20engineer%20author%20portrait%20$%7BfilteredPosts%5B0%5D.author%7D&width=40&height=40&seq=author-${filteredPosts[0].id}&orientation=squarish`}
                      alt={filteredPosts[0].author}
                      className="w-10 h-10 rounded-full object-cover mr-3"
                    />
                    <div>
                      <p className="font-medium text-gray-900">{filteredPosts[0].author}</p>
                      <p className="text-sm text-gray-500">{filteredPosts[0].date}</p>
                    </div>
                  </div>
                  <Button>
                    Read Article
                    <i className="ri-arrow-right-line ml-2"></i>
                  </Button>
                </div>
              </div>
            </div>
          </Card>
        )}

        {/* Blog Posts Grid */}
        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
          {filteredPosts.slice(1).map((post) => (
            <Card key={post.id} className="overflow-hidden hover:shadow-lg transition-shadow cursor-pointer">
              <img
                src={`https://readdy.ai/api/search-image?query=$%7Bpost.image%7D&width=400&height=250&seq=blog-${post.id}&orientation=landscape`}
                alt={post.title}
                className="w-full h-48 object-cover"
              />
              <div className="p-6">
                <div className="flex items-center mb-3">
                  <span className={`text-xs font-medium px-2.5 py-0.5 rounded-full ${
                    post.category === 'study-tips' ? 'bg-green-100 text-green-800' :
                    post.category === 'success-stories' ? 'bg-purple-100 text-purple-800' :
                    post.category === 'exam-prep' ? 'bg-blue-100 text-blue-800' :
                    'bg-orange-100 text-orange-800'
                  }`}>
                    {categories.find(c => c.id === post.category)?.name}
                  </span>
                  <span className="ml-2 text-sm text-gray-500">{post.readTime}</span>
                </div>
                
                <h3 className="text-xl font-bold text-gray-900 mb-3 line-clamp-2">
                  {post.title}
                </h3>
                
                <p className="text-gray-600 mb-4 line-clamp-3">
                  {post.excerpt}
                </p>
                
                <div className="flex flex-wrap gap-2 mb-4">
                  {post.tags.map((tag, index) => (
                    <span key={index} className="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">
                      {tag}
                    </span>
                  ))}
                </div>
                
                <div className="flex items-center justify-between">
                  <div className="flex items-center">
                    <img
                      src={`https://readdy.ai/api/search-image?query=professional%20engineer%20author%20portrait%20$%7Bpost.author%7D&width=32&height=32&seq=author-small-${post.id}&orientation=squarish`}
                      alt={post.author}
                      className="w-8 h-8 rounded-full object-cover mr-2"
                    />
                    <div>
                      <p className="text-sm font-medium text-gray-900">{post.author}</p>
                      <p className="text-xs text-gray-500">{post.date}</p>
                    </div>
                  </div>
                  <Button variant="secondary" size="sm">
                    Read More
                  </Button>
                </div>
              </div>
            </Card>
          ))}
        </div>

        {/* Newsletter Subscription */}
        <Card className="mt-16 text-center bg-gradient-to-r from-blue-50 to-blue-100">
          <div className="max-w-2xl mx-auto">
            <h2 className="text-3xl font-bold text-gray-900 mb-4">
              Stay Updated with Engineering Insights
            </h2>
            <p className="text-lg text-gray-600 mb-8">
              Get the latest study tips, success stories, and engineering resources delivered to your inbox.
            </p>
            <div className="flex flex-col sm:flex-row gap-4 max-w-md mx-auto">
              <input
                type="email"
                placeholder="Enter your email"
                className="flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
              />
              <Button className="whitespace-nowrap">
                Subscribe Now
              </Button>
            </div>
            <p className="text-sm text-gray-500 mt-4">
              No spam, unsubscribe at any time.
            </p>
          </div>
        </Card>
      </main>

      <MobileNavigation />
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\bookmarks\page.tsx
---- CONTENT ----

import { useEffect, useState } from 'react';
import { useNavigate } from 'react-router-dom';
import Header from '../../components/feature/Header';
import MobileNavigation from '../../components/feature/MobileNavigation';
import Card from '../../components/base/Card';
import Button from '../../components/base/Button';
import LoadingSpinner from '../../components/effects/LoadingSpinner';
import { updateSEO } from '../../utils/seo';
import { userService, questionService } from '../../api';
import type { Bookmark } from '../../api/types';

export default function Bookmarks() {
  const [selectedTopic, setSelectedTopic] = useState('all');
  const [sortBy, setSortBy] = useState('recent');
  const [searchQuery, setSearchQuery] = useState('');
  const [bookmarks, setBookmarks] = useState<Bookmark[]>([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const navigate = useNavigate();

  useEffect(() => {
    updateSEO({
      title: 'Bookmarked Questions - NPPE Pro',
      description: 'Review your bookmarked NPPE questions',
      keywords: 'bookmarks, saved questions, NPPE',
      canonical: '/bookmarks'
    });
  }, []);

  useEffect(() => {
    const fetchBookmarks = async () => {
      try {
        const data = await userService.getBookmarks();
        setBookmarks(data);
      } catch (err) {
        setError(err instanceof Error ? err.message : 'Failed to load bookmarks');
      } finally {
        setLoading(false);
      }
    };

    fetchBookmarks();
  }, []);


  const getDifficultyColor = (difficulty: string) => {
    switch (difficulty) {
      case 'easy': return 'text-green-600 bg-green-100';
      case 'medium': return 'text-yellow-600 bg-yellow-100';
      case 'hard': return 'text-red-600 bg-red-100';
      default: return 'text-gray-600 bg-gray-100';
    }
  };

  const getAccuracyColor = (correct: number, total: number) => {
    const accuracy = total > 0 ? (correct / total) * 100 : 0;
    if (accuracy >= 80) return 'text-green-600';
    if (accuracy >= 60) return 'text-yellow-600';
    return 'text-red-600';
  };

  const filteredBookmarks = bookmarks.filter(bookmark => {
    const question = bookmark.question;
    if (!question) return false;
    
    const matchesTopic = selectedTopic === 'all' || question.topic_id === selectedTopic;
    const matchesSearch = searchQuery === '' ||
      question.content.toLowerCase().includes(searchQuery.toLowerCase());
    return matchesTopic && matchesSearch;
  });

  const sortedBookmarks = [...filteredBookmarks].sort((a, b) => {
    switch (sortBy) {
      case 'recent':
        return new Date(b.created_at).getTime() - new Date(a.created_at).getTime();
      case 'difficulty':
        const difficultyOrder = { easy: 1, medium: 2, hard: 3 };
        return (difficultyOrder[b.question?.difficulty as keyof typeof difficultyOrder] || 0) -
               (difficultyOrder[a.question?.difficulty as keyof typeof difficultyOrder] || 0);
      default:
        return 0;
    }
  });

  const removeBookmark = async (questionId: string) => {
    try {
      await questionService.removeBookmark(questionId);
      setBookmarks(prev => prev.filter(b => b.question_id !== questionId));
    } catch (err) {
      setError(err instanceof Error ? err.message : 'Failed to remove bookmark');
    }
  };

  const topicsMap = bookmarks.reduce((acc, b) => {
    const topicId = b.question?.topic_id || 'unknown';
    acc[topicId] = (acc[topicId] || 0) + 1;
    return acc;
  }, {} as Record<string, number>);

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-50">
        <Header />
        <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-24">
          <div className="flex items-center justify-center h-96">
            <LoadingSpinner size="lg" />
          </div>
        </main>
        <MobileNavigation />
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-24">
        {error && (
          <div className="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg">
            <div className="flex items-center">
              <i className="ri-error-warning-line text-red-600 text-xl mr-3"></i>
              <p className="text-red-800">{error}</p>
            </div>
          </div>
        )}
        {/* Header */}
        <div className="mb-8">
          <h1 className="text-3xl font-bold text-gray-900 mb-2">
            Bookmarked Questions
          </h1>
          <p className="text-gray-600">
            Review and practice your saved questions to reinforce learning.
          </p>
        </div>

        <div className="grid lg:grid-cols-4 gap-8">
          {/* Sidebar */}
          <div className="lg:col-span-1 space-y-6">
            {/* Search */}
            <Card>
              <h3 className="text-lg font-semibold text-gray-900 mb-4">Search</h3>
              <div className="relative">
                <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                  <i className="ri-search-line text-gray-400"></i>
                </div>
                <input
                  type="text"
                  value={searchQuery}
                  onChange={(e) => setSearchQuery(e.target.value)}
                  className="block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"
                  placeholder="Search questions..."
                />
              </div>
            </Card>

            {/* Topic Filter */}
            <Card>
              <h3 className="text-lg font-semibold text-gray-900 mb-4">Topics</h3>
              <div className="space-y-2">
                <button
                  onClick={() => setSelectedTopic('all')}
                  className={`w-full flex items-center justify-between px-3 py-2 rounded-lg text-left transition-colors cursor-pointer ${
                    selectedTopic === 'all'
                      ? 'bg-blue-100 text-blue-700 border border-blue-200'
                      : 'text-gray-700 hover:bg-gray-100'
                  }`}
                >
                  <span className="text-sm font-medium">All Topics</span>
                  <span className="text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded-full">
                    {bookmarks.length}
                  </span>
                </button>
              </div>
            </Card>

            {/* Sort Options */}
            <Card>
              <h3 className="text-lg font-semibold text-gray-900 mb-4">Sort By</h3>
              <div className="space-y-2">
                {[
                  { id: 'recent', name: 'Recently Bookmarked' },
                  { id: 'difficulty', name: 'Difficulty (Hard First)' },
                  { id: 'accuracy', name: 'Accuracy (Low First)' }
                ].map((sort) => (
                  <button
                    key={sort.id}
                    onClick={() => setSortBy(sort.id)}
                    className={`w-full px-3 py-2 rounded-lg text-left transition-colors cursor-pointer ${
                      sortBy === sort.id
                        ? 'bg-blue-100 text-blue-700 border border-blue-200'
                        : 'text-gray-700 hover:bg-gray-100'
                    }`}
                  >
                    <span className="text-sm font-medium">{sort.name}</span>
                  </button>
                ))}
              </div>
            </Card>

            {/* Quick Stats */}
            <Card>
              <h3 className="text-lg font-semibold text-gray-900 mb-4">Quick Stats</h3>
              <div className="space-y-3">
                <div className="flex justify-between">
                  <span className="text-sm text-gray-600">Total Bookmarks</span>
                  <span className="text-sm font-medium text-gray-900">{bookmarks.length}</span>
                </div>
                <div className="flex justify-between">
                  <span className="text-sm text-gray-600">Filtered</span>
                  <span className="text-sm font-medium text-blue-600">{filteredBookmarks.length}</span>
                </div>
              </div>
            </Card>
          </div>

          {/* Main Content */}
          <div className="lg:col-span-3">
            {/* Results Header */}
            <div className="flex items-center justify-between mb-6">
              <div>
                <h2 className="text-xl font-semibold text-gray-900">
                  {sortedBookmarks.length} Questions Found
                </h2>
              </div>
              <div className="flex space-x-3">
                <Button variant="secondary">
                  <i className="ri-play-circle-line mr-2"></i>
                  Practice All
                </Button>
                <Button>
                  <i className="ri-file-text-line mr-2"></i>
                  Create Test
                </Button>
              </div>
            </div>

            {/* Questions Grid */}
            {sortedBookmarks.length === 0 ? (
              <Card className="text-center py-12">
                <i className="ri-bookmark-line text-4xl text-gray-400 mb-4 block"></i>
                <h3 className="text-lg font-medium text-gray-900 mb-2">No bookmarks found</h3>
                <p className="text-gray-600 mb-6">
                  {searchQuery ? 'Try adjusting your search terms.' : 'Start bookmarking questions while practicing to build your collection.'}
                </p>
                <Button onClick={() => window.location.href = '/practice'}>
                  <i className="ri-add-line mr-2"></i>
                  Start Practicing
                </Button>
              </Card>
            ) : (
              <div className="space-y-4">
                {sortedBookmarks.map((bookmark) => {
                  const question = bookmark.question;
                  if (!question) return null;
                  
                  return (
                  <Card key={bookmark.id} className="hover:shadow-lg transition-shadow">
                    <div className="flex items-start justify-between">
                      <div className="flex-1">
                        {/* Question Header */}
                        <div className="flex items-center space-x-3 mb-3">
                          <span className={`text-xs font-medium px-2 py-1 rounded-full ${getDifficultyColor(question.difficulty)}`}>
                            {question.difficulty.charAt(0).toUpperCase() + question.difficulty.slice(1)}
                          </span>
                          <span className="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full">
                            {question.topic?.name || 'Unknown'}
                          </span>
                          <span className="text-xs text-gray-500">
                            Bookmarked {new Date(bookmark.created_at).toLocaleDateString()}
                          </span>
                        </div>

                        {/* Question Text */}
                        <h3 className="text-lg font-medium text-gray-900 mb-3 line-clamp-2">
                          {question.content}
                        </h3>

                        {/* Stats */}
                        <div className="flex items-center space-x-6 text-sm text-gray-600">
                          <div className="flex items-center">
                            <i className="ri-calendar-line text-gray-400 mr-1"></i>
                            <span>Added: {new Date(bookmark.created_at).toLocaleDateString()}</span>
                          </div>
                        </div>
                      </div>

                      {/* Actions */}
                      <div className="flex items-center space-x-2 ml-4">
                        <Button
                          variant="secondary"
                          size="sm"
                          onClick={() => navigate(`/practice/question?id=${question.id}`)}
                        >
                          <i className="ri-play-line mr-1"></i>
                          Practice
                        </Button>
                        <button
                          onClick={() => removeBookmark(question.id)}
                          className="p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors cursor-pointer"
                        >
                          <i className="ri-bookmark-fill text-lg"></i>
                        </button>
                      </div>
                    </div>
                  </Card>
                  );
                })}
              </div>
            )}

            {/* Bulk Actions */}
            {sortedBookmarks.length > 0 && (
              <Card className="mt-8 bg-gradient-to-r from-blue-50 to-blue-100">
                <div className="text-center">
                  <h3 className="text-lg font-semibold text-gray-900 mb-2">
                    Ready to Practice?
                  </h3>
                  <p className="text-gray-600 mb-4">
                    Turn your bookmarked questions into focused practice sessions.
                  </p>
                  <div className="flex flex-col sm:flex-row gap-3 justify-center">
                    <Button>
                      <i className="ri-shuffle-line mr-2"></i>
                      Random Practice
                    </Button>
                    <Button variant="secondary">
                      <i className="ri-focus-line mr-2"></i>
                      Focus on Weak Areas
                    </Button>
                    <Button variant="secondary">
                      <i className="ri-timer-line mr-2"></i>
                      Timed Practice
                    </Button>
                  </div>
                </div>
              </Card>
            )}
          </div>
        </div>
      </main>

      <MobileNavigation />
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\contact\page.tsx
---- CONTENT ----

import { useEffect, useState } from 'react';
import Header from '../../components/feature/Header';
import MobileNavigation from '../../components/feature/MobileNavigation';
import Card from '../../components/base/Card';
import Button from '../../components/base/Button';
import { updateSEO, seoData } from '../../utils/seo';

export default function Contact() {
  const [formData, setFormData] = useState({
    name: '',
    email: '',
    subject: '',
    message: '',
    category: 'general'
  });
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [submitStatus, setSubmitStatus] = useState<'idle' | 'success' | 'error'>('idle');

  useEffect(() => {
    updateSEO(seoData.contact);
  }, []);

  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {
    const { name, value } = e.target;
    setFormData(prev => ({
      ...prev,
      [name]: value
    }));
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setIsSubmitting(true);
    
    // Simulate form submission
    setTimeout(() => {
      setIsSubmitting(false);
      setSubmitStatus('success');
      setFormData({
        name: '',
        email: '',
        subject: '',
        message: '',
        category: 'general'
      });
      
      // Reset status after 3 seconds
      setTimeout(() => setSubmitStatus('idle'), 3000);
    }, 1500);
  };

  const contactMethods = [
    {
      icon: 'ri-mail-line',
      title: 'Email Support',
      description: 'Get help with your account, billing, or technical issues',
      contact: 'support@nppepro.com',
      action: 'Send Email'
    },
    {
      icon: 'ri-phone-line',
      title: 'Phone Support',
      description: 'Speak directly with our support team',
      contact: '1-800-NPPE-PRO',
      action: 'Call Now'
    },
    {
      icon: 'ri-chat-3-line',
      title: 'Live Chat',
      description: 'Chat with our team in real-time',
      contact: 'Available 9 AM - 6 PM EST',
      action: 'Start Chat'
    }
  ];

  const faqItems = [
    {
      question: 'How do I reset my password?',
      answer: 'You can reset your password by clicking the "Forgot Password" link on the login page.'
    },
    {
      question: 'What payment methods do you accept?',
      answer: 'We accept all major credit cards, PayPal, and bank transfers for annual subscriptions.'
    },
    {
      question: 'Can I cancel my subscription anytime?',
      answer: 'Yes, you can cancel your subscription at any time from your account settings.'
    },
    {
      question: 'Do you offer refunds?',
      answer: 'We offer a 30-day money-back guarantee for all new subscriptions.'
    }
  ];

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-24">
        {/* Hero Section */}
        <div className="text-center mb-12">
          <h1 className="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
            Get in Touch
          </h1>
          <p className="text-xl text-gray-600 max-w-3xl mx-auto">
            Have questions about NPPE Pro? We're here to help you succeed in your engineering career.
          </p>
        </div>

        <div className="grid lg:grid-cols-3 gap-8 mb-16">
          {/* Contact Form */}
          <div className="lg:col-span-2">
            <Card>
              <h2 className="text-2xl font-bold text-gray-900 mb-6">Send us a Message</h2>
              
              {submitStatus === 'success' && (
                <div className="mb-6 p-4 bg-green-50 border border-green-200 rounded-lg">
                  <div className="flex items-center">
                    <i className="ri-check-circle-line text-green-600 text-xl mr-3"></i>
                    <p className="text-green-800">Thank you! Your message has been sent successfully.</p>
                  </div>
                </div>
              )}

              <form onSubmit={handleSubmit} className="space-y-6">
                <div className="grid md:grid-cols-2 gap-6">
                  <div>
                    <label htmlFor="name" className="block text-sm font-medium text-gray-700 mb-2">
                      Full Name *
                    </label>
                    <input
                      type="text"
                      id="name"
                      name="name"
                      value={formData.name}
                      onChange={handleInputChange}
                      required
                      className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                      placeholder="Your full name"
                    />
                  </div>
                  
                  <div>
                    <label htmlFor="email" className="block text-sm font-medium text-gray-700 mb-2">
                      Email Address *
                    </label>
                    <input
                      type="email"
                      id="email"
                      name="email"
                      value={formData.email}
                      onChange={handleInputChange}
                      required
                      className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                      placeholder="your.email@example.com"
                    />
                  </div>
                </div>

                <div>
                  <label htmlFor="category" className="block text-sm font-medium text-gray-700 mb-2">
                    Category
                  </label>
                  <select
                    id="category"
                    name="category"
                    value={formData.category}
                    onChange={handleInputChange}
                    className="w-full px-4 py-3 pr-8 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                  >
                    <option value="general">General Inquiry</option>
                    <option value="technical">Technical Support</option>
                    <option value="billing">Billing & Subscriptions</option>
                    <option value="feedback">Feedback & Suggestions</option>
                    <option value="partnership">Partnership Opportunities</option>
                  </select>
                </div>

                <div>
                  <label htmlFor="subject" className="block text-sm font-medium text-gray-700 mb-2">
                    Subject *
                  </label>
                  <input
                    type="text"
                    id="subject"
                    name="subject"
                    value={formData.subject}
                    onChange={handleInputChange}
                    required
                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                    placeholder="Brief description of your inquiry"
                  />
                </div>

                <div>
                  <label htmlFor="message" className="block text-sm font-medium text-gray-700 mb-2">
                    Message *
                  </label>
                  <textarea
                    id="message"
                    name="message"
                    value={formData.message}
                    onChange={handleInputChange}
                    required
                    rows={6}
                    maxLength={500}
                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"
                    placeholder="Please provide details about your inquiry..."
                  />
                  <p className="text-sm text-gray-500 mt-1">
                    {formData.message.length}/500 characters
                  </p>
                </div>

                <Button
                  type="submit"
                  disabled={isSubmitting}
                  className="w-full"
                  size="lg"
                >
                  {isSubmitting ? (
                    <>
                      <i className="ri-loader-4-line animate-spin mr-2"></i>
                      Sending Message...
                    </>
                  ) : (
                    <>
                      Send Message
                      <i className="ri-send-plane-line ml-2"></i>
                    </>
                  )}
                </Button>
              </form>
            </Card>
          </div>

          {/* Contact Methods */}
          <div className="space-y-6">
            <Card>
              <h3 className="text-xl font-bold text-gray-900 mb-6">Other Ways to Reach Us</h3>
              <div className="space-y-6">
                {contactMethods.map((method, index) => (
                  <div key={index} className="flex items-start space-x-4">
                    <div className="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0">
                      <i className={`${method.icon} text-blue-600 text-xl`}></i>
                    </div>
                    <div className="flex-1">
                      <h4 className="font-semibold text-gray-900 mb-1">{method.title}</h4>
                      <p className="text-sm text-gray-600 mb-2">{method.description}</p>
                      <p className="text-sm font-medium text-gray-900 mb-2">{method.contact}</p>
                      <Button variant="secondary" size="sm">
                        {method.action}
                      </Button>
                    </div>
                  </div>
                ))}
              </div>
            </Card>

            {/* Quick FAQ */}
            <Card>
              <h3 className="text-xl font-bold text-gray-900 mb-6">Quick Answers</h3>
              <div className="space-y-4">
                {faqItems.map((item, index) => (
                  <div key={index} className="border-b border-gray-200 last:border-b-0 pb-4 last:pb-0">
                    <h4 className="font-medium text-gray-900 mb-2">{item.question}</h4>
                    <p className="text-sm text-gray-600">{item.answer}</p>
                  </div>
                ))}
              </div>
              <div className="mt-6">
                <Button variant="secondary" className="w-full">
                  View All FAQs
                  <i className="ri-arrow-right-line ml-2"></i>
                </Button>
              </div>
            </Card>
          </div>
        </div>

        {/* Office Information */}
        <Card className="bg-gradient-to-r from-blue-50 to-blue-100">
          <div className="text-center">
            <h2 className="text-2xl font-bold text-gray-900 mb-4">Visit Our Office</h2>
            <p className="text-gray-600 mb-6">
              Located in the heart of Toronto's engineering district
            </p>
            <div className="grid md:grid-cols-3 gap-8 text-center">
              <div>
                <i className="ri-map-pin-line text-3xl text-blue-600 mb-3 block"></i>
                <h3 className="font-semibold text-gray-900 mb-2">Address</h3>
                <p className="text-gray-600">
                  123 Engineering Way<br />
                  Toronto, ON M5V 3A8<br />
                  Canada
                </p>
              </div>
              <div>
                <i className="ri-time-line text-3xl text-blue-600 mb-3 block"></i>
                <h3 className="font-semibold text-gray-900 mb-2">Office Hours</h3>
                <p className="text-gray-600">
                  Monday - Friday<br />
                  9:00 AM - 6:00 PM EST<br />
                  Closed Weekends
                </p>
              </div>
              <div>
                <i className="ri-phone-line text-3xl text-blue-600 mb-3 block"></i>
                <h3 className="font-semibold text-gray-900 mb-2">Phone</h3>
                <p className="text-gray-600">
                  Main: (416) 555-0123<br />
                  Support: 1-800-NPPE-PRO<br />
                  Fax: (416) 555-0124
                </p>
              </div>
            </div>
          </div>
        </Card>
      </main>

      <MobileNavigation />
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\dashboard\page.tsx
---- CONTENT ----
import { useEffect, useRef, useState } from 'react';
import { useNavigate } from 'react-router-dom';
import Header from '../../components/feature/Header';
import MobileNavigation from '../../components/feature/MobileNavigation';
import Card from '../../components/base/Card';
import Button from '../../components/base/Button';
import ProgressBar from '../../components/base/ProgressBar';
import CircularProgress from '../../components/base/CircularProgress';
import CountUpNumber from '../../components/base/CountUpNumber';
import ParticleBackground from '../../components/effects/ParticleBackground';
import BlueprintReveal from '../../components/effects/BlueprintReveal';
import { updateSEO, seoData } from '../../utils/seo';
import { useDashboard } from '../../hooks/useDashboard';
import { useAuthContext } from '../../contexts/AuthContext';
import { testService } from '../../api';

export default function Dashboard() {
  const dashboardRef = useRef<HTMLDivElement>(null);
  const [showBlueprint, setShowBlueprint] = useState(true);
  const [contentVisible, setContentVisible] = useState(false);
  const [creating, setCreating] = useState(false);
  const [inProgressTest, setInProgressTest] = useState<any>(null);
  const navigate = useNavigate();
  
  // Fetch real data from backend
  const { data: dashboardData, loading, error } = useDashboard();
  const { user } = useAuthContext();

  useEffect(() => {
    updateSEO(seoData.dashboard);
  }, []);
  
  // Check for in-progress tests
  useEffect(() => {
    const checkInProgressTests = async () => {
      try {
        const response = await testService.getTestHistory();
        // Handle if response is array directly or wrapped in object
        const tests = Array.isArray(response) ? response : (response as any)?.tests || [];
        const inProgress = tests.find((t: any) => t.status === 'in_progress');
        setInProgressTest(inProgress || null);
      } catch (err) {
        console.error('Failed to check in-progress tests:', err);
      }
    };
    
    if (!loading && dashboardData) {
      checkInProgressTests();
    }
  }, [loading, dashboardData]);

  // Blueprint reveal completion handler
  const handleBlueprintComplete = () => {
    setShowBlueprint(false);
    setContentVisible(true);
  };

  // Skip blueprint animation on click
  const handleSkipBlueprint = () => {
    setShowBlueprint(false);
    setContentVisible(true);
  };

  // Scroll-triggered animations
  useEffect(() => {
    if (!contentVisible) return;

    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add('revealed');
        }
      });
    }, observerOptions);

    const scrollElements = document.querySelectorAll('.scroll-reveal');
    scrollElements.forEach((el) => observer.observe(el));

    return () => observer.disconnect();
  }, [contentVisible]);

  // Transform topic mastery data for display
  const topicPerformance = dashboardData?.topic_mastery?.map(topic => ({
    topic: topic.topic?.name || 'Unknown Topic',
    score: Math.round(topic.mastery_percentage),
    color: topic.mastery_percentage >= 80 ? 'success' : 
           topic.mastery_percentage >= 60 ? 'warning' : 'error'
  })) || [];

  // Get weak topics (score < 60%)
  const weakTopics = dashboardData?.weak_topics?.slice(0, 3) || [];

  // Format recent activities
  const recentActivities = dashboardData?.recent_activity?.map(activity => ({
    icon: activity.type === 'practice_test' ? 'ri-file-text-line' :
          activity.type === 'question' ? 'ri-play-circle-line' :
          activity.type === 'achievement' ? 'ri-award-line' : 'ri-book-open-line',
    text: activity.description,
    time: formatRelativeTime(activity.timestamp),
    color: activity.type === 'achievement' ? 'text-secondary' : 'text-primary'
  })) || [];

  // Calculate questions progress percentage
  const questionsProgress = dashboardData ?
    Math.round((dashboardData.questions_completed / 500) * 100) : 0;

  // Handler for Practice Weakest Topic button
  const handlePracticeWeakestTopic = async () => {
    if (creating || !weakTopics.length) return;
    
    setCreating(true);
    try {
      // Get the weakest topic (first one in the list)
      const weakestTopic = dashboardData?.weak_topics?.[0];
      if (!weakestTopic) return;

      // Find the topic ID from topic_mastery
      const topicMastery = dashboardData?.topic_mastery?.find(
        (tm) => tm.topic?.name === weakestTopic.name
      );
      
      const topicId = topicMastery?.topic_id;
      if (!topicId) {
        throw new Error('Could not find topic ID');
      }

      // Start a topic-specific test
      const response = await testService.startTest({
        test_type: 'topic_specific',
        topic_ids: [topicId],
        question_count: 20,
        time_limit_minutes: 30
      });

      // Extract test_id from response (check multiple possible locations)
      const testId = response?.test_id || (response as any)?.id || (response as any)?.data?.test_id;
      if (!testId) {
        console.error('API Response:', response);
        throw new Error('No test ID returned from server');
      }
      navigate(`/practice-test/take/${testId}`);
    } catch (err) {
      console.error('Failed to start practice test:', err);
      alert('Failed to start practice test. Please try again.');
    } finally {
      setCreating(false);
    }
  };

  // Handler for Start Full Mock button
  const handleStartFullMock = async () => {
    if (creating) return;
    
    setCreating(true);
    try {
      // Let the server decide question_count/time_limit if it has defaults
      const response = await testService.startTest({
        test_type: 'full_exam',
      });

      // Extract test_id from response (check multiple possible locations)
      const testId = response?.test_id || (response as any)?.id || (response as any)?.data?.test_id;
      if (!testId) {
        console.error('API Response:', response);
        throw new Error('No test ID returned from server');
      }
      navigate(`/practice-test/take/${testId}`);
    } catch (err: any) {
      console.error('Failed to start full mock:', err);
      
      // Fallback: try a smaller custom test if the server complains about size
      if (err?.response?.status === 400) {
        try {
          const retry = await testService.startTest({
            test_type: 'custom',
            question_count: 10,
            time_limit_minutes: 15,
          });
          const testId = retry?.test_id || (retry as any)?.id || (retry as any)?.data?.test_id;
          if (!testId) {
            throw new Error('No test ID returned from server');
          }
          navigate(`/practice-test/take/${testId}`);
          return;
        } catch (retryErr) {
          console.error('Fallback test creation also failed:', retryErr);
        }
      }
      
      alert('Failed to start full mock exam. Please try again.');
    } finally {
      setCreating(false);
    }
  };

  // Handler for Continue Studying button
  const handleContinueStudying = async () => {
    if (creating) return;
    
    setCreating(true);
    try {
      // Start a small mixed test that works with limited question bank
      const response = await testService.startTest({
        test_type: 'custom',
        question_count: 10,
        time_limit_minutes: 15,
      });

      // Extract test_id from response (check multiple possible locations)
      const testId = response?.test_id || (response as any)?.id || (response as any)?.data?.test_id;
      if (!testId) {
        console.error('API Response:', response);
        throw new Error('No test ID returned from server');
      }
      navigate(`/practice-test/take/${testId}`);
    } catch (err) {
      console.error('Failed to start practice session:', err);
      alert('Failed to start practice session. Please try again.');
    } finally {
      setCreating(false);
    }
  };

  // Show loading state
  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <div className="text-center">
          <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-600 mx-auto mb-4"></div>
          <p className="text-gray-600">Loading your dashboard...</p>
        </div>
      </div>
    );
  }

  // Show error state
  if (error) {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <div className="text-center">
          <i className="ri-error-warning-line text-red-600 text-5xl mb-4"></i>
          <h2 className="text-2xl font-bold text-gray-900 mb-2">Unable to load dashboard</h2>
          <p className="text-gray-600 mb-4">{error}</p>
          <button 
            onClick={() => window.location.reload()} 
            className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"
          >
            Retry
          </button>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen relative overflow-hidden">
      {/* Blueprint Reveal Animation */}
      {showBlueprint && (
        <div onClick={handleSkipBlueprint} className="cursor-pointer">
          <BlueprintReveal onComplete={handleBlueprintComplete} />
        </div>
      )}

      {/* Enhanced Background Effects */}
      <div className="fixed inset-0 animated-gradient opacity-25"></div>
      <div className="fixed inset-0 mesh-gradient"></div>
      
      {/* Particle Background */}
      <ParticleBackground />
      
      {/* Enhanced Geometric Shapes */}
      <div className="geometric-shape shape-1"></div>
      <div className="geometric-shape shape-2"></div>
      <div className="geometric-shape shape-3"></div>
      <div className="geometric-shape shape-4"></div>

      <Header />
      
      <main 
        ref={dashboardRef} 
        className={`relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-20 md:pb-8 pt-24 transition-opacity duration-1000 ${
          contentVisible ? 'opacity-100' : 'opacity-0'
        }`}
      >
        {/* Welcome Section */}
        <div className="mb-8 animate-fade-in-up stagger-1">
          <h1 className="text-h1 text-gray-900 mb-2 animate-text-reveal">
            Welcome back, {user?.first_name || 'Student'}! ðŸ‘‹
          </h1>
          <p className="text-body text-neutral animate-text-reveal stagger-2">
            You're making great progress. Keep up the momentum!
          </p>
        </div>

        {/* Hero Statistics Cards */}
        <div className="grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8">
          {/* Overall Progress */}
          <Card 
            className="text-center" 
            delay={300} 
            glassmorphism={true} 
            interactive3d={true}
            glow={true}
          >
            <div className="mb-4 flex justify-center">
              <CircularProgress 
                value={dashboardData?.overall_progress || 0} 
                size={90} 
                strokeWidth={10}
                animate={contentVisible}
                delay={500}
                gradient={true}
                glow={true}
              />
            </div>
            <h3 className="font-semibold text-gray-900 mb-1 animate-text-reveal stagger-3">Overall Progress</h3>
            <p className="text-small text-success font-medium animate-text-reveal stagger-4">Keep going!</p>
          </Card>

          {/* Study Streak */}
          <Card 
            className="text-center" 
            delay={400} 
            glassmorphism={true} 
            interactive3d={true}
            glow={true}
          >
            <div className="w-12 h-12 mx-auto mb-4 flex items-center justify-center">
              <i className="ri-fire-line text-3xl text-secondary animate-pulse-gentle"></i>
            </div>
            <div className="text-2xl font-bold text-gray-900 mb-1 animate-number-count stagger-5">
              <CountUpNumber end={dashboardData?.study_streak || 0} duration={1200} delay={600} />
              <span> Days</span>
            </div>
            <h3 className="font-semibold text-gray-900 mb-1 animate-text-reveal stagger-6">Study Streak</h3>
            <p className="text-small text-neutral animate-text-reveal stagger-7">
              Your longest: {dashboardData?.longest_streak || 0} days
            </p>
          </Card>

          {/* Questions Completed */}
          <Card 
            className="text-center" 
            delay={500} 
            glassmorphism={true} 
            interactive3d={true}
            glow={true}
          >
            <div className="mb-4">
              <div className="text-2xl font-bold text-gray-900 mb-2 animate-number-count stagger-8">
                <CountUpNumber end={dashboardData?.questions_completed || 0} duration={1400} delay={700} />
                <span>/500</span>
              </div>
              <ProgressBar 
                value={questionsProgress} 
                animate={contentVisible} 
                delay={800}
                color="primary"
                glow={true}
                gradient={true}
              />
            </div>
            <h3 className="font-semibold text-gray-900 mb-1 animate-text-reveal stagger-9">Questions Done</h3>
            <p className="text-small text-neutral animate-text-reveal stagger-10">
              {dashboardData?.accuracy_rate ? `${dashboardData.accuracy_rate.toFixed(1)}% accuracy` : 'Start practicing'}
            </p>
          </Card>

          {/* Pass Probability */}
          <Card 
            className="text-center" 
            delay={600} 
            glassmorphism={true} 
            interactive3d={true}
            glow={true}
          >
            <div className="w-12 h-12 mx-auto mb-4 flex items-center justify-center bg-gradient-to-br from-green-100 to-green-200 rounded-full">
              <i className="ri-arrow-up-line text-xl text-success animate-bounce-in"></i>
            </div>
            <div className="text-2xl font-bold text-success mb-1 animate-number-count">
              <CountUpNumber end={dashboardData?.pass_probability || 0} duration={1500} delay={900} suffix="%" />
            </div>
            <h3 className="font-semibold text-gray-900 mb-1 animate-text-reveal">Pass Ready</h3>
            <p className="text-small text-success animate-text-reveal">
              {dashboardData && dashboardData.pass_probability >= 70 ? 'Trending up' : 'Keep studying'}
            </p>
          </Card>
        </div>

        {/* Middle Section */}
        <div className="grid lg:grid-cols-3 gap-6 mb-8">
          {/* Performance by Topic Chart */}
          <div className="lg:col-span-2">
            <Card delay={700} glassmorphism={true} glow={true} className="scroll-reveal">
              <h2 className="text-h2 text-gray-900 mb-6 animate-text-reveal">Performance by Topic</h2>
              {topicPerformance.length > 0 ? (
                <>
                  <div className="space-y-4">
                    {topicPerformance.map((topic, index) => (
                      <div key={index} className="flex items-center animate-slide-in-left interactive-hover" style={{ animationDelay: `${1000 + index * 150}ms` }}>
                        <div className="w-40 text-small text-gray-700 truncate font-medium">
                          {topic.topic}
                        </div>
                        <div className="flex-1 mx-4">
                          <ProgressBar 
                            value={topic.score} 
                            animate={contentVisible} 
                            delay={1200 + index * 150}
                            color={topic.color as 'success' | 'warning' | 'error'}
                            glow={true}
                            gradient={true}
                          />
                        </div>
                        <div className="w-12 text-small font-bold text-gray-900">
                          <CountUpNumber end={topic.score} duration={1000} delay={1400 + index * 150} suffix="%" />
                        </div>
                      </div>
                    ))}
                  </div>
                  <div className="mt-6 flex items-center space-x-6 text-small animate-fade-in-up" style={{ animationDelay: '2200ms' }}>
                    <div className="flex items-center">
                      <div className="w-3 h-3 bg-gradient-to-r from-green-500 to-green-600 rounded-full mr-2"></div>
                      <span className="text-neutral">Mastered (80-100%)</span>
                    </div>
                    <div className="flex items-center">
                      <div className="w-3 h-3 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full mr-2"></div>
                      <span className="text-neutral">In Progress (60-79%)</span>
                    </div>
                    <div className="flex items-center">
                      <div className="w-3 h-3 bg-gradient-to-r from-red-500 to-red-600 rounded-full mr-2"></div>
                      <span className="text-neutral">Needs Focus (&lt;60%)</span>
                    </div>
                  </div>
                </>
              ) : (
                <div className="text-center py-8 text-gray-500">
                  <i className="ri-bar-chart-line text-4xl mb-2"></i>
                  <p>Start practicing to see your performance by topic</p>
                </div>
              )}
            </Card>
          </div>

          {/* Weakness Spotlight */}
          <div>
            <Card 
              className="border-2 border-red-200/50 scroll-reveal" 
              delay={800} 
              glassmorphism={true}
              glow={true}
            >
              <div className="flex items-center mb-4">
                <i className="ri-error-warning-line text-error text-xl mr-2 animate-bounce-in"></i>
                <h2 className="text-h2 text-gray-900 animate-text-reveal">Weakness Spotlight</h2>
              </div>
              <p className="text-small text-neutral mb-4 animate-text-reveal">
                Focus on these areas to improve your overall score
              </p>
              {weakTopics.length > 0 ? (
                <div className="space-y-3">
                  {weakTopics.map((topic, index) => (
                    <div key={index} className="flex items-center justify-between p-3 bg-gradient-to-r from-red-50/90 to-red-100/90 backdrop-blur-sm rounded-lg card-hover-3d animate-slide-in-right" style={{ animationDelay: `${1200 + index * 200}ms` }}>
                      <div>
                        <div className="font-medium text-gray-900 text-small">{topic.name}</div>
                        <div className="text-small text-error font-semibold">
                          <CountUpNumber end={Math.round(topic.score)} duration={800} delay={1400 + index * 200} suffix="% mastery" />
                        </div>
                      </div>
                      <Button size="sm" className="text-xs px-3 py-1 btn-premium" magnetic={true} glow={true}>
                        Focus Here
                      </Button>
                    </div>
                  ))}
                </div>
              ) : (
                <div className="text-center py-4 text-gray-500">
                  <i className="ri-checkbox-circle-line text-3xl mb-2 text-green-600"></i>
                  <p className="text-sm">Great job! No weak areas detected yet.</p>
                </div>
              )}
            </Card>
          </div>
        </div>

        {/* Bottom Section */}
        <div className="grid lg:grid-cols-3 gap-6">
          {/* Recent Activity Feed */}
          <div className="lg:col-span-2">
            <Card delay={900} glassmorphism={true} glow={true} className="scroll-reveal">
              <h2 className="text-h2 text-gray-900 mb-6 animate-text-reveal">Recent Activity</h2>
              {recentActivities.length > 0 ? (
                <div className="space-y-4">
                  {recentActivities.map((activity, index) => (
                    <div key={index} className="flex items-start space-x-3 animate-slide-in-left interactive-hover" style={{ animationDelay: `${1600 + index * 150}ms` }}>
                      <div className={`w-10 h-10 rounded-full flex items-center justify-center ${activity.color} bg-gradient-to-br from-white/80 to-white/60 backdrop-blur-sm shadow-lg`}>
                        <i className={`${activity.icon} ${activity.color} text-lg`}></i>
                      </div>
                      <div className="flex-1">
                        <p className="text-small text-gray-900 font-medium">{activity.text}</p>
                        <p className="text-xs text-neutral mt-1">{activity.time}</p>
                      </div>
                    </div>
                  ))}
                </div>
              ) : (
                <div className="text-center py-8 text-gray-500">
                  <i className="ri-time-line text-4xl mb-2"></i>
                  <p>Your recent activities will appear here</p>
                </div>
              )}
            </Card>
          </div>

          {/* Quick Actions */}
          <div>
            <Card delay={1000} glassmorphism={true} glow={true} className="scroll-reveal">
              <h2 className="text-h2 text-gray-900 mb-6 animate-text-reveal">Quick Actions</h2>
              <div className="space-y-3">
                {inProgressTest && (
                  <Button
                    className="w-full justify-center bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700"
                    size="lg"
                    magnetic={true}
                    glow={true}
                    onClick={() => navigate(`/practice-test/take/${inProgressTest.id}`)}
                  >
                    <i className="ri-play-line mr-2"></i>
                    Resume Test in Progress
                  </Button>
                )}
                <Button
                  className="w-full justify-center btn-premium"
                  size="lg"
                  magnetic={true}
                  glow={true}
                  onClick={handlePracticeWeakestTopic}
                  disabled={creating || !weakTopics.length}
                >
                  {creating ? (
                    <>
                      <i className="ri-loader-4-line mr-2 animate-spin"></i>
                      Starting...
                    </>
                  ) : (
                    <>
                      <i className="ri-focus-line mr-2"></i>
                      Practice Weakest Topic
                    </>
                  )}
                </Button>
                <Button
                  variant="secondary"
                  className="w-full justify-center"
                  magnetic={true}
                  glow={true}
                  onClick={handleStartFullMock}
                  disabled={creating}
                >
                  <i className="ri-file-text-line mr-2"></i>
                  Start Full Mock
                </Button>
                <Button
                  variant="secondary"
                  className="w-full justify-center"
                  magnetic={true}
                  glow={true}
                  onClick={handleContinueStudying}
                  disabled={creating}
                >
                  <i className="ri-play-circle-line mr-2"></i>
                  Continue Studying
                </Button>
              </div>
              
              <div className="mt-6 p-4 bg-gradient-to-br from-blue-50/90 to-blue-100/90 backdrop-blur-sm rounded-lg animate-scale-in float-animation" style={{ animationDelay: '2000ms' }}>
                <h3 className="font-semibold text-gray-900 mb-2 animate-text-reveal">Exam Countdown</h3>
                <div className="text-3xl font-bold text-primary mb-1 animate-number-count">
                  <CountUpNumber end={dashboardData?.days_until_exam || 0} duration={1200} delay={2200} />
                  <span> Days</span>
                </div>
                <p className="text-small text-neutral animate-text-reveal">Until your scheduled exam date</p>
                {dashboardData?.days_until_exam && (
                  <div className="mt-3 w-full bg-gray-200 rounded-full h-2">
                    <div 
                      className="bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full animate-progress-fill" 
                      style={{ 
                        width: `${Math.min(100, ((180 - dashboardData.days_until_exam) / 180) * 100)}%`, 
                        animationDelay: '2400ms' 
                      }}
                    ></div>
                  </div>
                )}
              </div>
            </Card>
          </div>
        </div>
      </main>

      <MobileNavigation />
    </div>
  );
}

// Helper function to format relative time
function formatRelativeTime(timestamp: string): string {
  const date = new Date(timestamp);
  const now = new Date();
  const diffMs = now.getTime() - date.getTime();
  const diffMins = Math.floor(diffMs / 60000);
  const diffHours = Math.floor(diffMs / 3600000);
  const diffDays = Math.floor(diffMs / 86400000);

  if (diffMins < 1) return 'Just now';
  if (diffMins < 60) return `${diffMins} minute${diffMins > 1 ? 's' : ''} ago`;
  if (diffHours < 24) return `${diffHours} hour${diffHours > 1 ? 's' : ''} ago`;
  if (diffDays === 1) return 'Yesterday';
  if (diffDays < 7) return `${diffDays} days ago`;
  if (diffDays < 30) return `${Math.floor(diffDays / 7)} week${Math.floor(diffDays / 7) > 1 ? 's' : ''} ago`;
  return date.toLocaleDateString();
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\email-verification\page.tsx
---- CONTENT ----

import { useEffect, useState } from 'react';
import { useNavigate, useParams } from 'react-router-dom';
import Card from '../../components/base/Card';
import Button from '../../components/base/Button';
import LoadingSpinner from '../../components/effects/LoadingSpinner';
import { updateSEO } from '../../utils/seo';
import { authService } from '../../api';

export default function EmailVerification() {
  const [verificationStatus, setVerificationStatus] = useState<'loading' | 'success' | 'error'>('loading');
  const [errorMessage, setErrorMessage] = useState('');
  const navigate = useNavigate();
  const { token } = useParams();

  useEffect(() => {
    updateSEO({
      title: 'Email Verification - NPPE Pro',
      description: 'Verify your NPPE Pro account email',
      keywords: 'email verification, NPPE',
      canonical: '/email-verification'
    });
    
    const verifyEmail = async () => {
      if (!token) {
        setVerificationStatus('error');
        setErrorMessage('Invalid verification token');
        return;
      }

      try {
        await authService.verifyEmail(token);
        setVerificationStatus('success');
      } catch (error) {
        setVerificationStatus('error');
        setErrorMessage(error instanceof Error ? error.message : 'Verification failed');
      }
    };

    verifyEmail();
  }, [token]);

  const handleContinue = () => {
    navigate('/onboarding');
  };

  const handleResendEmail = async () => {
    setVerificationStatus('loading');
    setErrorMessage('');
    
    // Note: You'll need to implement a resend verification endpoint in the backend
    // For now, we'll just show an error message
    setTimeout(() => {
      setVerificationStatus('error');
      setErrorMessage('Please contact support to resend verification email');
    }, 1000);
  };

  if (verificationStatus === 'loading') {
    return (
      <div className="min-h-screen bg-gray-50 flex items-center justify-center px-4 sm:px-6 lg:px-8">
        <div className="max-w-md w-full">
          <Card className="text-center">
            <LoadingSpinner size="lg" variant="engineering" />
            <h2 className="text-2xl font-bold text-gray-900 mb-4 mt-6">
              Verifying Your Email
            </h2>
            <p className="text-gray-600">
              Please wait while we verify your email address...
            </p>
          </Card>
        </div>
      </div>
    );
  }

  if (verificationStatus === 'error') {
    return (
      <div className="min-h-screen bg-gray-50 flex items-center justify-center px-4 sm:px-6 lg:px-8">
        <div className="max-w-md w-full">
          <Card className="text-center">
            <div className="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6">
              <i className="ri-error-warning-line text-red-600 text-2xl"></i>
            </div>
            <h2 className="text-2xl font-bold text-gray-900 mb-4">
              Verification Failed
            </h2>
            <p className="text-gray-600 mb-2">
              We couldn't verify your email address. The link may have expired or is invalid.
            </p>
            {errorMessage && (
              <p className="text-red-600 text-sm mb-6">
                {errorMessage}
              </p>
            )}
            <div className="space-y-4">
              <Button 
                onClick={handleResendEmail}
                className="w-full"
              >
                <i className="ri-mail-send-line mr-2"></i>
                Resend Verification Email
              </Button>
              <button
                onClick={() => navigate('/login')}
                className="w-full text-blue-600 hover:text-blue-700 font-medium cursor-pointer"
              >
                Back to Login
              </button>
            </div>
          </Card>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-50 flex items-center justify-center px-4 sm:px-6 lg:px-8">
      <div className="max-w-md w-full">
        <Card className="text-center">
          {/* Success Animation */}
          <div className="relative mb-6">
            <div className="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto">
              <i className="ri-check-circle-line text-green-600 text-2xl"></i>
            </div>
            {/* Confetti Animation */}
            <div className="absolute inset-0 pointer-events-none">
              {[...Array(20)].map((_, i) => (
                <div
                  key={i}
                  className="absolute w-2 h-2 bg-blue-500 rounded-full animate-bounce"
                  style={{
                    left: `${Math.random() * 100}%`,
                    top: `${Math.random() * 100}%`,
                    animationDelay: `${Math.random() * 2}s`,
                    animationDuration: `${1 + Math.random()}s`
                  }}
                ></div>
              ))}
            </div>
          </div>

          <h2 className="text-2xl font-bold text-gray-900 mb-4">
            Email Verified Successfully! ðŸŽ‰
          </h2>
          <p className="text-gray-600 mb-6">
            Congratulations! Your email has been verified. You're now ready to start your NPPE preparation journey.
          </p>

          <div className="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
            <div className="flex items-start space-x-3">
              <i className="ri-lightbulb-line text-blue-600 text-xl mt-0.5"></i>
              <div className="text-left">
                <h3 className="font-semibold text-blue-900 mb-1">What's Next?</h3>
                <p className="text-blue-700 text-sm">
                  Complete your profile setup and take a diagnostic test to create your personalized study plan.
                </p>
              </div>
            </div>
          </div>

          <Button 
            onClick={handleContinue}
            className="w-full"
            size="lg"
          >
            Continue to Setup
            <i className="ri-arrow-right-line ml-2"></i>
          </Button>

          <div className="mt-6 text-center">
            <button
              onClick={() => navigate('/dashboard')}
              className="text-blue-600 hover:text-blue-700 font-medium cursor-pointer"
            >
              Skip setup and go to dashboard
            </button>
          </div>
        </Card>

        {/* Welcome Message */}
        <div className="mt-8 text-center">
          <p className="text-sm text-gray-600">
            Welcome to the NPPE Pro community! ðŸš€
          </p>
        </div>
      </div>
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\error\page.tsx
---- CONTENT ----

import { useState } from 'react';
import Header from '../../components/feature/Header';

export default function Error() {
  const [errorDetails, setErrorDetails] = useState(false);
  const [reportSent, setReportSent] = useState(false);

  const errorId = 'ERR-' + Math.random().toString(36).substr(2, 9).toUpperCase();

  const handleSendReport = () => {
    // Simulate sending error report
    setTimeout(() => {
      setReportSent(true);
    }, 1000);
  };

  const handleRetry = () => {
    window.location.reload();
  };

  const handleGoHome = () => {
    window.location.href = '/';
  };

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <div className="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
        <div className="text-center">
          <div className="w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-8">
            <i className="ri-error-warning-line text-4xl text-red-600"></i>
          </div>
          
          <h1 className="text-3xl font-bold text-gray-900 mb-4">Oops! Something went wrong</h1>
          <p className="text-lg text-gray-600 mb-8">
            We're sorry, but something unexpected happened. Our team has been notified and is working to fix the issue.
          </p>

          <div className="bg-white rounded-lg shadow p-6 mb-8">
            <div className="flex items-center justify-between mb-4">
              <h2 className="text-lg font-semibold text-gray-900">Error Information</h2>
              <span className="text-sm text-gray-500">Error ID: {errorId}</span>
            </div>
            
            <div className="text-left space-y-3">
              <div className="flex items-center justify-between">
                <span className="text-sm text-gray-600">Time:</span>
                <span className="text-sm text-gray-900">{new Date().toLocaleString()}</span>
              </div>
              <div className="flex items-center justify-between">
                <span className="text-sm text-gray-600">Page:</span>
                <span className="text-sm text-gray-900">{window.location.pathname}</span>
              </div>
              <div className="flex items-center justify-between">
                <span className="text-sm text-gray-600">Browser:</span>
                <span className="text-sm text-gray-900">{navigator.userAgent.split(' ')[0]}</span>
              </div>
            </div>

            <button
              onClick={() => setErrorDetails(!errorDetails)}
              className="mt-4 text-sm text-blue-600 hover:text-blue-800"
            >
              {errorDetails ? 'Hide' : 'Show'} technical details
            </button>

            {errorDetails && (
              <div className="mt-4 p-3 bg-gray-50 rounded text-left">
                <pre className="text-xs text-gray-700 overflow-x-auto">
{`TypeError: Cannot read property 'undefined' of null
    at Component.render (app.js:1234:56)
    at ReactDOM.render (react-dom.js:789:12)
    at Object.updateComponent (react.js:456:78)`}
                </pre>
              </div>
            )}
          </div>

          <div className="bg-blue-50 rounded-lg p-6 mb-8">
            <h3 className="font-semibold text-blue-900 mb-3">What you can do:</h3>
            <ul className="text-left text-blue-800 space-y-2">
              <li className="flex items-start space-x-2">
                <i className="ri-refresh-line mt-0.5"></i>
                <span>Try refreshing the page</span>
              </li>
              <li className="flex items-start space-x-2">
                <i className="ri-arrow-left-line mt-0.5"></i>
                <span>Go back to the previous page</span>
              </li>
              <li className="flex items-start space-x-2">
                <i className="ri-home-line mt-0.5"></i>
                <span>Return to the homepage</span>
              </li>
              <li className="flex items-start space-x-2">
                <i className="ri-customer-service-line mt-0.5"></i>
                <span>Contact our support team if the problem persists</span>
              </li>
            </ul>
          </div>

          <div className="space-y-4">
            <div className="flex space-x-4">
              <button 
                onClick={handleRetry}
                className="flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium"
              >
                <i className="ri-refresh-line mr-2"></i>
                Try Again
              </button>
              <button 
                onClick={handleGoHome}
                className="flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium"
              >
                <i className="ri-home-line mr-2"></i>
                Go Home
              </button>
            </div>

            <div className="border-t border-gray-200 pt-6">
              <h4 className="font-medium text-gray-900 mb-3">Help us improve</h4>
              <p className="text-sm text-gray-600 mb-4">
                Send us details about what happened to help prevent this error in the future.
              </p>
              
              {!reportSent ? (
                <button 
                  onClick={handleSendReport}
                  className="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors"
                >
                  <i className="ri-send-plane-line mr-2"></i>
                  Send Error Report
                </button>
              ) : (
                <div className="flex items-center justify-center space-x-2 text-green-600">
                  <i className="ri-check-line"></i>
                  <span className="text-sm">Error report sent successfully</span>
                </div>
              )}
            </div>
          </div>

          <div className="mt-12">
            <div className="border-t border-gray-200 pt-8">
              <h4 className="font-medium text-gray-900 mb-4">Need immediate help?</h4>
              <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                <a 
                  href="/support"
                  className="p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-center"
                >
                  <i className="ri-customer-service-line text-2xl text-blue-600 mb-2"></i>
                  <h5 className="font-medium text-gray-900">Support Center</h5>
                  <p className="text-sm text-gray-600">Get help from our team</p>
                </a>
                
                <a 
                  href="/help"
                  className="p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-center"
                >
                  <i className="ri-question-line text-2xl text-green-600 mb-2"></i>
                  <h5 className="font-medium text-gray-900">FAQ</h5>
                  <p className="text-sm text-gray-600">Find quick answers</p>
                </a>
                
                <a 
                  href="/forum"
                  className="p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-center"
                >
                  <i className="ri-chat-3-line text-2xl text-purple-600 mb-2"></i>
                  <h5 className="font-medium text-gray-900">Community</h5>
                  <p className="text-sm text-gray-600">Ask the community</p>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\features\page.tsx
---- CONTENT ----

import { useEffect } from 'react';
import Button from '../../components/base/Button';
import Card from '../../components/base/Card';
import { updateSEO, seoData } from '../../utils/seo';

export default function Features() {
  useEffect(() => {
    updateSEO(seoData.features);
  }, []);

  const mainFeatures = [
    {
      icon: 'ri-book-open-line',
      title: 'Comprehensive Question Bank',
      description: 'Access 500+ practice questions covering all NPPE exam topics with detailed explanations.',
      benefits: ['Updated annually', 'Expert-reviewed content', 'Difficulty levels', 'Topic categorization']
    },
    {
      icon: 'ri-timer-line',
      title: 'Realistic Practice Tests',
      description: 'Take full-length practice exams that simulate the actual NPPE testing environment.',
      benefits: ['Authentic timing', 'Real exam format', 'Instant scoring', 'Performance analytics']
    },
    {
      icon: 'ri-bar-chart-line',
      title: 'Advanced Analytics',
      description: 'Track your progress with detailed performance metrics and identify areas for improvement.',
      benefits: ['Progress tracking', 'Weakness identification', 'Study recommendations', 'Performance trends']
    },
    {
      icon: 'ri-road-map-line',
      title: 'Structured Study Path',
      description: 'Follow our 8-week guided curriculum designed by NPPE experts.',
      benefits: ['Week-by-week plan', 'Video tutorials', 'Reading materials', 'Practice assignments']
    },
    {
      icon: 'ri-team-line',
      title: 'Study Community',
      description: 'Connect with fellow engineers and get support from peers preparing for the same exam.',
      benefits: ['Discussion forums', 'Study groups', 'Peer support', 'Expert Q&A']
    },
    {
      icon: 'ri-smartphone-line',
      title: 'Mobile Learning',
      description: 'Study anywhere with our mobile-optimized platform and offline capabilities.',
      benefits: ['iOS & Android apps', 'Offline mode', 'Sync across devices', 'Push notifications']
    }
  ];

  const studyTools = [
    {
      icon: 'ri-bookmark-line',
      title: 'Smart Bookmarks',
      description: 'Save important questions and create custom study sets for focused review.'
    },
    {
      icon: 'ri-flashlight-line',
      title: 'Weakness Spotlight',
      description: 'AI-powered recommendations highlight your weak areas and suggest targeted practice.'
    },
    {
      icon: 'ri-calendar-line',
      title: 'Study Scheduler',
      description: 'Set study goals and receive personalized reminders to stay on track.'
    },
    {
      icon: 'ri-award-line',
      title: 'Achievement System',
      description: 'Earn badges and track milestones to stay motivated throughout your preparation.'
    }
  ];

  const examTopics = [
    { name: 'Professional Practice', coverage: '95%' },
    { name: 'Ethics', coverage: '92%' },
    { name: 'Engineering Law', coverage: '88%' },
    { name: 'Professional Liability', coverage: '90%' },
    { name: 'Contracts', coverage: '85%' },
    { name: 'Sustainability', coverage: '87%' },
    { name: 'Project Management', coverage: '89%' },
    { name: 'Leadership', coverage: '86%' }
  ];

  return (
    <div className="min-h-screen bg-white">
      {/* Header */}
      <header className="bg-white shadow-sm">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex justify-between items-center py-6">
            <div className="flex items-center space-x-2">
              <div className="w-8 h-8 flex items-center justify-center">
                <i className="ri-settings-3-line text-[#0277BD] text-xl"></i>
              </div>
              <h1 className="text-xl font-bold text-[#0277BD]">NPPE Pro</h1>
            </div>
            <div className="flex items-center space-x-6">
              <a href="/" className="text-gray-600 hover:text-[#0277BD] transition-colors">Home</a>
              <a href="/features" className="text-[#0277BD] font-medium">Features</a>
              <a href="/pricing" className="text-gray-600 hover:text-[#0277BD] transition-colors">Pricing</a>
              <a href="/about" className="text-gray-600 hover:text-[#0277BD] transition-colors">About</a>
              <a href="/blog" className="text-gray-600 hover:text-[#0277BD] transition-colors">Blog</a>
              <a href="/contact" className="text-gray-600 hover:text-[#0277BD] transition-colors">Contact</a>
              <a href="/login" className="text-gray-600 hover:text-[#0277BD] transition-colors">Login</a>
              <Button onClick={() => window.location.href = '/signup'}>Sign Up</Button>
            </div>
          </div>
        </div>
      </header>

      {/* Hero Section */}
      <section 
        className="relative bg-cover bg-center bg-no-repeat py-20"
        style={{
          backgroundImage: `linear-gradient(rgba(2, 119, 189, 0.9), rgba(1, 87, 155, 0.9)), url('https://readdy.ai/api/search-image?query=modern%20engineering%20study%20workspace%20laptop%20computer%20technical%20books%20calculator%20blueprints%20professional%20learning%20environment%20bright%20lighting%20organized%20desk&width=1200&height=400&seq=features-hero&orientation=landscape')`
        }}
      >
        <div className="max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8 text-white">
          <h1 className="text-4xl md:text-5xl font-bold mb-6">
            Everything You Need to Pass the NPPE
          </h1>
          <p className="text-xl md:text-2xl mb-8">
            Comprehensive tools, expert content, and proven strategies designed specifically for Canadian engineering professionals.
          </p>
          <Button size="lg" className="text-lg px-8 py-4 bg-white text-[#0277BD] hover:bg-gray-100" onClick={() => window.location.href = '/signup'}>
            Explore All Features
          </Button>
        </div>
      </section>

      {/* Main Features Section */}
      <section className="py-20 bg-gray-50">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="text-center mb-16">
            <h2 className="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
              Powerful Features for Exam Success
            </h2>
            <p className="text-xl text-gray-600 max-w-3xl mx-auto">
              Our platform combines cutting-edge technology with expert content to provide the most effective NPPE preparation experience.
            </p>
          </div>
          
          <div className="grid lg:grid-cols-2 gap-8">
            {mainFeatures.map((feature, index) => (
              <Card key={index} className="p-8 hover:shadow-lg transition-shadow">
                <div className="flex items-start space-x-4">
                  <div className="w-12 h-12 bg-[#0277BD] rounded-lg flex items-center justify-center flex-shrink-0">
                    <i className={`${feature.icon} text-white text-xl`}></i>
                  </div>
                  <div className="flex-1">
                    <h3 className="text-xl font-semibold text-gray-900 mb-3">{feature.title}</h3>
                    <p className="text-gray-600 mb-4">{feature.description}</p>
                    <ul className="space-y-2">
                      {feature.benefits.map((benefit, benefitIndex) => (
                        <li key={benefitIndex} className="flex items-center text-sm text-gray-600">
                          <i className="ri-check-line text-green-500 mr-2"></i>
                          {benefit}
                        </li>
                      ))}
                    </ul>
                  </div>
                </div>
              </Card>
            ))}
          </div>
        </div>
      </section>

      {/* Study Tools Section */}
      <section className="py-20 bg-white">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="text-center mb-16">
            <h2 className="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
              Smart Study Tools
            </h2>
            <p className="text-xl text-gray-600">
              AI-powered features that adapt to your learning style and optimize your study time
            </p>
          </div>
          
          <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
            {studyTools.map((tool, index) => (
              <Card key={index} className="text-center p-6 hover:shadow-lg transition-shadow">
                <div className="w-16 h-16 bg-gradient-to-br from-[#0277BD] to-[#01579B] rounded-full flex items-center justify-center mx-auto mb-4">
                  <i className={`${tool.icon} text-white text-2xl`}></i>
                </div>
                <h3 className="text-lg font-semibold text-gray-900 mb-3">{tool.title}</h3>
                <p className="text-gray-600 text-sm">{tool.description}</p>
              </Card>
            ))}
          </div>
        </div>
      </section>

      {/* Topic Coverage Section */}
      <section className="py-20 bg-gray-50">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="grid lg:grid-cols-2 gap-12 items-center">
            <div>
              <h2 className="text-3xl md:text-4xl font-bold text-gray-900 mb-6">
                Complete NPPE Topic Coverage
              </h2>
              <p className="text-lg text-gray-600 mb-8">
                Our question bank covers all eight core NPPE topics with comprehensive practice materials and expert explanations.
              </p>
              
              <div className="space-y-4">
                {examTopics.map((topic, index) => (
                  <div key={index} className="flex items-center justify-between p-4 bg-white rounded-lg shadow-sm">
                    <span className="font-medium text-gray-900">{topic.name}</span>
                    <div className="flex items-center space-x-3">
                      <div className="w-24 bg-gray-200 rounded-full h-2">
                        <div 
                          className="bg-gradient-to-r from-[#0277BD] to-[#01579B] h-2 rounded-full"
                          style={{ width: topic.coverage }}
                        ></div>
                      </div>
                      <span className="text-sm font-semibold text-[#0277BD] w-12">{topic.coverage}</span>
                    </div>
                  </div>
                ))}
              </div>
            </div>
            
            <div>
              <img
                src="https://readdy.ai/api/search-image?query=engineering%20study%20materials%20textbooks%20technical%20documents%20NPPE%20exam%20preparation%20organized%20desk%20workspace%20professional%20learning%20environment%20bright%20lighting&width=600&height=500&seq=topic-coverage&orientation=landscape"
                alt="NPPE study materials"
                className="rounded-lg shadow-lg w-full h-auto object-cover"
              />
            </div>
          </div>
        </div>
      </section>

      {/* Platform Demo Section */}
      <section className="py-20 bg-white">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="text-center mb-16">
            <h2 className="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
              See NPPE Pro in Action
            </h2>
            <p className="text-xl text-gray-600">
              Experience our intuitive interface and powerful features
            </p>
          </div>
          
          <div className="grid lg:grid-cols-3 gap-8">
            <Card className="p-6">
              <img
                src="https://readdy.ai/api/search-image?query=modern%20dashboard%20interface%20analytics%20charts%20progress%20tracking%20clean%20design%20professional%20software%20UI%20engineering%20education%20platform&width=400&height=250&seq=dashboard-demo&orientation=landscape"
                alt="Dashboard interface"
                className="w-full h-48 object-cover rounded-lg mb-4"
              />
              <h3 className="text-xl font-semibold text-gray-900 mb-2">Smart Dashboard</h3>
              <p className="text-gray-600">Track your progress with detailed analytics and personalized insights.</p>
            </Card>
            
            <Card className="p-6">
              <img
                src="https://readdy.ai/api/search-image?query=practice%20test%20interface%20multiple%20choice%20questions%20clean%20design%20professional%20exam%20software%20UI%20engineering%20education%20platform&width=400&height=250&seq=practice-demo&orientation=landscape"
                alt="Practice test interface"
                className="w-full h-48 object-cover rounded-lg mb-4"
              />
              <h3 className="text-xl font-semibold text-gray-900 mb-2">Practice Tests</h3>
              <p className="text-gray-600">Take realistic practice exams with instant feedback and detailed explanations.</p>
            </Card>
            
            <Card className="p-6">
              <img
                src="https://readdy.ai/api/search-image?query=study%20path%20curriculum%20interface%20structured%20learning%20modules%20clean%20design%20professional%20education%20software%20UI%20engineering%20platform&width=400&height=250&seq=study-path-demo&orientation=landscape"
                alt="Study path interface"
                className="w-full h-48 object-cover rounded-lg mb-4"
              />
              <h3 className="text-xl font-semibold text-gray-900 mb-2">Guided Study Path</h3>
              <p className="text-gray-600">Follow our expert-designed 8-week curriculum for structured preparation.</p>
            </Card>
          </div>
          
          <div className="text-center mt-12">
            <Button size="lg" className="text-lg px-8 py-4" onClick={() => window.location.href = '/signup'}>
              Try Free Demo
            </Button>
            <p className="mt-4 text-gray-600">No credit card required â€¢ Full access for 14 days</p>
          </div>
        </div>
      </section>

      {/* CTA Section */}
      <section className="py-20 bg-[#0277BD]">
        <div className="max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8">
          <h2 className="text-3xl md:text-4xl font-bold text-white mb-6">
            Ready to Experience These Features?
          </h2>
          <p className="text-xl text-blue-100 mb-8">
            Join thousands of engineers who have successfully passed their NPPE exam with our comprehensive platform.
          </p>
          <div className="flex flex-col sm:flex-row gap-4 justify-center">
            <Button size="lg" className="text-lg px-8 py-4 bg-white text-[#0277BD] hover:bg-gray-100" onClick={() => window.location.href = '/signup'}>
              Start Free Trial
            </Button>
            <Button variant="secondary" size="lg" className="text-lg px-8 py-4 bg-white/20 border-white text-white hover:bg-white/30">
              Watch Demo Video
            </Button>
          </div>
        </div>
      </section>

      {/* Footer */}
      <footer className="bg-gray-800 text-white py-12">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="grid md:grid-cols-4 gap-8">
            <div>
              <div className="flex items-center space-x-2 mb-4">
                <div className="w-8 h-8 flex items-center justify-center">
                  <i className="ri-settings-3-line text-[#0277BD] text-xl"></i>
                </div>
                <h3 className="text-xl font-bold">NPPE Pro</h3>
              </div>
              <p className="text-gray-400">
                The most comprehensive NPPE exam preparation platform for professional engineers.
              </p>
            </div>
            <div>
              <h4 className="font-semibold mb-4">Product</h4>
              <ul className="space-y-2 text-gray-400">
                <li><a href="/features" className="hover:text-white transition-colors">Features</a></li>
                <li><a href="/pricing" className="hover:text-white transition-colors">Pricing</a></li>
                <li><a href="/practice" className="hover:text-white transition-colors">Practice Tests</a></li>
                <li><a href="/study-path" className="hover:text-white transition-colors">Study Materials</a></li>
                <li><a href="/topics" className="hover:text-white transition-colors">Topics</a></li>
                <li><a href="/analytics" className="hover:text-white transition-colors">Analytics</a></li>
              </ul>
            </div>
            <div>
              <h4 className="font-semibold mb-4">Community</h4>
              <ul className="space-y-2 text-gray-400">
                <li><a href="/forum" className="hover:text-white transition-colors">Forum</a></li>
                <li><a href="/study-groups" className="hover:text-white transition-colors">Study Groups</a></li>
                <li><a href="/achievements" className="hover:text-white transition-colors">Achievements</a></li>
                <li><a href="/dashboard" className="hover:text-white transition-colors">Dashboard</a></li>
              </ul>
            </div>
            <div>
              <h4 className="font-semibold mb-4">Support</h4>
              <ul className="space-y-2 text-gray-400">
                <li><a href="/about" className="hover:text-white transition-colors">About</a></li>
                <li><a href="/blog" className="hover:text-white transition-colors">Blog</a></li>
                <li><a href="/contact" className="hover:text-white transition-colors">Contact</a></li>
                <li><a href="/help" className="hover:text-white transition-colors">Help</a></li>
                <li><a href="/support" className="hover:text-white transition-colors">Support</a></li>
                <li><a href="/privacy-policy" className="hover:text-white transition-colors">Privacy Policy</a></li>
                <li><a href="/terms-of-service" className="hover:text-white transition-colors">Terms of Service</a></li>
              </ul>
            </div>
          </div>
          <div className="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
            <p>&copy; 2024 NPPE Pro. All rights reserved. | <a href="https://readdy.ai/?origin=logo" className="hover:text-white transition-colors">Powered by Readdy</a></p>
          </div>
        </div>
      </footer>
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\forgot-password\page.tsx
---- CONTENT ----

import { useEffect, useState } from 'react';
import { useNavigate } from 'react-router-dom';
import Card from '../../components/base/Card';
import Button from '../../components/base/Button';
import LoadingSpinner from '../../components/effects/LoadingSpinner';
import { updateSEO, seoData } from '../../utils/seo';
import { authService } from '../../api';

export default function ForgotPassword() {
  const [email, setEmail] = useState('');
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [submitStatus, setSubmitStatus] = useState<'idle' | 'success' | 'error'>('idle');
  const [errorMessage, setErrorMessage] = useState('');
  const navigate = useNavigate();

  useEffect(() => {
    updateSEO({
      title: 'Forgot Password - NPPE Pro',
      description: 'Reset your NPPE Pro account password',
      keywords: 'password reset, forgot password, NPPE',
      canonical: '/forgot-password'
    });
  }, []);

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setIsSubmitting(true);
    setErrorMessage('');
    
    try {
      await authService.forgotPassword({ email });
      setSubmitStatus('success');
    } catch (error) {
      setSubmitStatus('error');
      setErrorMessage(error instanceof Error ? error.message : 'Failed to send reset link');
    } finally {
      setIsSubmitting(false);
    }
  };

  if (submitStatus === 'success') {
    return (
      <div className="min-h-screen bg-gray-50 flex items-center justify-center px-4 sm:px-6 lg:px-8">
        <div className="max-w-md w-full">
          <Card className="text-center">
            <div className="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
              <i className="ri-mail-check-line text-green-600 text-2xl"></i>
            </div>
            <h2 className="text-2xl font-bold text-gray-900 mb-4">
              Check Your Email
            </h2>
            <p className="text-gray-600 mb-6">
              We've sent a password reset link to <strong>{email}</strong>. 
              Please check your email and follow the instructions to reset your password.
            </p>
            <div className="space-y-4">
              <Button 
                onClick={() => navigate('/login')}
                className="w-full"
              >
                Back to Login
              </Button>
              <button
                onClick={() => setSubmitStatus('idle')}
                className="w-full text-blue-600 hover:text-blue-700 font-medium cursor-pointer"
              >
                Didn't receive the email? Try again
              </button>
            </div>
          </Card>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-50 flex items-center justify-center px-4 sm:px-6 lg:px-8">
      <div className="max-w-md w-full">
        {submitStatus === 'error' && errorMessage && (
          <div className="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg">
            <div className="flex items-center">
              <i className="ri-error-warning-line text-red-600 text-xl mr-3"></i>
              <p className="text-red-800">{errorMessage}</p>
            </div>
          </div>
        )}
        <div className="text-center mb-8">
          <div className="flex items-center justify-center space-x-2 mb-6">
            <div className="w-8 h-8 flex items-center justify-center">
              <i className="ri-settings-3-line text-blue-600 text-xl"></i>
            </div>
            <h1 className="text-2xl font-bold text-gray-900">NPPE Pro</h1>
          </div>
          <h2 className="text-3xl font-bold text-gray-900 mb-2">
            Forgot Password?
          </h2>
          <p className="text-gray-600">
            No worries! Enter your email address and we'll send you a reset link.
          </p>
        </div>

        <Card>
          <form onSubmit={handleSubmit} className="space-y-6">
            <div>
              <label htmlFor="email" className="block text-sm font-medium text-gray-700 mb-2">
                Email Address
              </label>
              <input
                id="email"
                name="email"
                type="email"
                value={email}
                onChange={(e) => setEmail(e.target.value)}
                required
                className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                placeholder="Enter your email address"
              />
            </div>

            <Button
              type="submit"
              disabled={isSubmitting || !email}
              className="w-full"
              size="lg"
            >
              {isSubmitting ? (
                <>
                  <LoadingSpinner size="sm" />
                  <span className="ml-2">Sending Reset Link...</span>
                </>
              ) : (
                'Send Reset Link'
              )}
            </Button>
          </form>

          <div className="mt-6 text-center">
            <button
              onClick={() => navigate('/login')}
              className="text-blue-600 hover:text-blue-700 font-medium cursor-pointer"
            >
              <i className="ri-arrow-left-line mr-2"></i>
              Back to Login
            </button>
          </div>
        </Card>

        <div className="mt-8 text-center">
          <p className="text-sm text-gray-600">
            Don't have an account?{' '}
            <button
              onClick={() => navigate('/signup')}
              className="text-blue-600 hover:text-blue-700 font-medium cursor-pointer"
            >
              Sign up here
            </button>
          </p>
        </div>
      </div>
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\forum\new\page.tsx
---- CONTENT ----

import { useState } from 'react';
import Header from '../../../components/feature/Header';

const categories = [
  'Structural Analysis',
  'Concrete Design',
  'Steel Design',
  'Geotechnical Engineering',
  'Transportation Engineering',
  'Water Resources',
  'Environmental Engineering',
  'Construction Management',
  'General Discussion',
  'Study Tips',
  'Exam Preparation',
  'Career Advice'
];

const popularTags = [
  'beam-analysis', 'concrete-design', 'steel-connections', 'soil-mechanics',
  'traffic-engineering', 'hydrology', 'environmental-impact', 'project-management',
  'nppe-exam', 'study-group', 'practice-questions', 'career-advice'
];

export default function ForumNew() {
  const [title, setTitle] = useState('');
  const [content, setContent] = useState('');
  const [category, setCategory] = useState('');
  const [selectedTags, setSelectedTags] = useState<string[]>([]);
  const [customTag, setCustomTag] = useState('');
  const [isPreview, setIsPreview] = useState(false);

  const handleTagToggle = (tag: string) => {
    setSelectedTags(prev => 
      prev.includes(tag) 
        ? prev.filter(t => t !== tag)
        : [...prev, tag]
    );
  };

  const handleAddCustomTag = () => {
    if (customTag.trim() && !selectedTags.includes(customTag.trim())) {
      setSelectedTags(prev => [...prev, customTag.trim()]);
      setCustomTag('');
    }
  };

  const handleSubmit = () => {
    if (title.trim() && content.trim() && category) {
      // Handle form submission
      console.log({
        title,
        content,
        category,
        tags: selectedTags
      });
      // Redirect to forum or show success message
    }
  };

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        {/* Header */}
        <div className="mb-8">
          <h1 className="text-3xl font-bold text-gray-900 mb-2">Create New Discussion</h1>
          <p className="text-gray-600">Share your knowledge and ask questions to help the engineering community</p>
        </div>

        <div className="bg-white rounded-lg shadow">
          {/* Form Header */}
          <div className="px-6 py-4 border-b border-gray-200">
            <div className="flex items-center justify-between">
              <h2 className="text-lg font-semibold text-gray-900">New Post</h2>
              <div className="flex space-x-2">
                <button
                  onClick={() => setIsPreview(false)}
                  className={`px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${
                    !isPreview 
                      ? 'bg-blue-600 text-white' 
                      : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                  }`}
                >
                  Write
                </button>
                <button
                  onClick={() => setIsPreview(true)}
                  className={`px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${
                    isPreview 
                      ? 'bg-blue-600 text-white' 
                      : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                  }`}
                >
                  Preview
                </button>
              </div>
            </div>
          </div>

          <div className="p-6">
            {!isPreview ? (
              <div className="space-y-6">
                {/* Title */}
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    Title *
                  </label>
                  <input
                    type="text"
                    value={title}
                    onChange={(e) => setTitle(e.target.value)}
                    placeholder="What's your question or topic?"
                    className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                </div>

                {/* Category */}
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    Category *
                  </label>
                  <select
                    value={category}
                    onChange={(e) => setCategory(e.target.value)}
                    className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8"
                  >
                    <option value="">Select a category</option>
                    {categories.map((cat) => (
                      <option key={cat} value={cat}>{cat}</option>
                    ))}
                  </select>
                </div>

                {/* Content */}
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    Content *
                  </label>
                  <textarea
                    value={content}
                    onChange={(e) => setContent(e.target.value)}
                    placeholder="Describe your question or share your knowledge in detail..."
                    rows={12}
                    className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
                  />
                  <p className="text-sm text-gray-500 mt-1">
                    You can use markdown formatting. Be specific and provide context.
                  </p>
                </div>

                {/* Tags */}
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    Tags
                  </label>
                  <div className="space-y-3">
                    {/* Selected Tags */}
                    {selectedTags.length > 0 && (
                      <div className="flex flex-wrap gap-2">
                        {selectedTags.map((tag) => (
                          <span
                            key={tag}
                            className="inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full"
                          >
                            {tag}
                            <button
                              onClick={() => handleTagToggle(tag)}
                              className="ml-2 text-blue-600 hover:text-blue-800"
                            >
                              <i className="ri-close-line text-xs"></i>
                            </button>
                          </span>
                        ))}
                      </div>
                    )}

                    {/* Popular Tags */}
                    <div>
                      <p className="text-sm text-gray-600 mb-2">Popular tags:</p>
                      <div className="flex flex-wrap gap-2">
                        {popularTags.map((tag) => (
                          <button
                            key={tag}
                            onClick={() => handleTagToggle(tag)}
                            className={`px-3 py-1 text-sm rounded-full border transition-colors ${
                              selectedTags.includes(tag)
                                ? 'bg-blue-100 text-blue-800 border-blue-300'
                                : 'bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200'
                            }`}
                          >
                            {tag}
                          </button>
                        ))}
                      </div>
                    </div>

                    {/* Custom Tag Input */}
                    <div className="flex space-x-2">
                      <input
                        type="text"
                        value={customTag}
                        onChange={(e) => setCustomTag(e.target.value)}
                        placeholder="Add custom tag..."
                        className="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"
                        onKeyPress={(e) => e.key === 'Enter' && handleAddCustomTag()}
                      />
                      <button
                        onClick={handleAddCustomTag}
                        className="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors whitespace-nowrap"
                      >
                        Add Tag
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            ) : (
              /* Preview */
              <div className="space-y-6">
                <div>
                  <h2 className="text-2xl font-bold text-gray-900 mb-2">{title || 'Your Title Here'}</h2>
                  <div className="flex items-center space-x-4 text-sm text-gray-600">
                    <span>Category: {category || 'No category selected'}</span>
                    <span>â€¢</span>
                    <span>Posted by You</span>
                    <span>â€¢</span>
                    <span>Just now</span>
                  </div>
                </div>

                <div className="prose max-w-none">
                  <p className="text-gray-700 whitespace-pre-line">
                    {content || 'Your content will appear here...'}
                  </p>
                </div>

                {selectedTags.length > 0 && (
                  <div className="flex flex-wrap gap-2">
                    {selectedTags.map((tag) => (
                      <span key={tag} className="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">
                        {tag}
                      </span>
                    ))}
                  </div>
                )}
              </div>
            )}

            {/* Actions */}
            <div className="flex justify-between items-center pt-6 border-t border-gray-200 mt-6">
              <div className="text-sm text-gray-500">
                <i className="ri-information-line mr-1"></i>
                Make sure to follow our community guidelines
              </div>
              <div className="flex space-x-3">
                <button className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap">
                  Save Draft
                </button>
                <button 
                  onClick={handleSubmit}
                  disabled={!title.trim() || !content.trim() || !category}
                  className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors whitespace-nowrap"
                >
                  Post Discussion
                </button>
              </div>
            </div>
          </div>
        </div>

        {/* Guidelines */}
        <div className="mt-8 bg-blue-50 rounded-lg p-6">
          <h3 className="font-semibold text-blue-900 mb-3">Posting Guidelines</h3>
          <ul className="space-y-2 text-sm text-blue-800">
            <li className="flex items-start space-x-2">
              <i className="ri-check-line mt-0.5"></i>
              <span>Be specific and provide context for your questions</span>
            </li>
            <li className="flex items-start space-x-2">
              <i className="ri-check-line mt-0.5"></i>
              <span>Use clear, descriptive titles that summarize your topic</span>
            </li>
            <li className="flex items-start space-x-2">
              <i className="ri-check-line mt-0.5"></i>
              <span>Include relevant calculations, diagrams, or code when applicable</span>
            </li>
            <li className="flex items-start space-x-2">
              <i className="ri-check-line mt-0.5"></i>
              <span>Tag your posts appropriately to help others find them</span>
            </li>
            <li className="flex items-start space-x-2">
              <i className="ri-check-line mt-0.5"></i>
              <span>Be respectful and constructive in all interactions</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\forum\page.tsx
---- CONTENT ----

import { useEffect, useState } from 'react';
import Header from '../../components/feature/Header';
import MobileNavigation from '../../components/feature/MobileNavigation';
import Card from '../../components/base/Card';
import Button from '../../components/base/Button';
import { updateSEO, seoData } from '../../utils/seo';

export default function Forum() {
  const [selectedCategory, setSelectedCategory] = useState('all');
  const [sortBy, setSortBy] = useState('recent');
  const [searchQuery, setSearchQuery] = useState('');

  useEffect(() => {
    updateSEO(seoData.forum);
  }, []);

  const categories = [
    { id: 'all', name: 'All Discussions', count: 156, icon: 'ri-chat-3-line' },
    { id: 'general', name: 'General Discussion', count: 45, icon: 'ri-chat-1-line' },
    { id: 'study-tips', name: 'Study Tips', count: 32, icon: 'ri-lightbulb-line' },
    { id: 'exam-prep', name: 'Exam Preparation', count: 28, icon: 'ri-file-text-line' },
    { id: 'career', name: 'Career Advice', count: 24, icon: 'ri-briefcase-line' },
    { id: 'technical', name: 'Technical Questions', count: 18, icon: 'ri-tools-line' },
    { id: 'success-stories', name: 'Success Stories', count: 9, icon: 'ri-trophy-line' }
  ];

  const forumPosts = [
    {
      id: 1,
      title: 'How to effectively manage time during the NPPE exam?',
      category: 'exam-prep',
      author: {
        name: 'Sarah Chen',
        avatar: 'professional female engineer avatar confident smile modern office background',
        title: 'Mechanical Engineer',
        reputation: 245
      },
      content: 'I\'m struggling with time management during practice tests. Any tips on how to pace myself during the actual exam?',
      replies: 12,
      views: 89,
      lastActivity: '2 hours ago',
      tags: ['time-management', 'exam-strategy', 'practice-tests'],
      isPinned: false,
      isAnswered: true,
      votes: 8
    },
    {
      id: 2,
      title: 'Passed NPPE on first attempt - My complete study strategy',
      category: 'success-stories',
      author: {
        name: 'Michael Rodriguez',
        avatar: 'professional male engineer success story confident expression office environment',
        title: 'Civil Engineer, P.Eng',
        reputation: 412
      },
      content: 'Just received my results and I passed! Here\'s the complete study strategy that worked for me...',
      replies: 28,
      views: 234,
      lastActivity: '4 hours ago',
      tags: ['success-story', 'study-strategy', 'first-attempt'],
      isPinned: true,
      isAnswered: false,
      votes: 24
    },
    {
      id: 3,
      title: 'Ethics case study discussion - Conflict of interest scenarios',
      category: 'technical',
      author: {
        name: 'Jennifer Liu',
        avatar: 'professional female engineer ethics discussion serious expression modern office',
        title: 'Electrical Engineer',
        reputation: 189
      },
      content: 'Let\'s discuss some complex conflict of interest scenarios that might appear on the exam...',
      replies: 15,
      views: 156,
      lastActivity: '6 hours ago',
      tags: ['ethics', 'case-study', 'conflict-of-interest'],
      isPinned: false,
      isAnswered: true,
      votes: 11
    },
    {
      id: 4,
      title: 'Best resources for Professional Practice topics?',
      category: 'study-tips',
      author: {
        name: 'David Thompson',
        avatar: 'professional male engineer study resources question expression office background',
        title: 'Software Engineer',
        reputation: 156
      },
      content: 'I\'m looking for additional resources to supplement the course materials for Professional Practice...',
      replies: 9,
      views: 67,
      lastActivity: '8 hours ago',
      tags: ['resources', 'professional-practice', 'study-materials'],
      isPinned: false,
      isAnswered: true,
      votes: 5
    },
    {
      id: 5,
      title: 'Study group formation - Toronto area',
      category: 'general',
      author: {
        name: 'Lisa Wang',
        avatar: 'professional female engineer study group organizer friendly smile office environment',
        title: 'Chemical Engineer',
        reputation: 98
      },
      content: 'Looking to form a study group for engineers in the Toronto area. Anyone interested?',
      replies: 7,
      views: 45,
      lastActivity: '12 hours ago',
      tags: ['study-group', 'toronto', 'collaboration'],
      isPinned: false,
      isAnswered: false,
      votes: 3
    },
    {
      id: 6,
      title: 'Contract law questions - Need clarification on liability clauses',
      category: 'technical',
      author: {
        name: 'Robert Kim',
        avatar: 'professional male engineer contract law question serious expression office background',
        title: 'Mechanical Engineer',
        reputation: 134
      },
      content: 'I\'m having trouble understanding some of the liability clauses in engineering contracts...',
      replies: 6,
      views: 38,
      lastActivity: '1 day ago',
      tags: ['contracts', 'liability', 'legal'],
      isPinned: false,
      isAnswered: false,
      votes: 2
    }
  ];

  const filteredPosts = forumPosts.filter(post => {
    const matchesCategory = selectedCategory === 'all' || post.category === selectedCategory;
    const matchesSearch = post.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
                         post.content.toLowerCase().includes(searchQuery.toLowerCase()) ||
                         post.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase()));
    return matchesCategory && matchesSearch;
  });

  const sortedPosts = [...filteredPosts].sort((a, b) => {
    switch (sortBy) {
      case 'recent':
        return new Date(b.lastActivity).getTime() - new Date(a.lastActivity).getTime();
      case 'popular':
        return b.votes - a.votes;
      case 'replies':
        return b.replies - a.replies;
      case 'views':
        return b.views - a.views;
      default:
        return 0;
    }
  });

  // Separate pinned posts
  const pinnedPosts = sortedPosts.filter(post => post.isPinned);
  const regularPosts = sortedPosts.filter(post => !post.isPinned);

  const getReputationBadge = (reputation: number) => {
    if (reputation >= 400) return { text: 'Expert', color: 'bg-purple-100 text-purple-700' };
    if (reputation >= 200) return { text: 'Advanced', color: 'bg-blue-100 text-blue-700' };
    if (reputation >= 100) return { text: 'Member', color: 'bg-green-100 text-green-700' };
    return { text: 'Newcomer', color: 'bg-gray-100 text-gray-700' };
  };

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-24">
        {/* Header */}
        <div className="flex items-center justify-between mb-8">
          <div>
            <h1 className="text-3xl font-bold text-gray-900 mb-2">
              Community Forum
            </h1>
            <p className="text-gray-600">
              Connect with fellow engineers, share knowledge, and get support for your NPPE preparation.
            </p>
          </div>
          <Button>
            <i className="ri-add-line mr-2"></i>
            New Discussion
          </Button>
        </div>

        <div className="grid lg:grid-cols-4 gap-8">
          {/* Sidebar */}
          <div className="lg:col-span-1 space-y-6">
            {/* Search */}
            <Card>
              <h3 className="text-lg font-semibold text-gray-900 mb-4">Search Discussions</h3>
              <div className="relative">
                <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                  <i className="ri-search-line text-gray-400"></i>
                </div>
                <input
                  type="text"
                  value={searchQuery}
                  onChange={(e) => setSearchQuery(e.target.value)}
                  className="block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"
                  placeholder="Search discussions..."
                />
              </div>
            </Card>

            {/* Categories */}
            <Card>
              <h3 className="text-lg font-semibold text-gray-900 mb-4">Categories</h3>
              <div className="space-y-2">
                {categories.map((category) => (
                  <button
                    key={category.id}
                    onClick={() => setSelectedCategory(category.id)}
                    className={`w-full flex items-center justify-between px-3 py-2 rounded-lg text-left transition-colors cursor-pointer ${
                      selectedCategory === category.id
                        ? 'bg-blue-100 text-blue-700 border border-blue-200'
                        : 'text-gray-700 hover:bg-gray-100'
                    }`}
                  >
                    <div className="flex items-center">
                      <i className={`${category.icon} mr-3`}></i>
                      <span className="text-sm font-medium">{category.name}</span>
                    </div>
                    <span className="text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded-full">
                      {category.count}
                    </span>
                  </button>
                ))}
              </div>
            </Card>

            {/* Sort Options */}
            <Card>
              <h3 className="text-lg font-semibold text-gray-900 mb-4">Sort By</h3>
              <div className="space-y-2">
                {[
                  { id: 'recent', name: 'Most Recent', icon: 'ri-time-line' },
                  { id: 'popular', name: 'Most Popular', icon: 'ri-heart-line' },
                  { id: 'replies', name: 'Most Replies', icon: 'ri-chat-3-line' },
                  { id: 'views', name: 'Most Views', icon: 'ri-eye-line' }
                ].map((sort) => (
                  <button
                    key={sort.id}
                    onClick={() => setSortBy(sort.id)}
                    className={`w-full flex items-center px-3 py-2 rounded-lg text-left transition-colors cursor-pointer ${
                      sortBy === sort.id
                        ? 'bg-blue-100 text-blue-700 border border-blue-200'
                        : 'text-gray-700 hover:bg-gray-100'
                    }`}
                  >
                    <i className={`${sort.icon} mr-3`}></i>
                    <span className="text-sm font-medium">{sort.name}</span>
                  </button>
                ))}
              </div>
            </Card>

            {/* Forum Stats */}
            <Card>
              <h3 className="text-lg font-semibold text-gray-900 mb-4">Forum Stats</h3>
              <div className="space-y-3">
                <div className="flex justify-between">
                  <span className="text-sm text-gray-600">Total Discussions</span>
                  <span className="text-sm font-medium text-gray-900">156</span>
                </div>
                <div className="flex justify-between">
                  <span className="text-sm text-gray-600">Active Members</span>
                  <span className="text-sm font-medium text-gray-900">89</span>
                </div>
                <div className="flex justify-between">
                  <span className="text-sm text-gray-600">Total Replies</span>
                  <span className="text-sm font-medium text-gray-900">1,247</span>
                </div>
                <div className="flex justify-between">
                  <span className="text-sm text-gray-600">Online Now</span>
                  <span className="text-sm font-medium text-green-600">12</span>
                </div>
              </div>
            </Card>
          </div>

          {/* Main Content */}
          <div className="lg:col-span-3">
            {/* Results Header */}
            <div className="flex items-center justify-between mb-6">
              <div>
                <h2 className="text-xl font-semibold text-gray-900">
                  {sortedPosts.length} Discussions
                </h2>
                <p className="text-sm text-gray-600">
                  {selectedCategory !== 'all' && `in ${categories.find(c => c.id === selectedCategory)?.name}`}
                </p>
              </div>
            </div>

            {/* Pinned Posts */}
            {pinnedPosts.length > 0 && (
              <div className="mb-6">
                <h3 className="text-lg font-medium text-gray-900 mb-4 flex items-center">
                  <i className="ri-pushpin-line mr-2"></i>
                  Pinned Discussions
                </h3>
                <div className="space-y-4">
                  {pinnedPosts.map((post) => (
                    <Card key={post.id} className="border-l-4 border-l-blue-500">
                      <div className="flex items-start justify-between">
                        <div className="flex-1">
                          <div className="flex items-center space-x-3 mb-2">
                            <i className="ri-pushpin-fill text-blue-600"></i>
                            <span className="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full">
                              {categories.find(c => c.id === post.category)?.name}
                            </span>
                            {post.isAnswered && (
                              <span className="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full">
                                Answered
                              </span>
                            )}
                          </div>
                          
                          <h3 className="text-lg font-semibold text-gray-900 mb-2 hover:text-blue-600 cursor-pointer">
                            {post.title}
                          </h3>
                          
                          <p className="text-gray-600 mb-3 line-clamp-2">
                            {post.content}
                          </p>
                          
                          <div className="flex flex-wrap gap-2 mb-3">
                            {post.tags.map((tag, index) => (
                              <span key={index} className="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">
                                #{tag}
                              </span>
                            ))}
                          </div>
                          
                          <div className="flex items-center justify-between">
                            <div className="flex items-center space-x-4">
                              <img
                                src={`https://readdy.ai/api/search-image?query=$%7Bpost.author.avatar%7D&width=32&height=32&seq=forum-author-${post.id}&orientation=squarish`}
                                alt={post.author.name}
                                className="w-8 h-8 rounded-full object-cover"
                              />
                              <div>
                                <div className="flex items-center space-x-2">
                                  <span className="text-sm font-medium text-gray-900">{post.author.name}</span>
                                  <span className={`text-xs px-2 py-1 rounded-full ${getReputationBadge(post.author.reputation).color}`}>
                                    {getReputationBadge(post.author.reputation).text}
                                  </span>
                                </div>
                                <span className="text-xs text-gray-500">{post.author.title}</span>
                              </div>
                            </div>
                            
                            <div className="flex items-center space-x-4 text-sm text-gray-600">
                              <div className="flex items-center">
                                <i className="ri-heart-line mr-1"></i>
                                <span>{post.votes}</span>
                              </div>
                              <div className="flex items-center">
                                <i className="ri-chat-3-line mr-1"></i>
                                <span>{post.replies}</span>
                              </div>
                              <div className="flex items-center">
                                <i className="ri-eye-line mr-1"></i>
                                <span>{post.views}</span>
                              </div>
                              <span>{post.lastActivity}</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </Card>
                  ))}
                </div>
              </div>
            )}

            {/* Regular Posts */}
            <div className="space-y-4">
              {regularPosts.map((post) => (
                <Card key={post.id} className="hover:shadow-lg transition-shadow cursor-pointer">
                  <div className="flex items-start justify-between">
                    <div className="flex-1">
                      <div className="flex items-center space-x-3 mb-2">
                        <span className="text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded-full">
                          {categories.find(c => c.id === post.category)?.name}
                        </span>
                        {post.isAnswered && (
                          <span className="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full">
                            Answered
                          </span>
                        )}
                      </div>
                      
                      <h3 className="text-lg font-semibold text-gray-900 mb-2 hover:text-blue-600">
                        {post.title}
                      </h3>
                      
                      <p className="text-gray-600 mb-3 line-clamp-2">
                        {post.content}
                      </p>
                      
                      <div className="flex flex-wrap gap-2 mb-3">
                        {post.tags.map((tag, index) => (
                          <span key={index} className="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">
                            #{tag}
                          </span>
                        ))}
                      </div>
                      
                      <div className="flex items-center justify-between">
                        <div className="flex items-center space-x-4">
                          <img
                            src={`https://readdy.ai/api/search-image?query=$%7Bpost.author.avatar%7D&width=32&height=32&seq=forum-author-${post.id}&orientation=squarish`}
                            alt={post.author.name}
                            className="w-8 h-8 rounded-full object-cover"
                          />
                          <div>
                            <div className="flex items-center space-x-2">
                              <span className="text-sm font-medium text-gray-900">{post.author.name}</span>
                              <span className={`text-xs px-2 py-1 rounded-full ${getReputationBadge(post.author.reputation).color}`}>
                                {getReputationBadge(post.author.reputation).text}
                              </span>
                            </div>
                            <span className="text-xs text-gray-500">{post.author.title}</span>
                          </div>
                        </div>
                        
                        <div className="flex items-center space-x-4 text-sm text-gray-600">
                          <div className="flex items-center">
                            <i className="ri-heart-line mr-1"></i>
                            <span>{post.votes}</span>
                          </div>
                          <div className="flex items-center">
                            <i className="ri-chat-3-line mr-1"></i>
                            <span>{post.replies}</span>
                          </div>
                          <div className="flex items-center">
                            <i className="ri-eye-line mr-1"></i>
                            <span>{post.views}</span>
                          </div>
                          <span>{post.lastActivity}</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </Card>
              ))}
            </div>

            {/* Empty State */}
            {sortedPosts.length === 0 && (
              <Card className="text-center py-12">
                <i className="ri-chat-3-line text-4xl text-gray-400 mb-4 block"></i>
                <h3 className="text-lg font-medium text-gray-900 mb-2">No discussions found</h3>
                <p className="text-gray-600 mb-6">
                  {searchQuery ? 'Try adjusting your search terms.' : 'Be the first to start a discussion in this category!'}
                </p>
                <Button>
                  <i className="ri-add-line mr-2"></i>
                  Start New Discussion
                </Button>
              </Card>
            )}
          </div>
        </div>
      </main>

      <MobileNavigation />
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\forum\post\page.tsx
---- CONTENT ----

import { useState } from 'react';
import { useParams } from 'react-router-dom';
import Header from '../../../components/feature/Header';

interface Reply {
  id: string;
  author: string;
  content: string;
  timestamp: string;
  likes: number;
  isLiked: boolean;
  avatar: string;
  reputation: number;
}

interface Post {
  id: string;
  title: string;
  content: string;
  author: string;
  timestamp: string;
  category: string;
  likes: number;
  replies: number;
  views: number;
  isLiked: boolean;
  avatar: string;
  reputation: number;
  tags: string[];
}

const mockPost: Post = {
  id: '1',
  title: 'Help with Moment Distribution Method - Continuous Beam Analysis',
  content: `I'm struggling with the moment distribution method for analyzing continuous beams. I understand the basic concept of distributing unbalanced moments, but I'm having trouble with the following:

1. How to determine the distribution factors correctly
2. When to stop the iteration process
3. How to handle different support conditions

Here's the specific problem I'm working on:
- 3-span continuous beam
- Spans: 6m, 8m, 6m
- Uniform loads: 20 kN/m, 15 kN/m, 25 kN/m
- All supports are simple supports except the intermediate ones

I've attached my work so far, but my final moments don't seem to balance correctly. Any guidance would be greatly appreciated!

Has anyone else encountered similar issues? What resources helped you master this method?`,
  author: 'Sarah Chen',
  timestamp: '2024-01-15T10:30:00Z',
  category: 'Structural Analysis',
  likes: 12,
  replies: 8,
  views: 156,
  isLiked: false,
  avatar: 'https://readdy.ai/api/search-image?query=professional%20female%20engineer%20avatar%20portrait%20with%20engineering%20background%2C%20clean%20simple%20style&width=40&height=40&seq=avatar1&orientation=squarish',
  reputation: 245,
  tags: ['moment-distribution', 'continuous-beam', 'structural-analysis', 'help-needed']
};

const mockReplies: Reply[] = [
  {
    id: '1',
    author: 'Mike Rodriguez',
    content: `Great question! The moment distribution method can be tricky at first. Here are some key points:

**Distribution Factors:**
- DF = (4EI/L) / Î£(4EI/L) for all members meeting at a joint
- For your beam, calculate the relative stiffness of each span
- Remember that pinned ends have DF = 0

**Iteration Process:**
- Continue until unbalanced moments are less than 1% of the largest moment
- Usually 3-4 cycles are sufficient for practical accuracy

I'd be happy to walk through your specific problem if you can share your calculations!`,
    timestamp: '2024-01-15T11:15:00Z',
    likes: 8,
    isLiked: true,
    avatar: 'https://readdy.ai/api/search-image?query=professional%20male%20engineer%20avatar%20portrait%20with%20construction%20background%2C%20clean%20simple%20style&width=40&height=40&seq=avatar2&orientation=squarish',
    reputation: 892
  },
  {
    id: '2',
    author: 'Dr. Jennifer Liu',
    content: `@Sarah Chen - This is a common challenge! I recommend starting with a simpler 2-span beam first to build confidence.

For your 3-span problem:
1. Calculate stiffness factors: K = I/L for each span
2. Distribution factors at each joint
3. Start with fixed-end moments for each span
4. Distribute and carry-over systematically

The key is being methodical. I've seen students rush through the iterations and make arithmetic errors. Take your time!

Also, check out the structural analysis textbook by Hibbeler - Chapter 12 has excellent examples.`,
    timestamp: '2024-01-15T12:45:00Z',
    likes: 15,
    isLiked: false,
    avatar: 'https://readdy.ai/api/search-image?query=professional%20female%20professor%20avatar%20portrait%20with%20academic%20engineering%20background%2C%20clean%20simple%20style&width=40&height=40&seq=avatar3&orientation=squarish',
    reputation: 1456
  }
];

export default function ForumPost() {
  const { postId } = useParams();
  const [post, setPost] = useState(mockPost);
  const [replies, setReplies] = useState(mockReplies);
  const [newReply, setNewReply] = useState('');
  const [showReplyForm, setShowReplyForm] = useState(false);

  const handleLikePost = () => {
    setPost(prev => ({
      ...prev,
      isLiked: !prev.isLiked,
      likes: prev.isLiked ? prev.likes - 1 : prev.likes + 1
    }));
  };

  const handleLikeReply = (replyId: string) => {
    setReplies(prev => prev.map(reply => 
      reply.id === replyId 
        ? { ...reply, isLiked: !reply.isLiked, likes: reply.isLiked ? reply.likes - 1 : reply.likes + 1 }
        : reply
    ));
  };

  const handleSubmitReply = () => {
    if (newReply.trim()) {
      const reply: Reply = {
        id: Date.now().toString(),
        author: 'You',
        content: newReply,
        timestamp: new Date().toISOString(),
        likes: 0,
        isLiked: false,
        avatar: 'https://readdy.ai/api/search-image?query=professional%20engineer%20avatar%20portrait%20with%20modern%20engineering%20background%2C%20clean%20simple%20style&width=40&height=40&seq=avatar4&orientation=squarish',
        reputation: 156
      };
      setReplies(prev => [...prev, reply]);
      setNewReply('');
      setShowReplyForm(false);
    }
  };

  const formatTimestamp = (timestamp: string) => {
    return new Date(timestamp).toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'short',
      day: 'numeric',
      hour: '2-digit',
      minute: '2-digit'
    });
  };

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        {/* Breadcrumb */}
        <nav className="mb-6">
          <div className="flex items-center space-x-2 text-sm text-gray-600">
            <a href="/forum" className="hover:text-blue-600">Forum</a>
            <i className="ri-arrow-right-s-line"></i>
            <span className="text-blue-600">{post.category}</span>
            <i className="ri-arrow-right-s-line"></i>
            <span className="text-gray-900 truncate">{post.title}</span>
          </div>
        </nav>

        {/* Main Post */}
        <div className="bg-white rounded-lg shadow mb-6">
          <div className="p-6">
            <div className="flex items-start space-x-4">
              <img 
                src={post.avatar} 
                alt={post.author}
                className="w-12 h-12 rounded-full object-cover"
              />
              <div className="flex-1">
                <div className="flex items-center space-x-2 mb-2">
                  <h3 className="font-semibold text-gray-900">{post.author}</h3>
                  <span className="text-sm text-gray-500">â€¢</span>
                  <span className="text-sm text-gray-500">{post.reputation} reputation</span>
                  <span className="text-sm text-gray-500">â€¢</span>
                  <span className="text-sm text-gray-500">{formatTimestamp(post.timestamp)}</span>
                </div>
                <h1 className="text-2xl font-bold text-gray-900 mb-4">{post.title}</h1>
                <div className="prose max-w-none mb-4">
                  <p className="text-gray-700 whitespace-pre-line">{post.content}</p>
                </div>
                
                {/* Tags */}
                <div className="flex flex-wrap gap-2 mb-4">
                  {post.tags.map((tag) => (
                    <span key={tag} className="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">
                      {tag}
                    </span>
                  ))}
                </div>

                {/* Post Actions */}
                <div className="flex items-center space-x-6 pt-4 border-t border-gray-200">
                  <button 
                    onClick={handleLikePost}
                    className={`flex items-center space-x-1 ${post.isLiked ? 'text-blue-600' : 'text-gray-500'} hover:text-blue-600`}
                  >
                    <i className={`${post.isLiked ? 'ri-thumb-up-fill' : 'ri-thumb-up-line'}`}></i>
                    <span>{post.likes}</span>
                  </button>
                  <div className="flex items-center space-x-1 text-gray-500">
                    <i className="ri-chat-3-line"></i>
                    <span>{replies.length} replies</span>
                  </div>
                  <div className="flex items-center space-x-1 text-gray-500">
                    <i className="ri-eye-line"></i>
                    <span>{post.views} views</span>
                  </div>
                  <button className="flex items-center space-x-1 text-gray-500 hover:text-blue-600">
                    <i className="ri-share-line"></i>
                    <span>Share</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        {/* Replies */}
        <div className="space-y-4">
          <div className="flex items-center justify-between">
            <h2 className="text-lg font-semibold text-gray-900">{replies.length} Replies</h2>
            <button 
              onClick={() => setShowReplyForm(!showReplyForm)}
              className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap"
            >
              Reply
            </button>
          </div>

          {/* Reply Form */}
          {showReplyForm && (
            <div className="bg-white rounded-lg shadow p-6">
              <h3 className="font-semibold text-gray-900 mb-4">Write a Reply</h3>
              <textarea
                value={newReply}
                onChange={(e) => setNewReply(e.target.value)}
                placeholder="Share your knowledge and help the community..."
                className="w-full h-32 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
              />
              <div className="flex justify-end space-x-3 mt-4">
                <button 
                  onClick={() => setShowReplyForm(false)}
                  className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap"
                >
                  Cancel
                </button>
                <button 
                  onClick={handleSubmitReply}
                  className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap"
                >
                  Post Reply
                </button>
              </div>
            </div>
          )}

          {/* Reply List */}
          {replies.map((reply) => (
            <div key={reply.id} className="bg-white rounded-lg shadow p-6">
              <div className="flex items-start space-x-4">
                <img 
                  src={reply.avatar} 
                  alt={reply.author}
                  className="w-10 h-10 rounded-full object-cover"
                />
                <div className="flex-1">
                  <div className="flex items-center space-x-2 mb-2">
                    <h4 className="font-semibold text-gray-900">{reply.author}</h4>
                    <span className="text-sm text-gray-500">â€¢</span>
                    <span className="text-sm text-gray-500">{reply.reputation} reputation</span>
                    <span className="text-sm text-gray-500">â€¢</span>
                    <span className="text-sm text-gray-500">{formatTimestamp(reply.timestamp)}</span>
                  </div>
                  <div className="prose max-w-none mb-4">
                    <p className="text-gray-700 whitespace-pre-line">{reply.content}</p>
                  </div>
                  <div className="flex items-center space-x-4">
                    <button 
                      onClick={() => handleLikeReply(reply.id)}
                      className={`flex items-center space-x-1 ${reply.isLiked ? 'text-blue-600' : 'text-gray-500'} hover:text-blue-600`}
                    >
                      <i className={`${reply.isLiked ? 'ri-thumb-up-fill' : 'ri-thumb-up-line'}`}></i>
                      <span>{reply.likes}</span>
                    </button>
                    <button className="text-gray-500 hover:text-blue-600 whitespace-nowrap">
                      Reply
                    </button>
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  );
}
===== END FILE =====

