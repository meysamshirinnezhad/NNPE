===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\settings\subscription\page.tsx
---- CONTENT ----

import { useState, useEffect } from 'react';
import Header from '../../../components/feature/Header';
import LoadingSpinner from '../../../components/effects/LoadingSpinner';
import { userService } from '../../../api';

interface Plan {
  id: string;
  name: string;
  price: number;
  interval: 'month' | 'year';
  features: string[];
  popular?: boolean;
}

interface BillingHistory {
  id: string;
  date: string;
  amount: number;
  status: 'paid' | 'pending' | 'failed';
  invoice: string;
}

const plans: Plan[] = [
  {
    id: 'basic',
    name: 'Basic',
    price: 29,
    interval: 'month',
    features: [
      '500 practice questions',
      'Basic analytics',
      'Email support',
      'Mobile app access'
    ]
  },
  {
    id: 'pro',
    name: 'Pro',
    price: 49,
    interval: 'month',
    features: [
      'Unlimited practice questions',
      'Advanced analytics',
      'Priority support',
      'Study groups',
      'Practice tests',
      'Weakness analysis'
    ],
    popular: true
  },
  {
    id: 'premium',
    name: 'Premium',
    price: 79,
    interval: 'month',
    features: [
      'Everything in Pro',
      '1-on-1 tutoring sessions',
      'Custom study plans',
      'Exam guarantee',
      'Premium support'
    ]
  }
];

const mockBillingHistory: BillingHistory[] = [
  {
    id: '1',
    date: '2024-01-15',
    amount: 49,
    status: 'paid',
    invoice: 'INV-2024-001'
  },
  {
    id: '2',
    date: '2023-12-15',
    amount: 49,
    status: 'paid',
    invoice: 'INV-2023-012'
  },
  {
    id: '3',
    date: '2023-11-15',
    amount: 49,
    status: 'paid',
    invoice: 'INV-2023-011'
  }
];

export default function Subscription() {
  const [subscription, setSubscription] = useState<any>(null);
  const [currentPlan, setCurrentPlan] = useState('pro');
  const [billingInterval, setBillingInterval] = useState<'month' | 'year'>('month');
  const [showCancelModal, setShowCancelModal] = useState(false);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const [successMessage, setSuccessMessage] = useState('');

  useEffect(() => {
    const fetchSubscription = async () => {
      try {
        const data = await userService.getSubscription();
        setSubscription(data);
        setCurrentPlan(data.plan || 'pro');
        // Map API interval to local state
        setBillingInterval((data as any).interval === 'annual' ? 'year' : 'month');
      } catch (err) {
        setError(err instanceof Error ? err.message : 'Failed to load subscription');
      } finally {
        setLoading(false);
      }
    };

    fetchSubscription();
  }, []);

  const getCurrentPlan = () => plans.find(plan => plan.id === currentPlan);
  const currentPlanData = getCurrentPlan();

  const handlePlanChange = async (planId: string) => {
    setError('');
    setSuccessMessage('');
    try {
      // In a real app, you would collect payment method first
      await userService.createSubscription({
        plan: billingInterval === 'year' ? 'annual' : 'monthly',
        payment_method_id: 'pm_placeholder' // This would come from Stripe in production
      });
      setCurrentPlan(planId);
      setSuccessMessage('Subscription updated successfully!');
      setTimeout(() => setSuccessMessage(''), 3000);
    } catch (err) {
      setError(err instanceof Error ? err.message : 'Failed to change plan');
    }
  };

  const handleCancelSubscription = async () => {
    setError('');
    try {
      await userService.cancelSubscription();
      setSuccessMessage('Subscription cancelled successfully');
      setTimeout(() => setSuccessMessage(''), 3000);
      setShowCancelModal(false);
    } catch (err) {
      setError(err instanceof Error ? err.message : 'Failed to cancel subscription');
    }
  };

  const getStatusColor = (status: string) => {
    switch (status) {
      case 'paid': return 'bg-green-100 text-green-800';
      case 'pending': return 'bg-yellow-100 text-yellow-800';
      case 'failed': return 'bg-red-100 text-red-800';
      default: return 'bg-gray-100 text-gray-800';
    }
  };

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <div className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        {error && (
          <div className="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg">
            <div className="flex items-center">
              <i className="ri-error-warning-line text-red-600 text-xl mr-3"></i>
              <p className="text-red-800">{error}</p>
            </div>
          </div>
        )}
        
        {successMessage && (
          <div className="mb-6 p-4 bg-green-50 border border-green-200 rounded-lg">
            <div className="flex items-center">
              <i className="ri-check-line text-green-600 text-xl mr-3"></i>
              <p className="text-green-800">{successMessage}</p>
            </div>
          </div>
        )}

        {/* Header */}
        <div className="mb-8">
          <h1 className="text-3xl font-bold text-gray-900 mb-2">Subscription & Billing</h1>
          <p className="text-gray-600">Manage your subscription and billing information</p>
        </div>

        {/* Navigation */}
        <div className="mb-8">
          <nav className="flex space-x-8">
            <a href="/settings/account" className="text-gray-500 hover:text-gray-700 pb-2">
              Account
            </a>
            <a href="/settings/subscription" className="border-b-2 border-blue-500 text-blue-600 pb-2 font-medium">
              Subscription
            </a>
            <a href="/settings/notifications" className="text-gray-500 hover:text-gray-700 pb-2">
              Notifications
            </a>
          </nav>
        </div>

        {loading ? (
          <div className="flex items-center justify-center h-96">
            <LoadingSpinner size="lg" />
          </div>
        ) : (
          <>
        {/* Current Subscription */}
        <div className="bg-white rounded-lg shadow mb-8">
          <div className="px-6 py-4 border-b border-gray-200">
            <h2 className="text-lg font-semibold text-gray-900">Current Subscription</h2>
          </div>
          <div className="p-6">
            {currentPlanData && (
              <div className="flex items-center justify-between">
                <div>
                  <h3 className="text-xl font-semibold text-gray-900">{currentPlanData.name} Plan</h3>
                  <p className="text-gray-600 mt-1">
                    ${currentPlanData.price}/{currentPlanData.interval}
                  </p>
                  <p className="text-sm text-gray-500 mt-2">
                    Next billing date: February 15, 2024
                  </p>
                </div>
                <div className="flex space-x-3">
                  <button className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap">
                    Update Payment Method
                  </button>
                  <button 
                    onClick={() => setShowCancelModal(true)}
                    className="px-4 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition-colors whitespace-nowrap"
                  >
                    Cancel Subscription
                  </button>
                </div>
              </div>
            )}
          </div>
        </div>

        {/* Plan Options */}
        <div className="bg-white rounded-lg shadow mb-8">
          <div className="px-6 py-4 border-b border-gray-200">
            <div className="flex items-center justify-between">
              <h2 className="text-lg font-semibold text-gray-900">Change Plan</h2>
              <div className="flex items-center space-x-3">
                <span className="text-sm text-gray-600">Monthly</span>
                <button
                  onClick={() => setBillingInterval(billingInterval === 'month' ? 'year' : 'month')}
                  className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${
                    billingInterval === 'year' ? 'bg-blue-600' : 'bg-gray-200'
                  }`}
                >
                  <span
                    className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${
                      billingInterval === 'year' ? 'translate-x-6' : 'translate-x-1'
                    }`}
                  />
                </button>
                <span className="text-sm text-gray-600">Yearly (Save 20%)</span>
              </div>
            </div>
          </div>
          <div className="p-6">
            <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
              {plans.map((plan) => {
                const yearlyPrice = Math.round(plan.price * 12 * 0.8);
                const displayPrice = billingInterval === 'year' ? yearlyPrice : plan.price;
                const isCurrentPlan = plan.id === currentPlan;
                
                return (
                  <div 
                    key={plan.id} 
                    className={`border rounded-lg p-6 relative ${
                      plan.popular ? 'border-blue-500 ring-2 ring-blue-200' : 'border-gray-200'
                    } ${isCurrentPlan ? 'bg-blue-50' : 'bg-white'}`}
                  >
                    {plan.popular && (
                      <div className="absolute -top-3 left-1/2 transform -translate-x-1/2">
                        <span className="bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-medium">
                          Most Popular
                        </span>
                      </div>
                    )}
                    
                    <div className="text-center mb-6">
                      <h3 className="text-lg font-semibold text-gray-900">{plan.name}</h3>
                      <div className="mt-2">
                        <span className="text-3xl font-bold text-gray-900">${displayPrice}</span>
                        <span className="text-gray-600">/{billingInterval}</span>
                      </div>
                      {billingInterval === 'year' && (
                        <p className="text-sm text-green-600 mt-1">Save 20%</p>
                      )}
                    </div>
                    
                    <ul className="space-y-3 mb-6">
                      {plan.features.map((feature, index) => (
                        <li key={index} className="flex items-center text-sm">
                          <i className="ri-check-line text-green-600 mr-2"></i>
                          <span className="text-gray-700">{feature}</span>
                        </li>
                      ))}
                    </ul>
                    
                    <button
                      onClick={() => handlePlanChange(plan.id)}
                      disabled={isCurrentPlan}
                      className={`w-full py-2 px-4 rounded-lg font-medium transition-colors whitespace-nowrap ${
                        isCurrentPlan
                          ? 'bg-gray-100 text-gray-500 cursor-not-allowed'
                          : plan.popular
                          ? 'bg-blue-600 text-white hover:bg-blue-700'
                          : 'border border-gray-300 text-gray-700 hover:bg-gray-50'
                      }`}
                    >
                      {isCurrentPlan ? 'Current Plan' : 'Upgrade'}
                    </button>
                  </div>
                );
              })}
            </div>
          </div>
        </div>

        {/* Payment Method */}
        <div className="bg-white rounded-lg shadow mb-8">
          <div className="px-6 py-4 border-b border-gray-200">
            <h2 className="text-lg font-semibold text-gray-900">Payment Method</h2>
          </div>
          <div className="p-6">
            <div className="flex items-center justify-between">
              <div className="flex items-center space-x-4">
                <div className="w-12 h-8 bg-blue-600 rounded flex items-center justify-center">
                  <i className="ri-bank-card-line text-white"></i>
                </div>
                <div>
                  <p className="font-medium text-gray-900">•••• •••• •••• 4242</p>
                  <p className="text-sm text-gray-600">Expires 12/25</p>
                </div>
              </div>
              <button className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap">
                Update
              </button>
            </div>
          </div>
        </div>

        {/* Billing History */}
        <div className="bg-white rounded-lg shadow">
          <div className="px-6 py-4 border-b border-gray-200">
            <h2 className="text-lg font-semibold text-gray-900">Billing History</h2>
          </div>
          <div className="overflow-x-auto">
            <table className="w-full">
              <thead className="bg-gray-50">
                <tr>
                  <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Date
                  </th>
                  <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Amount
                  </th>
                  <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Status
                  </th>
                  <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Invoice
                  </th>
                </tr>
              </thead>
              <tbody className="bg-white divide-y divide-gray-200">
                {mockBillingHistory.map((bill) => (
                  <tr key={bill.id}>
                    <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                      {new Date(bill.date).toLocaleDateString()}
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                      ${bill.amount}
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap">
                      <span className={`px-2 py-1 text-xs font-medium rounded-full ${getStatusColor(bill.status)}`}>
                        {bill.status}
                      </span>
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap text-sm">
                      <button className="text-blue-600 hover:text-blue-800">
                        Download
                      </button>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        </div>
        </>
        )}

        {/* Cancel Subscription Modal */}
        {showCancelModal && (
          <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div className="bg-white rounded-lg p-6 w-full max-w-md mx-4">
              <h3 className="text-lg font-semibold text-gray-900 mb-4">Cancel Subscription</h3>
              <p className="text-gray-700 mb-6">
                Are you sure you want to cancel your subscription? You'll lose access to premium features at the end of your current billing period.
              </p>
              <div className="flex justify-end space-x-3">
                <button 
                  onClick={() => setShowCancelModal(false)}
                  className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap"
                >
                  Keep Subscription
                </button>
                <button 
                  onClick={handleCancelSubscription}
                  className="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors whitespace-nowrap"
                >
                  Cancel Subscription
                </button>
              </div>
            </div>
          </div>
        )}
      </div>
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\signup\page.tsx
---- CONTENT ----

import { useEffect, useState } from 'react';
import Button from '../../components/base/Button';
import Card from '../../components/base/Card';
import { updateSEO, seoData } from '../../utils/seo';
import { useAuth } from '../../hooks/useAuth';
import { useAuthContext } from '../../contexts/AuthContext';

export default function Signup() {
  const [formData, setFormData] = useState({
    firstName: '',
    lastName: '',
    email: '',
    password: '',
    confirmPassword: '',
    province: 'NL',
    examDate: ''
  });
  const [showPassword, setShowPassword] = useState(false);
  const [showConfirmPassword, setShowConfirmPassword] = useState(false);
  const [acceptTerms, setAcceptTerms] = useState(false);
  const [passwordStrength, setPasswordStrength] = useState(0);

  const { register, loading, error } = useAuth();
  const { setUser } = useAuthContext();

  useEffect(() => {
    updateSEO(seoData.signup);
  }, []);

  const calculatePasswordStrength = (password: string) => {
    let strength = 0;
    if (password.length >= 8) strength += 1;
    if (/[A-Z]/.test(password)) strength += 1;
    if (/[a-z]/.test(password)) strength += 1;
    if (/[0-9]/.test(password)) strength += 1;
    if (/[^A-Za-z0-9]/.test(password)) strength += 1;
    return strength;
  };

  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {
    const { name, value } = e.target;
    setFormData(prev => ({ ...prev, [name]: value }));

    if (name === 'password') {
      setPasswordStrength(calculatePasswordStrength(value));
    }
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();

    if (formData.password !== formData.confirmPassword) {
      alert('Passwords do not match');
      return;
    }

    if (!acceptTerms) {
      alert('Please accept the terms and conditions');
      return;
    }

    const registerData: any = {
      email: formData.email,
      password: formData.password,
      first_name: formData.firstName,
      last_name: formData.lastName,
      province: formData.province
    };

    // Convert date to ISO format if provided
    if (formData.examDate && formData.examDate.trim() !== '') {
      // Convert YYYY-MM-DD to ISO 8601 format with time
      const dateObj = new Date(formData.examDate + 'T00:00:00');
      registerData.exam_date = dateObj.toISOString();
    }

    const result = await register(registerData);

    if (result) {
      // Update AuthContext with user data
      setUser(result.user);
      
      // Registration successful, redirect to onboarding
      window.location.href = '/onboarding';
    }
  };

  const handleGoogleSignup = () => {
    console.log('Google signup initiated');
  };

  const handleAppleSignup = () => {
    console.log('Apple signup initiated');
  };

  const getPasswordStrengthColor = () => {
    if (passwordStrength <= 2) return 'bg-red-500';
    if (passwordStrength <= 3) return 'bg-yellow-500';
    return 'bg-green-500';
  };

  const getPasswordStrengthText = () => {
    if (passwordStrength <= 2) return 'Weak';
    if (passwordStrength <= 3) return 'Medium';
    return 'Strong';
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-[#0277BD] to-[#01579B] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
      <div className="max-w-md w-full space-y-8">
        {/* Logo and Header */}
        <div className="text-center">
          <div className="flex items-center justify-center space-x-2 mb-6">
            <div className="w-12 h-12 flex items-center justify-center">
              <i className="ri-settings-3-line text-white text-3xl"></i>
            </div>
            <h1 className="text-3xl font-bold text-white">NPPE Pro</h1>
          </div>
          <h2 className="text-2xl font-bold text-white mb-2">Create your account</h2>
          <p className="text-blue-100">Start your journey to professional engineering success</p>
        </div>

        {/* Signup Form */}
        <Card className="p-8 bg-white/95 backdrop-blur-sm">
          <form onSubmit={handleSubmit} className="space-y-6">
            {/* Error Message */}
            {error && (
              <div className="p-4 bg-red-50 border border-red-200 rounded-lg">
                <div className="flex items-center">
                  <i className="ri-error-warning-line text-red-600 mr-2"></i>
                  <p className="text-sm text-red-800">{error}</p>
                </div>
              </div>
            )}

            {/* Name Fields */}
            <div className="grid grid-cols-2 gap-4">
              <div>
                <label htmlFor="firstName" className="block text-sm font-medium text-gray-700 mb-2">
                  First name
                </label>
                <input
                  id="firstName"
                  name="firstName"
                  type="text"
                  required
                  value={formData.firstName}
                  onChange={handleInputChange}
                  className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0277BD] focus:border-transparent transition-colors"
                  placeholder="John"
                />
              </div>
              <div>
                <label htmlFor="lastName" className="block text-sm font-medium text-gray-700 mb-2">
                  Last name
                </label>
                <input
                  id="lastName"
                  name="lastName"
                  type="text"
                  required
                  value={formData.lastName}
                  onChange={handleInputChange}
                  className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0277BD] focus:border-transparent transition-colors"
                  placeholder="Doe"
                />
              </div>
            </div>

            {/* Email Field */}
            <div>
              <label htmlFor="email" className="block text-sm font-medium text-gray-700 mb-2">
                Email address
              </label>
              <div className="relative">
                <input
                  id="email"
                  name="email"
                  type="email"
                  autoComplete="email"
                  required
                  value={formData.email}
                  onChange={handleInputChange}
                  className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0277BD] focus:border-transparent transition-colors"
                  placeholder="john.doe@example.com"
                />
                <i className="ri-mail-line absolute right-3 top-3 text-gray-400"></i>
              </div>
            </div>

            {/* Province Field */}
            <div>
              <label htmlFor="province" className="block text-sm font-medium text-gray-700 mb-2">
                Province
              </label>
              <select
                id="province"
                name="province"
                value={formData.province}
                onChange={handleInputChange}
                className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0277BD] focus:border-transparent transition-colors"
                required
              >
                <option value="">Select your province</option>
                <option value="AB">Alberta</option>
                <option value="BC">British Columbia</option>
                <option value="MB">Manitoba</option>
                <option value="NB">New Brunswick</option>
                <option value="NL">Newfoundland and Labrador</option>
                <option value="NT">Northwest Territories</option>
                <option value="NS">Nova Scotia</option>
                <option value="NU">Nunavut</option>
                <option value="ON">Ontario</option>
                <option value="PE">Prince Edward Island</option>
                <option value="QC">Quebec</option>
                <option value="SK">Saskatchewan</option>
                <option value="YT">Yukon</option>
              </select>
            </div>

            {/* Exam Date Field */}
            <div>
              <label htmlFor="examDate" className="block text-sm font-medium text-gray-700 mb-2">
                NPPE Exam Date (Optional)
              </label>
              <input
                id="examDate"
                name="examDate"
                type="date"
                value={formData.examDate}
                onChange={handleInputChange}
                className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0277BD] focus:border-transparent transition-colors"
                min={new Date().toISOString().split('T')[0]}
              />
            </div>

            {/* Password Field */}
            <div>
              <label htmlFor="password" className="block text-sm font-medium text-gray-700 mb-2">
                Password
              </label>
              <div className="relative">
                <input
                  id="password"
                  name="password"
                  type={showPassword ? 'text' : 'password'}
                  required
                  value={formData.password}
                  onChange={handleInputChange}
                  className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0277BD] focus:border-transparent transition-colors pr-12"
                  placeholder="Create a strong password"
                />
                <button
                  type="button"
                  onClick={() => setShowPassword(!showPassword)}
                  className="absolute right-3 top-3 text-gray-400 hover:text-gray-600 transition-colors"
                >
                  <i className={showPassword ? 'ri-eye-off-line' : 'ri-eye-line'}></i>
                </button>
              </div>
              
              {/* Password Strength Indicator */}
              {formData.password && (
                <div className="mt-2">
                  <div className="flex items-center space-x-2">
                    <div className="flex-1 bg-gray-200 rounded-full h-2">
                      <div 
                        className={`h-2 rounded-full transition-all duration-300 ${getPasswordStrengthColor()}`}
                        style={{ width: `${(passwordStrength / 5) * 100}%` }}
                      ></div>
                    </div>
                    <span className="text-xs text-gray-600">{getPasswordStrengthText()}</span>
                  </div>
                  <p className="text-xs text-gray-500 mt-1">
                    Use 8+ characters with uppercase, lowercase, numbers, and symbols
                  </p>
                </div>
              )}
            </div>

            {/* Confirm Password Field */}
            <div>
              <label htmlFor="confirmPassword" className="block text-sm font-medium text-gray-700 mb-2">
                Confirm password
              </label>
              <div className="relative">
                <input
                  id="confirmPassword"
                  name="confirmPassword"
                  type={showConfirmPassword ? 'text' : 'password'}
                  required
                  value={formData.confirmPassword}
                  onChange={handleInputChange}
                  className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0277BD] focus:border-transparent transition-colors pr-12"
                  placeholder="Confirm your password"
                />
                <button
                  type="button"
                  onClick={() => setShowConfirmPassword(!showConfirmPassword)}
                  className="absolute right-3 top-3 text-gray-400 hover:text-gray-600 transition-colors"
                >
                  <i className={showConfirmPassword ? 'ri-eye-off-line' : 'ri-eye-line'}></i>
                </button>
              </div>
              {formData.confirmPassword && formData.password !== formData.confirmPassword && (
                <p className="text-xs text-red-500 mt-1">Passwords do not match</p>
              )}
            </div>

            {/* Terms and Conditions */}
            <div className="flex items-start">
              <input
                id="accept-terms"
                name="accept-terms"
                type="checkbox"
                checked={acceptTerms}
                onChange={(e) => setAcceptTerms(e.target.checked)}
                className="h-4 w-4 text-[#0277BD] focus:ring-[#0277BD] border-gray-300 rounded mt-1"
              />
              <label htmlFor="accept-terms" className="ml-2 block text-sm text-gray-700">
                I agree to the{' '}
                <a href="/terms-of-service" className="text-[#0277BD] hover:text-[#01579B] transition-colors">
                  Terms of Service
                </a>{' '}
                and{' '}
                <a href="/privacy-policy" className="text-[#0277BD] hover:text-[#01579B] transition-colors">
                  Privacy Policy
                </a>
              </label>
            </div>

            {/* Submit Button */}
            <Button
              type="submit"
              className="w-full py-3 text-lg"
              disabled={loading || !acceptTerms}
            >
              {loading ? (
                <div className="flex items-center justify-center">
                  <i className="ri-loader-4-line animate-spin mr-2"></i>
                  Creating account...
                </div>
              ) : (
                'Create account'
              )}
            </Button>
          </form>

          {/* Divider */}
          <div className="mt-6">
            <div className="relative">
              <div className="absolute inset-0 flex items-center">
                <div className="w-full border-t border-gray-300" />
              </div>
              <div className="relative flex justify-center text-sm">
                <span className="px-2 bg-white text-gray-500">Or sign up with</span>
              </div>
            </div>
          </div>

          {/* OAuth Buttons */}
          <div className="mt-6 grid grid-cols-2 gap-3">
            <Button
              variant="secondary"
              onClick={handleGoogleSignup}
              className="w-full py-3 border-gray-300 text-gray-700 hover:bg-gray-50"
            >
              <i className="ri-google-fill mr-2 text-red-500"></i>
              Google
            </Button>
            <Button
              variant="secondary"
              onClick={handleAppleSignup}
              className="w-full py-3 border-gray-300 text-gray-700 hover:bg-gray-50"
            >
              <i className="ri-apple-fill mr-2 text-gray-900"></i>
              Apple
            </Button>
          </div>

          {/* Login Link */}
          <div className="mt-6 text-center">
            <p className="text-sm text-gray-600">
              Already have an account?{' '}
              <a href="/login" className="text-[#0277BD] hover:text-[#01579B] font-medium transition-colors">
                Sign in
              </a>
            </p>
          </div>
        </Card>

        {/* Back to Home */}
        <div className="text-center">
          <a href="/" className="text-blue-100 hover:text-white transition-colors text-sm">
            <i className="ri-arrow-left-line mr-1"></i>
            Back to home
          </a>
        </div>
      </div>
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\study-groups\detail\page.tsx
---- CONTENT ----

import { useState } from 'react';
import { useParams } from 'react-router-dom';
import Header from '../../../components/feature/Header';

interface Member {
  id: string;
  name: string;
  avatar: string;
  role: 'admin' | 'moderator' | 'member';
  joinedAt: string;
  lastActive: string;
  studyStreak: number;
}

interface Message {
  id: string;
  author: string;
  content: string;
  timestamp: string;
  avatar: string;
  type: 'message' | 'announcement' | 'resource';
}

interface StudySession {
  id: string;
  title: string;
  date: string;
  duration: string;
  topic: string;
  attendees: number;
  status: 'upcoming' | 'completed' | 'cancelled';
}

const mockMembers: Member[] = [
  {
    id: '1',
    name: 'Sarah Chen',
    avatar: 'https://readdy.ai/api/search-image?query=professional%20female%20engineer%20avatar%20portrait%20with%20engineering%20background%2C%20clean%20simple%20style&width=40&height=40&seq=member1&orientation=squarish',
    role: 'admin',
    joinedAt: '2024-01-10',
    lastActive: '2024-01-15T14:30:00Z',
    studyStreak: 12
  },
  {
    id: '2',
    name: 'Mike Rodriguez',
    avatar: 'https://readdy.ai/api/search-image?query=professional%20male%20engineer%20avatar%20portrait%20with%20construction%20background%2C%20clean%20simple%20style&width=40&height=40&seq=member2&orientation=squarish',
    role: 'moderator',
    joinedAt: '2024-01-11',
    lastActive: '2024-01-15T13:15:00Z',
    studyStreak: 8
  },
  {
    id: '3',
    name: 'Emily Johnson',
    avatar: 'https://readdy.ai/api/search-image?query=professional%20female%20engineer%20avatar%20portrait%20with%20structural%20engineering%20background%2C%20clean%20simple%20style&width=40&height=40&seq=member3&orientation=squarish',
    role: 'member',
    joinedAt: '2024-01-12',
    lastActive: '2024-01-15T12:45:00Z',
    studyStreak: 5
  }
];

const mockMessages: Message[] = [
  {
    id: '1',
    author: 'Sarah Chen',
    content: 'Welcome everyone to our NPPE study group! Let\'s start by sharing what topics you\'re most concerned about.',
    timestamp: '2024-01-15T10:00:00Z',
    avatar: 'https://readdy.ai/api/search-image?query=professional%20female%20engineer%20avatar%20portrait%20with%20engineering%20background%2C%20clean%20simple%20style&width=40&height=40&seq=member1&orientation=squarish',
    type: 'announcement'
  },
  {
    id: '2',
    author: 'Mike Rodriguez',
    content: 'I\'ve uploaded some great resources for structural analysis. Check out the files section!',
    timestamp: '2024-01-15T11:30:00Z',
    avatar: 'https://readdy.ai/api/search-image?query=professional%20male%20engineer%20avatar%20portrait%20with%20construction%20background%2C%20clean%20simple%20style&width=40&height=40&seq=member2&orientation=squarish',
    type: 'resource'
  },
  {
    id: '3',
    author: 'Emily Johnson',
    content: 'Thanks Mike! I\'m really struggling with moment distribution. Looking forward to our session tomorrow.',
    timestamp: '2024-01-15T12:15:00Z',
    avatar: 'https://readdy.ai/api/search-image?query=professional%20female%20engineer%20avatar%20portrait%20with%20structural%20engineering%20background%2C%20clean%20simple%20style&width=40&height=40&seq=member3&orientation=squarish',
    type: 'message'
  }
];

const mockSessions: StudySession[] = [
  {
    id: '1',
    title: 'Structural Analysis Deep Dive',
    date: '2024-01-16T19:00:00Z',
    duration: '2 hours',
    topic: 'Moment Distribution Method',
    attendees: 8,
    status: 'upcoming'
  },
  {
    id: '2',
    title: 'Practice Problem Session',
    date: '2024-01-18T19:00:00Z',
    duration: '1.5 hours',
    topic: 'Mixed Topics Review',
    attendees: 0,
    status: 'upcoming'
  },
  {
    id: '3',
    title: 'Concrete Design Fundamentals',
    date: '2024-01-14T19:00:00Z',
    duration: '2 hours',
    topic: 'Reinforcement Design',
    attendees: 10,
    status: 'completed'
  }
];

export default function StudyGroupDetail() {
  const { groupId } = useParams();
  const [activeTab, setActiveTab] = useState('chat');
  const [newMessage, setNewMessage] = useState('');

  const handleSendMessage = () => {
    if (newMessage.trim()) {
      // Handle sending message
      console.log('Sending message:', newMessage);
      setNewMessage('');
    }
  };

  const formatTimestamp = (timestamp: string) => {
    return new Date(timestamp).toLocaleString('en-US', {
      month: 'short',
      day: 'numeric',
      hour: '2-digit',
      minute: '2-digit'
    });
  };

  const getMessageTypeIcon = (type: string) => {
    switch (type) {
      case 'announcement': return 'ri-megaphone-line text-blue-600';
      case 'resource': return 'ri-file-line text-green-600';
      default: return 'ri-chat-3-line text-gray-600';
    }
  };

  const getRoleColor = (role: string) => {
    switch (role) {
      case 'admin': return 'bg-red-100 text-red-800';
      case 'moderator': return 'bg-blue-100 text-blue-800';
      default: return 'bg-gray-100 text-gray-800';
    }
  };

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        {/* Group Header */}
        <div className="bg-white rounded-lg shadow mb-6">
          <div className="p-6">
            <div className="flex items-start justify-between">
              <div>
                <h1 className="text-2xl font-bold text-gray-900 mb-2">NPPE April 2024 Study Group</h1>
                <p className="text-gray-600 mb-4">
                  Focused study group for engineers taking the NPPE in April 2024. We meet twice weekly for practice sessions and discussion.
                </p>
                <div className="flex items-center space-x-6 text-sm text-gray-600">
                  <div className="flex items-center">
                    <i className="ri-group-line mr-1"></i>
                    <span>12 members</span>
                  </div>
                  <div className="flex items-center">
                    <i className="ri-calendar-line mr-1"></i>
                    <span>Tuesdays & Thursdays, 7:00 PM EST</span>
                  </div>
                  <div className="flex items-center">
                    <i className="ri-time-line mr-1"></i>
                    <span>Created Jan 10, 2024</span>
                  </div>
                </div>
              </div>
              <div className="flex space-x-3">
                <button className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap">
                  Settings
                </button>
                <button className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap">
                  Invite Members
                </button>
              </div>
            </div>
          </div>
        </div>

        {/* Tabs */}
        <div className="bg-white rounded-lg shadow">
          <div className="border-b border-gray-200">
            <nav className="flex space-x-8 px-6">
              {[
                { id: 'chat', label: 'Chat', icon: 'ri-chat-3-line' },
                { id: 'sessions', label: 'Study Sessions', icon: 'ri-calendar-event-line' },
                { id: 'members', label: 'Members', icon: 'ri-group-line' },
                { id: 'resources', label: 'Resources', icon: 'ri-folder-line' }
              ].map((tab) => (
                <button
                  key={tab.id}
                  onClick={() => setActiveTab(tab.id)}
                  className={`flex items-center space-x-2 py-4 border-b-2 font-medium text-sm transition-colors ${
                    activeTab === tab.id
                      ? 'border-blue-500 text-blue-600'
                      : 'border-transparent text-gray-500 hover:text-gray-700'
                  }`}
                >
                  <i className={tab.icon}></i>
                  <span>{tab.label}</span>
                </button>
              ))}
            </nav>
          </div>

          <div className="p-6">
            {/* Chat Tab */}
            {activeTab === 'chat' && (
              <div className="space-y-6">
                <div className="h-96 overflow-y-auto space-y-4 border border-gray-200 rounded-lg p-4">
                  {mockMessages.map((message) => (
                    <div key={message.id} className="flex items-start space-x-3">
                      <img 
                        src={message.avatar} 
                        alt={message.author}
                        className="w-8 h-8 rounded-full object-cover"
                      />
                      <div className="flex-1">
                        <div className="flex items-center space-x-2 mb-1">
                          <span className="font-medium text-gray-900">{message.author}</span>
                          <i className={getMessageTypeIcon(message.type)}></i>
                          <span className="text-xs text-gray-500">{formatTimestamp(message.timestamp)}</span>
                        </div>
                        <p className="text-gray-700 text-sm">{message.content}</p>
                      </div>
                    </div>
                  ))}
                </div>
                
                <div className="flex space-x-3">
                  <input
                    type="text"
                    value={newMessage}
                    onChange={(e) => setNewMessage(e.target.value)}
                    placeholder="Type your message..."
                    className="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}
                  />
                  <button 
                    onClick={handleSendMessage}
                    className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap"
                  >
                    Send
                  </button>
                </div>
              </div>
            )}

            {/* Sessions Tab */}
            {activeTab === 'sessions' && (
              <div className="space-y-4">
                <div className="flex justify-between items-center">
                  <h3 className="text-lg font-semibold text-gray-900">Study Sessions</h3>
                  <button className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap">
                    Schedule Session
                  </button>
                </div>
                
                {mockSessions.map((session) => (
                  <div key={session.id} className="border border-gray-200 rounded-lg p-4">
                    <div className="flex items-center justify-between">
                      <div>
                        <h4 className="font-medium text-gray-900">{session.title}</h4>
                        <p className="text-sm text-gray-600 mt-1">{session.topic}</p>
                        <div className="flex items-center space-x-4 mt-2 text-sm text-gray-500">
                          <span>{formatTimestamp(session.date)}</span>
                          <span>•</span>
                          <span>{session.duration}</span>
                          <span>•</span>
                          <span>{session.attendees} attending</span>
                        </div>
                      </div>
                      <div className="flex items-center space-x-3">
                        <span className={`px-2 py-1 rounded-full text-xs font-medium ${
                          session.status === 'upcoming' ? 'bg-green-100 text-green-800' :
                          session.status === 'completed' ? 'bg-gray-100 text-gray-800' :
                          'bg-red-100 text-red-800'
                        }`}>
                          {session.status}
                        </span>
                        {session.status === 'upcoming' && (
                          <button className="px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors whitespace-nowrap">
                            Join
                          </button>
                        )}
                      </div>
                    </div>
                  </div>
                ))}
              </div>
            )}

            {/* Members Tab */}
            {activeTab === 'members' && (
              <div className="space-y-4">
                <div className="flex justify-between items-center">
                  <h3 className="text-lg font-semibold text-gray-900">Members ({mockMembers.length})</h3>
                  <button className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap">
                    Invite Members
                  </button>
                </div>
                
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                  {mockMembers.map((member) => (
                    <div key={member.id} className="border border-gray-200 rounded-lg p-4">
                      <div className="flex items-center space-x-3">
                        <img 
                          src={member.avatar} 
                          alt={member.name}
                          className="w-12 h-12 rounded-full object-cover"
                        />
                        <div className="flex-1">
                          <div className="flex items-center space-x-2">
                            <h4 className="font-medium text-gray-900">{member.name}</h4>
                            <span className={`px-2 py-1 rounded-full text-xs font-medium ${getRoleColor(member.role)}`}>
                              {member.role}
                            </span>
                          </div>
                          <p className="text-sm text-gray-600">
                            {member.studyStreak} day streak
                          </p>
                          <p className="text-xs text-gray-500">
                            Joined {new Date(member.joinedAt).toLocaleDateString()}
                          </p>
                        </div>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            )}

            {/* Resources Tab */}
            {activeTab === 'resources' && (
              <div className="space-y-4">
                <div className="flex justify-between items-center">
                  <h3 className="text-lg font-semibold text-gray-900">Shared Resources</h3>
                  <button className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap">
                    Upload File
                  </button>
                </div>
                
                <div className="text-center py-12">
                  <i className="ri-folder-open-line text-4xl text-gray-400 mb-4"></i>
                  <h4 className="text-lg font-medium text-gray-900 mb-2">No resources yet</h4>
                  <p className="text-gray-600 mb-4">Share study materials, practice problems, and helpful resources with your group</p>
                  <button className="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap">
                    Upload First Resource
                  </button>
                </div>
              </div>
            )}
          </div>
        </div>
      </div>
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\study-groups\page.tsx
---- CONTENT ----

import { useState } from 'react';
import Header from '../../components/feature/Header';

interface StudyGroup {
  id: string;
  name: string;
  description: string;
  members: number;
  maxMembers: number;
  examDate: string;
  topics: string[];
  meetingSchedule: string;
  isPrivate: boolean;
  creator: string;
  createdAt: string;
  lastActivity: string;
  avatar: string;
}

const mockStudyGroups: StudyGroup[] = [
  {
    id: '1',
    name: 'NPPE April 2024 Study Group',
    description: 'Focused study group for engineers taking the NPPE in April 2024. We meet twice weekly for practice sessions and discussion.',
    members: 12,
    maxMembers: 15,
    examDate: '2024-04-15',
    topics: ['Structural Analysis', 'Concrete Design', 'Steel Design'],
    meetingSchedule: 'Tuesdays & Thursdays, 7:00 PM EST',
    isPrivate: false,
    creator: 'Sarah Chen',
    createdAt: '2024-01-10',
    lastActivity: '2024-01-15T14:30:00Z',
    avatar: 'https://readdy.ai/api/search-image?query=engineering%20study%20group%20meeting%20with%20blueprints%20and%20calculators%20on%20table%2C%20professional%20collaborative%20environment&width=300&height=200&seq=group1&orientation=landscape'
  },
  {
    id: '2',
    name: 'Geotechnical Masters',
    description: 'Deep dive into geotechnical engineering concepts. Perfect for those struggling with soil mechanics and foundation design.',
    members: 8,
    maxMembers: 12,
    examDate: '2024-04-15',
    topics: ['Geotechnical Engineering', 'Foundation Design'],
    meetingSchedule: 'Saturdays, 10:00 AM EST',
    isPrivate: false,
    creator: 'Mike Rodriguez',
    createdAt: '2024-01-08',
    lastActivity: '2024-01-15T10:15:00Z',
    avatar: 'https://readdy.ai/api/search-image?query=geotechnical%20engineering%20study%20session%20with%20soil%20samples%20and%20foundation%20models%2C%20educational%20setting&width=300&height=200&seq=group2&orientation=landscape'
  },
  {
    id: '3',
    name: 'Structural Analysis Intensive',
    description: 'Intensive practice sessions focusing on structural analysis methods. We work through complex problems together.',
    members: 15,
    maxMembers: 15,
    examDate: '2024-04-15',
    topics: ['Structural Analysis', 'Moment Distribution', 'Matrix Methods'],
    meetingSchedule: 'Sundays, 2:00 PM EST',
    isPrivate: true,
    creator: 'Dr. Jennifer Liu',
    createdAt: '2024-01-05',
    lastActivity: '2024-01-15T16:45:00Z',
    avatar: 'https://readdy.ai/api/search-image?query=structural%20engineering%20study%20group%20with%20beam%20diagrams%20and%20structural%20models%2C%20academic%20environment&width=300&height=200&seq=group3&orientation=landscape'
  },
  {
    id: '4',
    name: 'Transportation & Traffic',
    description: 'Study group focused on transportation engineering and traffic analysis. Great for highway and traffic engineers.',
    members: 6,
    maxMembers: 10,
    examDate: '2024-04-15',
    topics: ['Transportation Engineering', 'Traffic Analysis', 'Pavement Design'],
    meetingSchedule: 'Wednesdays, 6:30 PM EST',
    isPrivate: false,
    creator: 'Alex Thompson',
    createdAt: '2024-01-12',
    lastActivity: '2024-01-15T18:20:00Z',
    avatar: 'https://readdy.ai/api/search-image?query=transportation%20engineering%20study%20group%20with%20traffic%20flow%20diagrams%20and%20road%20design%20plans%2C%20professional%20setting&width=300&height=200&seq=group4&orientation=landscape'
  }
];

export default function StudyGroups() {
  const [searchTerm, setSearchTerm] = useState('');
  const [selectedTopic, setSelectedTopic] = useState('');
  const [showCreateForm, setShowCreateForm] = useState(false);
  const [newGroupName, setNewGroupName] = useState('');
  const [newGroupDescription, setNewGroupDescription] = useState('');

  const topics = ['All Topics', 'Structural Analysis', 'Concrete Design', 'Steel Design', 'Geotechnical Engineering', 'Transportation Engineering', 'Water Resources', 'Environmental Engineering'];

  const filteredGroups = mockStudyGroups.filter(group => {
    const matchesSearch = group.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         group.description.toLowerCase().includes(searchTerm.toLowerCase());
    const matchesTopic = !selectedTopic || selectedTopic === 'All Topics' || 
                        group.topics.some(topic => topic.includes(selectedTopic));
    return matchesSearch && matchesTopic;
  });

  const handleJoinGroup = (groupId: string) => {
    console.log('Joining group:', groupId);
    // Handle join group logic
  };

  const handleCreateGroup = () => {
    if (newGroupName.trim() && newGroupDescription.trim()) {
      console.log('Creating group:', { name: newGroupName, description: newGroupDescription });
      setNewGroupName('');
      setNewGroupDescription('');
      setShowCreateForm(false);
    }
  };

  const formatLastActivity = (timestamp: string) => {
    const now = new Date();
    const activity = new Date(timestamp);
    const diffHours = Math.floor((now.getTime() - activity.getTime()) / (1000 * 60 * 60));
    
    if (diffHours < 1) return 'Active now';
    if (diffHours < 24) return `${diffHours}h ago`;
    return `${Math.floor(diffHours / 24)}d ago`;
  };

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        {/* Header */}
        <div className="mb-8">
          <div className="flex items-center justify-between">
            <div>
              <h1 className="text-3xl font-bold text-gray-900 mb-2">Study Groups</h1>
              <p className="text-gray-600">Join or create study groups to collaborate with fellow engineers</p>
            </div>
            <button 
              onClick={() => setShowCreateForm(true)}
              className="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap"
            >
              Create Group
            </button>
          </div>
        </div>

        {/* Search and Filters */}
        <div className="bg-white rounded-lg shadow p-6 mb-8">
          <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label className="block text-sm font-medium text-gray-700 mb-2">Search Groups</label>
              <div className="relative">
                <i className="ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                <input
                  type="text"
                  value={searchTerm}
                  onChange={(e) => setSearchTerm(e.target.value)}
                  placeholder="Search by name or description..."
                  className="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                />
              </div>
            </div>
            <div>
              <label className="block text-sm font-medium text-gray-700 mb-2">Filter by Topic</label>
              <select
                value={selectedTopic}
                onChange={(e) => setSelectedTopic(e.target.value)}
                className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8"
              >
                {topics.map((topic) => (
                  <option key={topic} value={topic}>{topic}</option>
                ))}
              </select>
            </div>
          </div>
        </div>

        {/* Create Group Modal */}
        {showCreateForm && (
          <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div className="bg-white rounded-lg p-6 w-full max-w-md mx-4">
              <h3 className="text-lg font-semibold text-gray-900 mb-4">Create New Study Group</h3>
              <div className="space-y-4">
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">Group Name</label>
                  <input
                    type="text"
                    value={newGroupName}
                    onChange={(e) => setNewGroupName(e.target.value)}
                    placeholder="Enter group name..."
                    className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                </div>
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">Description</label>
                  <textarea
                    value={newGroupDescription}
                    onChange={(e) => setNewGroupDescription(e.target.value)}
                    placeholder="Describe your study group..."
                    rows={3}
                    className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
                  />
                </div>
              </div>
              <div className="flex justify-end space-x-3 mt-6">
                <button 
                  onClick={() => setShowCreateForm(false)}
                  className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap"
                >
                  Cancel
                </button>
                <button 
                  onClick={handleCreateGroup}
                  className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap"
                >
                  Create Group
                </button>
              </div>
            </div>
          </div>
        )}

        {/* Study Groups Grid */}
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
          {filteredGroups.map((group) => (
            <div key={group.id} className="bg-white rounded-lg shadow hover:shadow-lg transition-shadow">
              <img 
                src={group.avatar} 
                alt={group.name}
                className="w-full h-48 object-cover rounded-t-lg"
              />
              <div className="p-6">
                <div className="flex items-start justify-between mb-3">
                  <div className="flex-1">
                    <h3 className="text-lg font-semibold text-gray-900 mb-1">{group.name}</h3>
                    <p className="text-sm text-gray-600">Created by {group.creator}</p>
                  </div>
                  {group.isPrivate && (
                    <span className="px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full">
                      Private
                    </span>
                  )}
                </div>

                <p className="text-gray-700 text-sm mb-4 line-clamp-3">{group.description}</p>

                {/* Topics */}
                <div className="flex flex-wrap gap-1 mb-4">
                  {group.topics.slice(0, 3).map((topic) => (
                    <span key={topic} className="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">
                      {topic}
                    </span>
                  ))}
                  {group.topics.length > 3 && (
                    <span className="px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full">
                      +{group.topics.length - 3} more
                    </span>
                  )}
                </div>

                {/* Group Info */}
                <div className="space-y-2 mb-4">
                  <div className="flex items-center text-sm text-gray-600">
                    <i className="ri-group-line mr-2"></i>
                    <span>{group.members}/{group.maxMembers} members</span>
                  </div>
                  <div className="flex items-center text-sm text-gray-600">
                    <i className="ri-calendar-line mr-2"></i>
                    <span>{group.meetingSchedule}</span>
                  </div>
                  <div className="flex items-center text-sm text-gray-600">
                    <i className="ri-time-line mr-2"></i>
                    <span>Last active: {formatLastActivity(group.lastActivity)}</span>
                  </div>
                </div>

                {/* Actions */}
                <div className="flex items-center justify-between pt-4 border-t border-gray-200">
                  <div className="text-sm text-gray-500">
                    Exam: {new Date(group.examDate).toLocaleDateString()}
                  </div>
                  <button 
                    onClick={() => handleJoinGroup(group.id)}
                    disabled={group.members >= group.maxMembers}
                    className={`px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${
                      group.members >= group.maxMembers
                        ? 'bg-gray-100 text-gray-400 cursor-not-allowed'
                        : 'bg-blue-600 text-white hover:bg-blue-700'
                    }`}
                  >
                    {group.members >= group.maxMembers ? 'Full' : 'Join Group'}
                  </button>
                </div>
              </div>
            </div>
          ))}
        </div>

        {filteredGroups.length === 0 && (
          <div className="text-center py-12">
            <i className="ri-group-line text-4xl text-gray-400 mb-4"></i>
            <h3 className="text-lg font-medium text-gray-900 mb-2">No study groups found</h3>
            <p className="text-gray-600 mb-4">Try adjusting your search criteria or create a new group</p>
            <button 
              onClick={() => setShowCreateForm(true)}
              className="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap"
            >
              Create Your First Group
            </button>
          </div>
        )}
      </div>
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\study-path\module\page.tsx
---- CONTENT ----

import { useState, useEffect } from 'react';
import { useParams, useNavigate, useSearchParams } from 'react-router-dom';
import Header from '../../../components/feature/Header';
import Button from '../../../components/base/Button';
import Card from '../../../components/base/Card';
import LoadingSpinner from '../../../components/effects/LoadingSpinner';
import ProgressBar from '../../../components/base/ProgressBar';
import { studyService } from '../../../api';

interface ModuleContent {
  id: string;
  type: 'text' | 'video' | 'practice';
  title: string;
  content?: string;
  videoUrl?: string;
  duration?: number;
  completed: boolean;
}

interface Module {
  id: string;
  title: string;
  description: string;
  week: number;
  estimatedTime: number;
  difficulty: 'Beginner' | 'Intermediate' | 'Advanced';
  topics: string[];
  content: ModuleContent[];
  progress: number;
  completed: boolean;
}

export default function ModuleDetail() {
  const { moduleId } = useParams();
  const [searchParams] = useSearchParams();
  const actualModuleId = moduleId || searchParams.get('id') || '';
  const navigate = useNavigate();
  const [module, setModule] = useState<Module | null>(null);
  const [loading, setLoading] = useState(true);
  const [activeContentId, setActiveContentId] = useState<string>('');
  const [error, setError] = useState('');
  const [saving, setSaving] = useState(false);

  useEffect(() => {
    // Simulate loading module data
    setTimeout(() => {
      const mockModule: Module = {
        id: moduleId || '1',
        title: 'Structural Engineering Fundamentals',
        description: 'Master the core principles of structural engineering including load analysis, material properties, and design methodologies.',
        week: 1,
        estimatedTime: 240, // minutes
        difficulty: 'Intermediate',
        topics: ['Load Analysis', 'Material Properties', 'Beam Design', 'Column Design'],
        progress: 65,
        completed: false,
        content: [
          {
            id: '1',
            type: 'text',
            title: 'Introduction to Structural Engineering',
            content: `Structural engineering is a sub-discipline of civil engineering that deals with the analysis and design of structures that support or resist loads. This includes buildings, bridges, towers, and other infrastructure.

Key principles include:
• Understanding load paths and how forces flow through structures
• Material properties and their behavior under different conditions
• Safety factors and design codes
• Economic considerations in design decisions

The structural engineer must ensure that structures are safe, serviceable, and economical. This requires a thorough understanding of mechanics, materials science, and construction methods.`,
            duration: 15,
            completed: true
          },
          {
            id: '2',
            type: 'video',
            title: 'Load Types and Analysis Methods',
            videoUrl: 'https://example.com/video1',
            duration: 25,
            completed: true
          },
          {
            id: '3',
            type: 'text',
            title: 'Material Properties in Structural Design',
            content: `Understanding material properties is crucial for structural design. Key properties include:

**Steel Properties:**
• High strength-to-weight ratio
• Ductile behavior
• Consistent material properties
• Susceptible to corrosion and fire

**Concrete Properties:**
• High compressive strength
• Low tensile strength
• Creep and shrinkage effects
• Durability considerations

**Design Considerations:**
• Factor of safety selection
• Load combinations
• Serviceability requirements
• Environmental effects`,
            duration: 20,
            completed: false
          },
          {
            id: '4',
            type: 'practice',
            title: 'Practice Problems: Beam Design',
            duration: 30,
            completed: false
          },
          {
            id: '5',
            type: 'video',
            title: 'Column Design Principles',
            videoUrl: 'https://example.com/video2',
            duration: 30,
            completed: false
          },
          {
            id: '6',
            type: 'practice',
            title: 'Module Assessment',
            duration: 45,
            completed: false
          }
        ]
      };
      setModule(mockModule);
      setActiveContentId(mockModule.content[0].id);
      setLoading(false);
    }, 1000);
  }, [moduleId]);

  const handleContentSelect = (contentId: string) => {
    setActiveContentId(contentId);
  };

  const markContentComplete = async (contentId: string) => {
    if (!module || !actualModuleId) return;
    
    setSaving(true);
    try {
      const updatedContent = module.content.map(content =>
        content.id === contentId ? { ...content, completed: true } : content
      );
      
      const completedCount = updatedContent.filter(c => c.completed).length;
      const newProgress = Math.round((completedCount / updatedContent.length) * 100);
      
      await studyService.updateModuleProgress(actualModuleId, {
        progress: newProgress,
        time_spent_seconds: 300 // Track actual time in real app
      });
      
      if (newProgress === 100) {
        await studyService.completeModule(actualModuleId);
      }
      
      setModule({
        ...module,
        content: updatedContent,
        progress: newProgress,
        completed: newProgress === 100
      });
    } catch (err) {
      setError(err instanceof Error ? err.message : 'Failed to update progress');
    } finally {
      setSaving(false);
    }
  };

  const getNextContent = () => {
    if (!module) return null;
    const currentIndex = module.content.findIndex(c => c.id === activeContentId);
    return currentIndex < module.content.length - 1 ? module.content[currentIndex + 1] : null;
  };

  const getPreviousContent = () => {
    if (!module) return null;
    const currentIndex = module.content.findIndex(c => c.id === activeContentId);
    return currentIndex > 0 ? module.content[currentIndex - 1] : null;
  };

  const renderContent = () => {
    if (!module) return null;
    
    const activeContent = module.content.find(c => c.id === activeContentId);
    if (!activeContent) return null;

    switch (activeContent.type) {
      case 'text':
        return (
          <div className="prose max-w-none">
            <h2 className="text-2xl font-bold text-gray-900 mb-6">{activeContent.title}</h2>
            <div className="text-gray-700 leading-relaxed whitespace-pre-line">
              {activeContent.content}
            </div>
          </div>
        );
      
      case 'video':
        return (
          <div>
            <h2 className="text-2xl font-bold text-gray-900 mb-6">{activeContent.title}</h2>
            <div className="bg-gray-900 rounded-lg aspect-video flex items-center justify-center mb-6">
              <div className="text-center text-white">
                <i className="ri-play-circle-line text-6xl mb-4"></i>
                <p className="text-lg">Video Content</p>
                <p className="text-sm text-gray-300">Duration: {activeContent.duration} minutes</p>
              </div>
            </div>
            <p className="text-gray-600">
              This video covers the fundamental concepts and practical applications related to {activeContent.title.toLowerCase()}.
            </p>
          </div>
        );
      
      case 'practice':
        return (
          <div>
            <h2 className="text-2xl font-bold text-gray-900 mb-6">{activeContent.title}</h2>
            <div className="bg-blue-50 border border-blue-200 rounded-lg p-8 text-center">
              <i className="ri-pencil-line text-4xl text-blue-600 mb-4"></i>
              <h3 className="text-xl font-semibold text-blue-900 mb-2">Practice Session</h3>
              <p className="text-blue-700 mb-6">
                Complete practice problems to reinforce your understanding of the concepts covered in this module.
              </p>
              <Button
                onClick={() => navigate('/practice')}
                className="flex items-center space-x-2"
              >
                <i className="ri-play-line"></i>
                <span>Start Practice</span>
              </Button>
            </div>
          </div>
        );
      
      default:
        return null;
    }
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-50">
        <Header />
        <div className="flex items-center justify-center h-96">
          <LoadingSpinner size="lg" variant="engineering" />
        </div>
      </div>
    );
  }

  if (!module) {
    return (
      <div className="min-h-screen bg-gray-50">
        <Header />
        <div className="max-w-4xl mx-auto px-4 py-8">
          <Card className="text-center py-12">
            <h2 className="text-2xl font-bold text-gray-900 mb-4">Module Not Found</h2>
            <p className="text-gray-600 mb-6">The module you're looking for doesn't exist.</p>
            <Button onClick={() => navigate('/study-path')}>
              Back to Study Path
            </Button>
          </Card>
        </div>
      </div>
    );
  }

  const activeContent = module.content.find(c => c.id === activeContentId);
  const nextContent = getNextContent();
  const previousContent = getPreviousContent();

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <div className="max-w-7xl mx-auto px-4 py-8">
        {error && (
          <div className="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg">
            <div className="flex items-center">
              <i className="ri-error-warning-line text-red-600 text-xl mr-3"></i>
              <p className="text-red-800">{error}</p>
            </div>
          </div>
        )}
        {/* Module Header */}
        <div className="mb-8">
          <div className="flex items-center justify-between mb-4">
            <Button
              variant="secondary"
              onClick={() => navigate('/study-path')}
              className="flex items-center space-x-2"
            >
              <i className="ri-arrow-left-line"></i>
              <span>Back to Study Path</span>
            </Button>
            
            <div className="flex items-center space-x-4">
              <span className="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium">
                Week {module.week}
              </span>
              <span className={`px-3 py-1 rounded-full text-sm font-medium ${
                module.difficulty === 'Beginner' ? 'bg-green-100 text-green-800' :
                module.difficulty === 'Intermediate' ? 'bg-yellow-100 text-yellow-800' :
                'bg-red-100 text-red-800'
              }`}>
                {module.difficulty}
              </span>
            </div>
          </div>
          
          <h1 className="text-3xl font-bold text-gray-900 mb-2">{module.title}</h1>
          <p className="text-gray-600 mb-4">{module.description}</p>
          
          <div className="flex items-center space-x-6 text-sm text-gray-600 mb-4">
            <div className="flex items-center space-x-1">
              <i className="ri-time-line"></i>
              <span>{Math.floor(module.estimatedTime / 60)}h {module.estimatedTime % 60}m</span>
            </div>
            <div className="flex items-center space-x-1">
              <i className="ri-bookmark-line"></i>
              <span>{module.topics.join(', ')}</span>
            </div>
          </div>
          
          <div className="flex items-center space-x-4">
            <div className="flex-1">
              <ProgressBar value={module.progress} />
            </div>
            <span className="text-sm font-medium text-gray-600">{module.progress}% complete</span>
          </div>
        </div>

        <div className="grid grid-cols-1 lg:grid-cols-4 gap-8">
          {/* Content Navigation */}
          <div className="lg:col-span-1">
            <Card className="sticky top-32">
              <div className="p-4">
                <h3 className="font-semibold text-gray-900 mb-4">Module Content</h3>
                <div className="space-y-2">
                  {module.content.map((content, index) => (
                    <button
                      key={content.id}
                      onClick={() => handleContentSelect(content.id)}
                      className={`w-full text-left p-3 rounded-lg transition-colors ${
                        activeContentId === content.id
                          ? 'bg-blue-100 border border-blue-300'
                          : 'hover:bg-gray-50'
                      }`}
                    >
                      <div className="flex items-center space-x-3">
                        <div className={`w-6 h-6 rounded-full flex items-center justify-center text-xs ${
                          content.completed
                            ? 'bg-green-500 text-white'
                            : activeContentId === content.id
                              ? 'bg-blue-500 text-white'
                              : 'bg-gray-200 text-gray-600'
                        }`}>
                          {content.completed ? (
                            <i className="ri-check-line"></i>
                          ) : (
                            <span>{index + 1}</span>
                          )}
                        </div>
                        <div className="flex-1 min-w-0">
                          <div className="flex items-center space-x-2 mb-1">
                            <i className={`text-sm ${
                              content.type === 'video' ? 'ri-play-line text-red-500' :
                              content.type === 'practice' ? 'ri-pencil-line text-green-500' :
                              'ri-file-text-line text-blue-500'
                            }`}></i>
                            <span className="text-xs text-gray-500">{content.duration}m</span>
                          </div>
                          <p className="text-sm font-medium text-gray-900 truncate">
                            {content.title}
                          </p>
                        </div>
                      </div>
                    </button>
                  ))}
                </div>
              </div>
            </Card>
          </div>

          {/* Main Content */}
          <div className="lg:col-span-3">
            <Card>
              <div className="p-8">
                {renderContent()}
                
                {/* Content Actions */}
                <div className="flex items-center justify-between mt-8 pt-6 border-t border-gray-200">
                  <div className="flex items-center space-x-4">
                    {activeContent && !activeContent.completed && (
                      <Button
                        onClick={() => markContentComplete(activeContent.id)}
                        variant="secondary"
                        disabled={saving}
                        className="flex items-center space-x-2 text-green-600"
                      >
                        <i className="ri-check-line"></i>
                        <span>{saving ? 'Saving...' : 'Mark Complete'}</span>
                      </Button>
                    )}
                    
                    {activeContent?.completed && (
                      <div className="flex items-center space-x-2 text-green-600">
                        <i className="ri-check-circle-fill"></i>
                        <span className="text-sm font-medium">Completed</span>
                      </div>
                    )}
                  </div>
                  
                  <div className="flex space-x-3">
                    {previousContent && (
                      <Button
                        variant="secondary"
                        onClick={() => handleContentSelect(previousContent.id)}
                        className="flex items-center space-x-2"
                      >
                        <i className="ri-arrow-left-line"></i>
                        <span>Previous</span>
                      </Button>
                    )}
                    
                    {nextContent ? (
                      <Button
                        onClick={() => handleContentSelect(nextContent.id)}
                        className="flex items-center space-x-2"
                      >
                        <span>Next</span>
                        <i className="ri-arrow-right-line"></i>
                      </Button>
                    ) : (
                      <Button
                        onClick={() => navigate('/study-path')}
                        className="flex items-center space-x-2 bg-green-600 hover:bg-green-700"
                      >
                        <span>Complete Module</span>
                        <i className="ri-check-line"></i>
                      </Button>
                    )}
                  </div>
                </div>
              </div>
            </Card>
          </div>
        </div>
      </div>
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\study-path\page.tsx
---- CONTENT ----

import { useEffect, useState } from 'react';
import { useNavigate } from 'react-router-dom';
import Header from '../../components/feature/Header';
import MobileNavigation from '../../components/feature/MobileNavigation';
import Card from '../../components/base/Card';
import Button from '../../components/base/Button';
import ProgressBar from '../../components/base/ProgressBar';
import LoadingSpinner from '../../components/effects/LoadingSpinner';
import { updateSEO } from '../../utils/seo';
import { studyService } from '../../api';
import type { StudyPath as ApiStudyPath, Module } from '../../api/types';

export default function StudyPath() {
  const navigate = useNavigate();
  const [selectedWeek, setSelectedWeek] = useState(1);
  const [studyPath, setStudyPath] = useState<ApiStudyPath | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');

  useEffect(() => {
    updateSEO({
      title: 'Study Path - NPPE Pro',
      description: '8-week structured study path for NPPE exam',
      keywords: 'study path, learning path, NPPE',
      canonical: '/study-path'
    });
  }, []);

  useEffect(() => {
    const fetchStudyPath = async () => {
      try {
        const data = await studyService.getStudyPath();
        setStudyPath(data);
        setSelectedWeek(data.current_week || 1);
      } catch (err) {
        setError(err instanceof Error ? err.message : 'Failed to load study path');
      } finally {
        setLoading(false);
      }
    };

    fetchStudyPath();
  }, []);

  const studyPlan = [
    {
      week: 1,
      title: 'Foundation & Professional Practice',
      description: 'Understanding the role of professional engineers and regulatory framework',
      modules: [
        { id: 1, title: 'Introduction to Professional Engineering', duration: '45 min', type: 'video', completed: true },
        { id: 2, title: 'Professional Engineers Act Overview', duration: '30 min', type: 'reading', completed: true },
        { id: 3, title: 'Regulatory Bodies in Canada', duration: '25 min', type: 'video', completed: true },
        { id: 4, title: 'Practice Questions: Professional Practice', duration: '20 min', type: 'practice', completed: false }
      ]
    },
    {
      week: 2,
      title: 'Ethics & Professional Responsibility',
      description: 'Core ethical principles and decision-making frameworks for engineers',
      modules: [
        { id: 5, title: 'Code of Ethics Fundamentals', duration: '40 min', type: 'video', completed: true },
        { id: 6, title: 'Ethical Decision Making Process', duration: '35 min', type: 'reading', completed: false },
        { id: 7, title: 'Case Studies in Engineering Ethics', duration: '50 min', type: 'case-study', completed: false },
        { id: 8, title: 'Practice Questions: Ethics', duration: '25 min', type: 'practice', completed: true }
      ]
    },
    {
      week: 3,
      title: 'Engineering Law & Regulations',
      description: 'Legal framework governing engineering practice and professional obligations',
      modules: [
        { id: 9, title: 'Legal System Overview', duration: '35 min', type: 'video', completed: false },
        { id: 10, title: 'Professional Licensing Requirements', duration: '30 min', type: 'reading', completed: false },
        { id: 11, title: 'Scope of Practice and Limitations', duration: '40 min', type: 'video', completed: false },
        { id: 12, title: 'Practice Questions: Engineering Law', duration: '20 min', type: 'practice', completed: false }
      ]
    },
    {
      week: 4,
      title: 'Professional Liability & Risk Management',
      description: 'Understanding liability, negligence, and risk mitigation strategies',
      modules: [
        { id: 13, title: 'Types of Professional Liability', duration: '45 min', type: 'video', completed: false },
        { id: 14, title: 'Negligence and Standard of Care', duration: '40 min', type: 'reading', completed: false },
        { id: 15, title: 'Risk Assessment and Management', duration: '35 min', type: 'video', completed: false },
        { id: 16, title: 'Practice Questions: Liability', duration: '25 min', type: 'practice', completed: false }
      ]
    },
    {
      week: 5,
      title: 'Contracts & Business Law',
      description: 'Contract fundamentals and business relationships in engineering',
      modules: [
        { id: 17, title: 'Contract Law Basics', duration: '40 min', type: 'video', completed: false },
        { id: 18, title: 'Engineering Service Agreements', duration: '35 min', type: 'reading', completed: false },
        { id: 19, title: 'Intellectual Property Rights', duration: '30 min', type: 'video', completed: false },
        { id: 20, title: 'Practice Questions: Contracts', duration: '20 min', type: 'practice', completed: false }
      ]
    },
    {
      week: 6,
      title: 'Sustainability & Environmental Responsibility',
      description: 'Sustainable engineering practices and environmental considerations',
      modules: [
        { id: 21, title: 'Principles of Sustainable Design', duration: '45 min', type: 'video', completed: false },
        { id: 22, title: 'Environmental Impact Assessment', duration: '40 min', type: 'reading', completed: false },
        { id: 23, title: 'Life Cycle Analysis', duration: '35 min', type: 'case-study', completed: false },
        { id: 24, title: 'Practice Questions: Sustainability', duration: '25 min', type: 'practice', completed: false }
      ]
    },
    {
      week: 7,
      title: 'Project Management & Leadership',
      description: 'Essential management skills and leadership principles for engineers',
      modules: [
        { id: 25, title: 'Project Management Fundamentals', duration: '50 min', type: 'video', completed: false },
        { id: 26, title: 'Team Leadership and Communication', duration: '40 min', type: 'reading', completed: false },
        { id: 27, title: 'Quality Management Systems', duration: '35 min', type: 'video', completed: false },
        { id: 28, title: 'Practice Questions: Management', duration: '30 min', type: 'practice', completed: false }
      ]
    },
    {
      week: 8,
      title: 'Review & Final Preparation',
      description: 'Comprehensive review and exam preparation strategies',
      modules: [
        { id: 29, title: 'Comprehensive Review Session', duration: '60 min', type: 'video', completed: false },
        { id: 30, title: 'Exam Strategies and Tips', duration: '30 min', type: 'reading', completed: false },
        { id: 31, title: 'Full Practice Exam', duration: '120 min', type: 'exam', completed: false },
        { id: 32, title: 'Final Review and Q&A', duration: '45 min', type: 'video', completed: false }
      ]
    }
  ];

  const getModuleIcon = (type: string) => {
    switch (type) {
      case 'video': return 'ri-play-circle-line';
      case 'reading': return 'ri-book-open-line';
      case 'practice': return 'ri-question-line';
      case 'case-study': return 'ri-file-text-line';
      case 'exam': return 'ri-file-list-line';
      default: return 'ri-file-line';
    }
  };

  const getModuleColor = (type: string) => {
    switch (type) {
      case 'video': return 'text-blue-600 bg-blue-100';
      case 'reading': return 'text-green-600 bg-green-100';
      case 'practice': return 'text-purple-600 bg-purple-100';
      case 'case-study': return 'text-orange-600 bg-orange-100';
      case 'exam': return 'text-red-600 bg-red-100';
      default: return 'text-gray-600 bg-gray-100';
    }
  };

  const currentWeekData = studyPlan[selectedWeek - 1];
  if (loading) {
    return (
      <div className="min-h-screen bg-gray-50">
        <Header />
        <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-24">
          <div className="flex items-center justify-center h-96">
            <LoadingSpinner size="lg" />
          </div>
        </main>
        <MobileNavigation />
      </div>
    );
  }

  if (!studyPath) {
    return (
      <div className="min-h-screen bg-gray-50">
        <Header />
        <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-24">
          <Card className="text-center py-12">
            <h2 className="text-2xl font-bold text-gray-900 mb-4">No Study Path Found</h2>
            <p className="text-gray-600 mb-6">Start your personalized study path today.</p>
            <Button onClick={() => navigate('/onboarding')}>Create Study Path</Button>
          </Card>
        </main>
        <MobileNavigation />
      </div>
    );
  }

  const modules = studyPath.modules || [];
  const weekModules = modules.filter(m => m.week === selectedWeek);
  const completedCount = modules.filter(m => m.status === 'completed').length;
  const progressPercentage = studyPath.progress_percentage || 0;

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-24">
        {error && (
          <div className="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg">
            <div className="flex items-center">
              <i className="ri-error-warning-line text-red-600 text-xl mr-3"></i>
              <p className="text-red-800">{error}</p>
            </div>
          </div>
        )}
        {/* Header */}
        <div className="mb-8">
          <h1 className="text-3xl font-bold text-gray-900 mb-2">
            8-Week Study Path
          </h1>
          <p className="text-gray-600">
            A structured curriculum designed to prepare you for the NPPE exam in 8 weeks.
          </p>
        </div>

        {/* Progress Overview */}
        <Card className="mb-8">
          <div className="grid md:grid-cols-4 gap-6">
            <div className="md:col-span-3">
              <h2 className="text-xl font-semibold text-gray-900 mb-4">Your Progress</h2>
              <div className="mb-4">
                <div className="flex justify-between text-sm mb-2">
                  <span>Overall Completion</span>
                  <span>{completedCount}/{modules.length} modules</span>
                </div>
                <ProgressBar value={progressPercentage} animate={true} />
              </div>
              <div className="grid grid-cols-3 gap-4 text-center">
                <div>
                  <div className="text-2xl font-bold text-blue-600">{Math.round(progressPercentage)}%</div>
                  <div className="text-sm text-gray-600">Complete</div>
                </div>
                <div>
                  <div className="text-2xl font-bold text-green-600">{selectedWeek}</div>
                  <div className="text-sm text-gray-600">Current Week</div>
                </div>
                <div>
                  <div className="text-2xl font-bold text-purple-600">
                    {Math.max(0, 8 - selectedWeek + 1)}
                  </div>
                  <div className="text-sm text-gray-600">Weeks Left</div>
                </div>
              </div>
            </div>
            <div className="flex flex-col justify-center">
              <Button className="w-full mb-3">
                <i className="ri-play-circle-line mr-2"></i>
                Continue Learning
              </Button>
              <Button variant="secondary" className="w-full">
                <i className="ri-calendar-line mr-2"></i>
                View Schedule
              </Button>
            </div>
          </div>
        </Card>

        <div className="grid lg:grid-cols-4 gap-8">
          {/* Week Navigation */}
          <div className="lg:col-span-1">
            <Card>
              <h3 className="text-lg font-semibold text-gray-900 mb-4">Study Weeks</h3>
              <div className="space-y-2">
                {Array.from({ length: 8 }, (_, i) => i + 1).map((weekNum) => {
                  const weekMods = modules.filter(m => m.week === weekNum);
                  const weekCompletedModules = weekMods.filter(m => m.status === 'completed').length;
                  const weekProgress = weekMods.length > 0 ? (weekCompletedModules / weekMods.length) * 100 : 0;
                  
                  return (
                    <button
                      key={weekNum}
                      onClick={() => setSelectedWeek(weekNum)}
                      className={`w-full p-3 rounded-lg text-left transition-colors cursor-pointer ${
                        selectedWeek === weekNum
                          ? 'bg-blue-100 text-blue-700 border border-blue-200'
                          : 'text-gray-700 hover:bg-gray-100'
                      }`}
                    >
                      <div className="flex items-center justify-between mb-2">
                        <span className="font-medium">Week {weekNum}</span>
                        {weekProgress === 100 && (
                          <i className="ri-check-circle-fill text-green-600"></i>
                        )}
                      </div>
                      <div className="text-sm text-gray-600 mb-2">Week {weekNum} Content</div>
                      <div className="w-full bg-gray-200 rounded-full h-1">
                        <div 
                          className="bg-blue-600 h-1 rounded-full transition-all duration-300"
                          style={{ width: `${weekProgress}%` }}
                        ></div>
                      </div>
                      <div className="text-xs text-gray-500 mt-1">
                        {weekCompletedModules}/{weekMods.length} modules
                      </div>
                    </button>
                  );
                })}
              </div>
            </Card>
          </div>

          {/* Week Content */}
          <div className="lg:col-span-3">
            <Card>
              <div className="mb-6">
                <div className="flex items-center justify-between mb-4">
                  <h2 className="text-2xl font-bold text-gray-900">
                    Week {selectedWeek} Content
                  </h2>
                  <span className="text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded-full">
                    {weekModules.filter(m => m.status === 'completed').length}/{weekModules.length} Complete
                  </span>
                </div>
                <p className="text-gray-600 text-lg">
                  Study modules for week {selectedWeek}
                </p>
              </div>

              {/* Modules */}
              <div className="space-y-4">
                {weekModules.map((module, index) => {
                  const isCompleted = module.status === 'completed';
                  const isLocked = false; // Simplify for now
                  
                  return (
                    <div
                      key={module.id}
                      className={`p-4 border rounded-lg transition-all ${
                        isCompleted 
                          ? 'border-green-200 bg-green-50' 
                          : isLocked
                          ? 'border-gray-200 bg-gray-50 opacity-60'
                          : 'border-gray-300 hover:border-gray-400 hover:shadow-sm'
                      }`}
                    >
                      <div className="flex items-center justify-between">
                        <div className="flex items-center space-x-4">
                          <div className="w-10 h-10 rounded-lg flex items-center justify-center bg-blue-100 text-blue-600">
                            <i className="ri-book-line text-lg"></i>
                          </div>
                          <div>
                            <h3 className={`font-medium ${isLocked ? 'text-gray-500' : 'text-gray-900'}`}>
                              {module.title}
                            </h3>
                            <div className="flex items-center space-x-3 text-sm text-gray-600">
                              <span className="flex items-center">
                                <i className="ri-time-line mr-1"></i>
                                {module.duration_minutes}m
                              </span>
                            </div>
                          </div>
                        </div>

                        <div className="flex items-center space-x-3">
                          {isCompleted && (
                            <div className="flex items-center text-green-600">
                              <i className="ri-check-circle-fill mr-1"></i>
                              <span className="text-sm font-medium">Completed</span>
                            </div>
                          )}
                          
                          {isLocked ? (
                            <div className="flex items-center text-gray-500">
                              <i className="ri-lock-line mr-1"></i>
                              <span className="text-sm">Locked</span>
                            </div>
                          ) : (
                            <div className="flex space-x-2">
                              <Button
                                variant="secondary"
                                size="sm"
                                disabled={isLocked}
                                onClick={() => navigate(`/study-path/module?id=${module.id}`)}
                              >
                                {isCompleted ? 'Review' : 'Start'}
                              </Button>
                            </div>
                          )}
                        </div>
                      </div>
                    </div>
                  );
                })}
              </div>

              {/* Week Navigation */}
              <div className="flex items-center justify-between mt-8 pt-6 border-t border-gray-200">
                <Button
                  variant="secondary"
                  onClick={() => setSelectedWeek(Math.max(1, selectedWeek - 1))}
                  disabled={selectedWeek === 1}
                >
                  <i className="ri-arrow-left-line mr-2"></i>
                  Previous Week
                </Button>

                <div className="text-sm text-gray-600">
                  Week {selectedWeek} of 8
                </div>

                <Button
                  onClick={() => setSelectedWeek(Math.min(8, selectedWeek + 1))}
                  disabled={selectedWeek === 8}
                >
                  Next Week
                  <i className="ri-arrow-right-line ml-2"></i>
                </Button>
              </div>
            </Card>

            {/* Study Tips */}
            <Card className="mt-6 bg-gradient-to-r from-blue-50 to-blue-100">
              <h3 className="text-lg font-semibold text-gray-900 mb-4">
                <i className="ri-lightbulb-line mr-2"></i>
                Study Tips for Week {selectedWeek}
              </h3>
              <div className="grid md:grid-cols-2 gap-4">
                <div>
                  <h4 className="font-medium text-gray-900 mb-2">Focus Areas</h4>
                  <ul className="text-sm text-gray-700 space-y-1">
                    <li>• Take detailed notes during video sessions</li>
                    <li>• Practice active recall with key concepts</li>
                    <li>• Complete all practice questions</li>
                  </ul>
                </div>
                <div>
                  <h4 className="font-medium text-gray-900 mb-2">Time Management</h4>
                  <ul className="text-sm text-gray-700 space-y-1">
                    <li>• Aim for 1-2 hours of study daily</li>
                    <li>• Break sessions into 25-minute chunks</li>
                    <li>• Review previous week's material</li>
                  </ul>
                </div>
              </div>
            </Card>
          </div>
        </div>
      </main>

      <MobileNavigation />
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\support\page.tsx
---- CONTENT ----

import { useState } from 'react';
import Header from '../../components/feature/Header';

interface FAQ {
  id: string;
  question: string;
  answer: string;
  category: string;
}

interface Ticket {
  id: string;
  subject: string;
  status: 'open' | 'in-progress' | 'resolved';
  priority: 'low' | 'medium' | 'high';
  createdAt: string;
  lastUpdate: string;
}

const mockFAQs: FAQ[] = [
  {
    id: '1',
    question: 'How do I reset my password?',
    answer: 'You can reset your password by clicking the "Forgot Password" link on the login page. Enter your email address and we\'ll send you a reset link.',
    category: 'Account'
  },
  {
    id: '2',
    question: 'What topics are covered in the NPPE exam?',
    answer: 'The NPPE covers 8 main areas: Structural Analysis, Concrete Design, Steel Design, Geotechnical Engineering, Transportation Engineering, Water Resources, Environmental Engineering, and Construction Management.',
    category: 'Exam'
  },
  {
    id: '3',
    question: 'How many practice questions are available?',
    answer: 'We have over 2,000 practice questions covering all NPPE topics. Pro and Premium subscribers get unlimited access to all questions.',
    category: 'Practice'
  },
  {
    id: '4',
    question: 'Can I cancel my subscription anytime?',
    answer: 'Yes, you can cancel your subscription at any time from your account settings. You\'ll continue to have access until the end of your current billing period.',
    category: 'Billing'
  }
];

const mockTickets: Ticket[] = [
  {
    id: 'TKT-001',
    subject: 'Unable to access practice tests',
    status: 'in-progress',
    priority: 'medium',
    createdAt: '2024-01-14',
    lastUpdate: '2024-01-15T10:30:00Z'
  },
  {
    id: 'TKT-002',
    subject: 'Question about billing cycle',
    status: 'resolved',
    priority: 'low',
    createdAt: '2024-01-10',
    lastUpdate: '2024-01-12T14:20:00Z'
  }
];

export default function Support() {
  const [activeTab, setActiveTab] = useState('faq');
  const [searchTerm, setSearchTerm] = useState('');
  const [selectedCategory, setSelectedCategory] = useState('All');
  const [expandedFAQ, setExpandedFAQ] = useState<string | null>(null);
  const [ticketForm, setTicketForm] = useState({
    subject: '',
    category: '',
    priority: 'medium',
    description: ''
  });

  const categories = ['All', 'Account', 'Exam', 'Practice', 'Billing', 'Technical'];

  const filteredFAQs = mockFAQs.filter(faq => {
    const matchesSearch = faq.question.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         faq.answer.toLowerCase().includes(searchTerm.toLowerCase());
    const matchesCategory = selectedCategory === 'All' || faq.category === selectedCategory;
    return matchesSearch && matchesCategory;
  });

  const handleSubmitTicket = () => {
    if (ticketForm.subject && ticketForm.description) {
      console.log('Submitting ticket:', ticketForm);
      setTicketForm({ subject: '', category: '', priority: 'medium', description: '' });
    }
  };

  const getStatusColor = (status: string) => {
    switch (status) {
      case 'open': return 'bg-blue-100 text-blue-800';
      case 'in-progress': return 'bg-yellow-100 text-yellow-800';
      case 'resolved': return 'bg-green-100 text-green-800';
      default: return 'bg-gray-100 text-gray-800';
    }
  };

  const getPriorityColor = (priority: string) => {
    switch (priority) {
      case 'high': return 'bg-red-100 text-red-800';
      case 'medium': return 'bg-yellow-100 text-yellow-800';
      case 'low': return 'bg-green-100 text-green-800';
      default: return 'bg-gray-100 text-gray-800';
    }
  };

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <div className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div className="mb-8">
          <h1 className="text-3xl font-bold text-gray-900 mb-2">Support Center</h1>
          <p className="text-gray-600">Get help with your NPPE Pro account and exam preparation</p>
        </div>

        <div className="bg-white rounded-lg shadow">
          <div className="border-b border-gray-200">
            <nav className="flex space-x-8 px-6">
              {[
                { id: 'faq', label: 'FAQ', icon: 'ri-question-line' },
                { id: 'tickets', label: 'My Tickets', icon: 'ri-ticket-line' },
                { id: 'contact', label: 'Contact Us', icon: 'ri-mail-line' }
              ].map((tab) => (
                <button
                  key={tab.id}
                  onClick={() => setActiveTab(tab.id)}
                  className={`flex items-center space-x-2 py-4 border-b-2 font-medium text-sm transition-colors ${
                    activeTab === tab.id
                      ? 'border-blue-500 text-blue-600'
                      : 'border-transparent text-gray-500 hover:text-gray-700'
                  }`}
                >
                  <i className={tab.icon}></i>
                  <span>{tab.label}</span>
                </button>
              ))}
            </nav>
          </div>

          <div className="p-6">
            {activeTab === 'faq' && (
              <div className="space-y-6">
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-2">Search FAQs</label>
                    <div className="relative">
                      <i className="ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                      <input
                        type="text"
                        value={searchTerm}
                        onChange={(e) => setSearchTerm(e.target.value)}
                        placeholder="Search for answers..."
                        className="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                      />
                    </div>
                  </div>
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-2">Category</label>
                    <select
                      value={selectedCategory}
                      onChange={(e) => setSelectedCategory(e.target.value)}
                      className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8"
                    >
                      {categories.map((category) => (
                        <option key={category} value={category}>{category}</option>
                      ))}
                    </select>
                  </div>
                </div>

                <div className="space-y-4">
                  {filteredFAQs.map((faq) => (
                    <div key={faq.id} className="border border-gray-200 rounded-lg">
                      <button
                        onClick={() => setExpandedFAQ(expandedFAQ === faq.id ? null : faq.id)}
                        className="w-full px-4 py-4 text-left flex items-center justify-between hover:bg-gray-50"
                      >
                        <span className="font-medium text-gray-900">{faq.question}</span>
                        <i className={`ri-arrow-${expandedFAQ === faq.id ? 'up' : 'down'}-s-line text-gray-400`}></i>
                      </button>
                      {expandedFAQ === faq.id && (
                        <div className="px-4 pb-4 border-t border-gray-200">
                          <p className="text-gray-700 mt-3">{faq.answer}</p>
                          <div className="mt-3">
                            <span className="inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">
                              {faq.category}
                            </span>
                          </div>
                        </div>
                      )}
                    </div>
                  ))}
                </div>

                {filteredFAQs.length === 0 && (
                  <div className="text-center py-8">
                    <i className="ri-search-line text-4xl text-gray-400 mb-4"></i>
                    <h3 className="text-lg font-medium text-gray-900 mb-2">No FAQs found</h3>
                    <p className="text-gray-600">Try adjusting your search terms or browse all categories</p>
                  </div>
                )}
              </div>
            )}

            {activeTab === 'tickets' && (
              <div className="space-y-6">
                <div className="flex justify-between items-center">
                  <h3 className="text-lg font-semibold text-gray-900">Support Tickets</h3>
                  <button 
                    onClick={() => setActiveTab('contact')}
                    className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap"
                  >
                    New Ticket
                  </button>
                </div>

                {mockTickets.length > 0 ? (
                  <div className="space-y-4">
                    {mockTickets.map((ticket) => (
                      <div key={ticket.id} className="border border-gray-200 rounded-lg p-4">
                        <div className="flex items-center justify-between mb-2">
                          <h4 className="font-medium text-gray-900">{ticket.subject}</h4>
                          <div className="flex space-x-2">
                            <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(ticket.status)}`}>
                              {ticket.status}
                            </span>
                            <span className={`px-2 py-1 rounded-full text-xs font-medium ${getPriorityColor(ticket.priority)}`}>
                              {ticket.priority}
                            </span>
                          </div>
                        </div>
                        <div className="flex items-center justify-between text-sm text-gray-600">
                          <span>Ticket #{ticket.id}</span>
                          <span>Created: {new Date(ticket.createdAt).toLocaleDateString()}</span>
                          <span>Updated: {new Date(ticket.lastUpdate).toLocaleDateString()}</span>
                        </div>
                      </div>
                    ))}
                  </div>
                ) : (
                  <div className="text-center py-8">
                    <i className="ri-ticket-line text-4xl text-gray-400 mb-4"></i>
                    <h3 className="text-lg font-medium text-gray-900 mb-2">No support tickets</h3>
                    <p className="text-gray-600 mb-4">You haven't submitted any support tickets yet</p>
                    <button 
                      onClick={() => setActiveTab('contact')}
                      className="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap"
                    >
                      Submit Your First Ticket
                    </button>
                  </div>
                )}
              </div>
            )}

            {activeTab === 'contact' && (
              <div className="space-y-6">
                <div>
                  <h3 className="text-lg font-semibold text-gray-900 mb-4">Submit a Support Ticket</h3>
                  <p className="text-gray-600 mb-6">Can't find what you're looking for? Send us a message and we'll get back to you within 24 hours.</p>
                </div>

                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-2">Subject *</label>
                    <input
                      type="text"
                      value={ticketForm.subject}
                      onChange={(e) => setTicketForm({...ticketForm, subject: e.target.value})}
                      placeholder="Brief description of your issue"
                      className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    />
                  </div>
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-2">Category</label>
                    <select
                      value={ticketForm.category}
                      onChange={(e) => setTicketForm({...ticketForm, category: e.target.value})}
                      className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-8"
                    >
                      <option value="">Select a category</option>
                      <option value="account">Account Issues</option>
                      <option value="billing">Billing & Subscription</option>
                      <option value="technical">Technical Problems</option>
                      <option value="content">Content & Questions</option>
                      <option value="other">Other</option>
                    </select>
                  </div>
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">Priority</label>
                  <div className="flex space-x-4">
                    {['low', 'medium', 'high'].map((priority) => (
                      <label key={priority} className="flex items-center">
                        <input
                          type="radio"
                          name="priority"
                          value={priority}
                          checked={ticketForm.priority === priority}
                          onChange={(e) => setTicketForm({...ticketForm, priority: e.target.value})}
                          className="mr-2"
                        />
                        <span className="capitalize">{priority}</span>
                      </label>
                    ))}
                  </div>
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">Description *</label>
                  <textarea
                    value={ticketForm.description}
                    onChange={(e) => setTicketForm({...ticketForm, description: e.target.value})}
                    placeholder="Please provide detailed information about your issue..."
                    rows={6}
                    className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
                  />
                </div>

                <div className="flex justify-end">
                  <button 
                    onClick={handleSubmitTicket}
                    disabled={!ticketForm.subject || !ticketForm.description}
                    className="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors whitespace-nowrap"
                  >
                    Submit Ticket
                  </button>
                </div>

                <div className="mt-8 pt-8 border-t border-gray-200">
                  <h4 className="font-semibold text-gray-900 mb-4">Other Ways to Reach Us</h4>
                  <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div className="text-center p-4 border border-gray-200 rounded-lg">
                      <i className="ri-mail-line text-2xl text-blue-600 mb-2"></i>
                      <h5 className="font-medium text-gray-900">Email</h5>
                      <p className="text-sm text-gray-600">support@nppepro.com</p>
                    </div>
                    <div className="text-center p-4 border border-gray-200 rounded-lg">
                      <i className="ri-chat-3-line text-2xl text-blue-600 mb-2"></i>
                      <h5 className="font-medium text-gray-900">Live Chat</h5>
                      <p className="text-sm text-gray-600">Available 9 AM - 6 PM EST</p>
                    </div>
                    <div className="text-center p-4 border border-gray-200 rounded-lg">
                      <i className="ri-phone-line text-2xl text-blue-600 mb-2"></i>
                      <h5 className="font-medium text-gray-900">Phone</h5>
                      <p className="text-sm text-gray-600">1-800-NPPE-PRO</p>
                    </div>
                  </div>
                </div>
              </div>
            )}
          </div>
        </div>
      </div>
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\terms-of-service\page.tsx
---- CONTENT ----

import { useEffect } from 'react';
import Header from '../../components/feature/Header';
import MobileNavigation from '../../components/feature/MobileNavigation';
import Card from '../../components/base/Card';
import { updateSEO, seoData } from '../../utils/seo';

export default function TermsOfService() {
  useEffect(() => {
    updateSEO(seoData.termsOfService);
  }, []);

  const sections = [
    {
      title: 'Acceptance of Terms',
      content: [
        'By accessing and using NPPE Pro, you accept and agree to be bound by these Terms of Service.',
        'If you do not agree to these terms, you may not access or use our services.',
        'We reserve the right to modify these terms at any time with notice to users.',
        'Continued use of the service after changes constitutes acceptance of new terms.'
      ]
    },
    {
      title: 'Description of Service',
      content: [
        'NPPE Pro provides online educational resources for NPPE exam preparation.',
        'Our services include practice questions, study materials, progress tracking, and community features.',
        'We strive to provide accurate and up-to-date content but make no guarantees about exam outcomes.',
        'Service availability may vary and we reserve the right to modify or discontinue features.'
      ]
    },
    {
      title: 'User Accounts and Registration',
      content: [
        'You must create an account to access most features of our platform.',
        'You are responsible for maintaining the confidentiality of your account credentials.',
        'You must provide accurate and complete information during registration.',
        'You are responsible for all activities that occur under your account.'
      ]
    },
    {
      title: 'Acceptable Use Policy',
      content: [
        'You may use our service only for lawful purposes and in accordance with these terms.',
        'You may not share your account credentials or allow others to use your account.',
        'You may not attempt to reverse engineer, hack, or compromise our platform security.',
        'You may not use our content for commercial purposes without written permission.'
      ]
    },
    {
      title: 'Intellectual Property Rights',
      content: [
        'All content on NPPE Pro is protected by copyright and other intellectual property laws.',
        'You may not copy, distribute, or create derivative works from our content.',
        'You retain ownership of any content you submit to our platform.',
        'By submitting content, you grant us a license to use it in connection with our services.'
      ]
    },
    {
      title: 'Payment and Subscription Terms',
      content: [
        'Subscription fees are charged in advance and are non-refundable except as required by law.',
        'We offer a 30-day money-back guarantee for new subscribers.',
        'Prices may change with 30 days notice to existing subscribers.',
        'Failure to pay subscription fees may result in account suspension or termination.'
      ]
    },
    {
      title: 'Privacy and Data Protection',
      content: [
        'Your privacy is important to us and is governed by our Privacy Policy.',
        'We collect and use your information as described in our Privacy Policy.',
        'You have rights regarding your personal data as outlined in our Privacy Policy.',
        'We implement appropriate security measures to protect your information.'
      ]
    },
    {
      title: 'Disclaimers and Limitations',
      content: [
        'Our service is provided "as is" without warranties of any kind.',
        'We do not guarantee that our service will be uninterrupted or error-free.',
        'We are not responsible for any damages arising from your use of our service.',
        'Our liability is limited to the amount you paid for our services in the past 12 months.'
      ]
    },
    {
      title: 'Termination',
      content: [
        'You may terminate your account at any time through your account settings.',
        'We may terminate or suspend your account for violation of these terms.',
        'Upon termination, your right to use our service ceases immediately.',
        'We may retain certain information as required by law or for legitimate business purposes.'
      ]
    },
    {
      title: 'Governing Law',
      content: [
        'These terms are governed by the laws of Ontario, Canada.',
        'Any disputes will be resolved in the courts of Ontario, Canada.',
        'If any provision of these terms is invalid, the remaining provisions remain in effect.',
        'These terms constitute the entire agreement between you and NPPE Pro.'
      ]
    }
  ];

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <main className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-24">
        {/* Header */}
        <div className="text-center mb-12">
          <h1 className="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
            Terms of Service
          </h1>
          <p className="text-lg text-gray-600">
            Last updated: January 15, 2024
          </p>
        </div>

        {/* Introduction */}
        <Card className="mb-8">
          <div className="prose max-w-none">
            <p className="text-lg text-gray-700 leading-relaxed">
              Welcome to NPPE Pro. These Terms of Service ("Terms") govern your use of our platform and services. 
              Please read these terms carefully before using our service.
            </p>
            <p className="text-gray-700 mt-4">
              By accessing or using NPPE Pro, you agree to be bound by these Terms and our Privacy Policy. 
              If you disagree with any part of these terms, then you may not access our service.
            </p>
          </div>
        </Card>

        {/* Terms Sections */}
        <div className="space-y-8">
          {sections.map((section, index) => (
            <Card key={index}>
              <h2 className="text-2xl font-bold text-gray-900 mb-4">
                {index + 1}. {section.title}
              </h2>
              <ul className="space-y-3">
                {section.content.map((item, itemIndex) => (
                  <li key={itemIndex} className="flex items-start">
                    <i className="ri-check-line text-blue-600 text-lg mr-3 mt-0.5 flex-shrink-0"></i>
                    <span className="text-gray-700">{item}</span>
                  </li>
                ))}
              </ul>
            </Card>
          ))}
        </div>

        {/* Important Notice */}
        <Card className="mt-12 border-l-4 border-yellow-400 bg-yellow-50">
          <div className="flex items-start space-x-4">
            <i className="ri-alert-line text-yellow-600 text-2xl mt-1"></i>
            <div>
              <h3 className="font-semibold text-gray-900 mb-2">Important Notice</h3>
              <p className="text-gray-700">
                NPPE Pro is an educational platform designed to help you prepare for the NPPE exam. 
                While we strive to provide high-quality content and resources, we cannot guarantee 
                exam success. Your results depend on your individual effort, preparation, and understanding 
                of the material.
              </p>
            </div>
          </div>
        </Card>

        {/* Contact Information */}
        <Card className="mt-8 bg-gradient-to-r from-blue-50 to-blue-100">
          <div className="text-center">
            <h2 className="text-2xl font-bold text-gray-900 mb-4">
              Questions About These Terms?
            </h2>
            <p className="text-gray-700 mb-6">
              If you have any questions about these Terms of Service, please contact us.
            </p>
            <div className="grid md:grid-cols-3 gap-6">
              <div className="text-center">
                <i className="ri-mail-line text-2xl text-blue-600 mb-2 block"></i>
                <h3 className="font-semibold text-gray-900 mb-1">Email</h3>
                <p className="text-gray-600">legal@nppepro.com</p>
              </div>
              <div className="text-center">
                <i className="ri-phone-line text-2xl text-blue-600 mb-2 block"></i>
                <h3 className="font-semibold text-gray-900 mb-1">Phone</h3>
                <p className="text-gray-600">1-800-NPPE-PRO</p>
              </div>
              <div className="text-center">
                <i className="ri-map-pin-line text-2xl text-blue-600 mb-2 block"></i>
                <h3 className="font-semibold text-gray-900 mb-1">Address</h3>
                <p className="text-gray-600">
                  123 Engineering Way<br />
                  Toronto, ON M5V 3A8
                </p>
              </div>
            </div>
          </div>
        </Card>
      </main>

      <MobileNavigation />
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\test\results\page.tsx
---- CONTENT ----

import { useState, useEffect } from 'react';
import { useParams, useNavigate, useSearchParams } from 'react-router-dom';
import Header from '../../../components/feature/Header';
import Button from '../../../components/base/Button';
import Card from '../../../components/base/Card';
import LoadingSpinner from '../../../components/effects/LoadingSpinner';
import CircularProgress from '../../../components/base/CircularProgress';
import { testService } from '../../../api';
import type { TestResultResponse } from '../../../api/types';

interface TestResult {
  id: string;
  title: string;
  score: number;
  totalQuestions: number;
  correctAnswers: number;
  timeSpent: number;
  completedAt: Date;
  topicBreakdown: {
    topic: string;
    correct: number;
    total: number;
    percentage: number;
  }[];
  weakAreas: string[];
  recommendations: string[];
}

export default function TestResults() {
  const { testId } = useParams();
  const [searchParams] = useSearchParams();
  const actualTestId = testId || searchParams.get('id') || '';
  const navigate = useNavigate();
  const [result, setResult] = useState<TestResult | null>(null);
  const [apiResult, setApiResult] = useState<TestResultResponse | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');

  useEffect(() => {
    const fetchResults = async () => {
      if (!actualTestId) {
        setError('No test ID provided');
        setLoading(false);
        return;
      }

      try {
        const data = await testService.completeTest(actualTestId);
        setApiResult(data);
        
        const mappedResult: TestResult = {
          id: data.test_id,
          title: 'Practice Test',
          score: data.score,
          totalQuestions: data.total_questions,
          correctAnswers: data.correct_answers,
          timeSpent: Math.round(data.time_spent_seconds / 60),
          completedAt: new Date(data.completed_at),
          topicBreakdown: data.performance_by_topic.map(perf => ({
            topic: perf.topic_name,
            correct: perf.correct,
            total: perf.total,
            percentage: perf.percentage
          })),
          weakAreas: data.weak_topics,
          recommendations: data.weak_topics.map(topic => `Focus more on ${topic}`)
        };
        setResult(mappedResult);
      } catch (err) {
        setError(err instanceof Error ? err.message : 'Failed to load results');
      } finally {
        setLoading(false);
      }
    };

    fetchResults();
  }, [actualTestId]);

  const getScoreColor = (score: number) => {
    if (score >= 80) return 'text-green-600';
    if (score >= 70) return 'text-yellow-600';
    return 'text-red-600';
  };

  const getScoreBgColor = (score: number) => {
    if (score >= 80) return 'bg-green-100';
    if (score >= 70) return 'bg-yellow-100';
    return 'bg-red-100';
  };

  const formatTime = (minutes: number) => {
    const hours = Math.floor(minutes / 60);
    const mins = minutes % 60;
    return hours > 0 ? `${hours}h ${mins}m` : `${mins}m`;
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-50">
        <Header />
        <div className="flex items-center justify-center h-96">
          <LoadingSpinner size="lg" variant="engineering" />
        </div>
      </div>
    );
  }

  if (!result) {
    return (
      <div className="min-h-screen bg-gray-50">
        <Header />
        <div className="max-w-4xl mx-auto px-4 py-8">
          <Card className="text-center py-12">
            <h2 className="text-2xl font-bold text-gray-900 mb-4">Results Not Found</h2>
            <p className="text-gray-600 mb-6">The test results you're looking for don't exist.</p>
            <Button onClick={() => navigate('/practice-tests')}>
              Back to Practice Tests
            </Button>
          </Card>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <div className="max-w-6xl mx-auto px-4 py-8">
        {error && (
          <div className="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg">
            <div className="flex items-center">
              <i className="ri-error-warning-line text-red-600 text-xl mr-3"></i>
              <p className="text-red-800">{error}</p>
            </div>
          </div>
        )}
        {/* Header */}
        <div className="text-center mb-8">
          <h1 className="text-3xl font-bold text-gray-900 mb-2">Test Results</h1>
          <p className="text-gray-600">{result.title}</p>
          <p className="text-sm text-gray-500">
            Completed on {result.completedAt.toLocaleDateString()} at {result.completedAt.toLocaleTimeString()}
          </p>
        </div>

        {/* Score Overview */}
        <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
          <Card className="text-center">
            <div className="p-6">
              <div className="flex justify-center mb-4">
                <CircularProgress
                  value={result.score}
                  size={80}
                  strokeWidth={8}
                />
              </div>
              <h3 className="text-lg font-semibold text-gray-900 mb-1">Overall Score</h3>
              <p className={`text-2xl font-bold ${getScoreColor(result.score)}`}>
                {result.score}%
              </p>
            </div>
          </Card>

          <Card className="text-center">
            <div className="p-6">
              <div className={`w-16 h-16 ${getScoreBgColor(result.score)} rounded-full flex items-center justify-center mx-auto mb-4`}>
                <i className={`ri-check-line text-2xl ${getScoreColor(result.score)}`}></i>
              </div>
              <h3 className="text-lg font-semibold text-gray-900 mb-1">Correct Answers</h3>
              <p className="text-2xl font-bold text-gray-900">
                {result.correctAnswers}/{result.totalQuestions}
              </p>
            </div>
          </Card>

          <Card className="text-center">
            <div className="p-6">
              <div className="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i className="ri-time-line text-2xl text-blue-600"></i>
              </div>
              <h3 className="text-lg font-semibold text-gray-900 mb-1">Time Spent</h3>
              <p className="text-2xl font-bold text-gray-900">
                {formatTime(result.timeSpent)}
              </p>
            </div>
          </Card>

          <Card className="text-center">
            <div className="p-6">
              <div className="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i className="ri-trophy-line text-2xl text-purple-600"></i>
              </div>
              <h3 className="text-lg font-semibold text-gray-900 mb-1">Performance</h3>
              <p className={`text-lg font-bold ${getScoreColor(result.score)}`}>
                {result.score >= 80 ? 'Excellent' : result.score >= 70 ? 'Good' : 'Needs Work'}
              </p>
            </div>
          </Card>
        </div>

        <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
          {/* Topic Breakdown */}
          <Card>
            <div className="p-6">
              <h3 className="text-xl font-semibold text-gray-900 mb-6 flex items-center space-x-2">
                <i className="ri-bar-chart-line text-blue-600"></i>
                <span>Topic Breakdown</span>
              </h3>
              
              <div className="space-y-4">
                {result.topicBreakdown.map((topic, index) => (
                  <div key={index} className="space-y-2">
                    <div className="flex justify-between items-center">
                      <span className="font-medium text-gray-900">{topic.topic}</span>
                      <span className="text-sm text-gray-600">
                        {topic.correct}/{topic.total} ({topic.percentage}%)
                      </span>
                    </div>
                    <div className="w-full bg-gray-200 rounded-full h-2">
                      <div
                        className={`h-2 rounded-full ${
                          topic.percentage >= 80 ? 'bg-green-500' :
                          topic.percentage >= 70 ? 'bg-yellow-500' :
                          'bg-red-500'
                        }`}
                        style={{ width: `${topic.percentage}%` }}
                      ></div>
                    </div>
                  </div>
                ))}
              </div>
            </div>
          </Card>

          {/* Recommendations */}
          <Card>
            <div className="p-6">
              <h3 className="text-xl font-semibold text-gray-900 mb-6 flex items-center space-x-2">
                <i className="ri-lightbulb-line text-yellow-500"></i>
                <span>Recommendations</span>
              </h3>
              
              {/* Weak Areas */}
              <div className="mb-6">
                <h4 className="font-medium text-gray-900 mb-3">Areas to Focus On:</h4>
                <div className="flex flex-wrap gap-2">
                  {result.weakAreas.map((area, index) => (
                    <span
                      key={index}
                      className="px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm"
                    >
                      {area}
                    </span>
                  ))}
                </div>
              </div>

              {/* Study Recommendations */}
              <div>
                <h4 className="font-medium text-gray-900 mb-3">Study Suggestions:</h4>
                <ul className="space-y-2">
                  {result.recommendations.map((recommendation, index) => (
                    <li key={index} className="flex items-start space-x-2">
                      <i className="ri-arrow-right-line text-blue-600 mt-1 flex-shrink-0"></i>
                      <span className="text-gray-700">{recommendation}</span>
                    </li>
                  ))}
                </ul>
              </div>
            </div>
          </Card>
        </div>

        {/* Action Buttons */}
        <div className="flex flex-col sm:flex-row gap-4 justify-center mt-8">
          <Button
            onClick={() => navigate(`/test/${result.id}/review`)}
            className="flex items-center space-x-2"
          >
            <i className="ri-eye-line"></i>
            <span>Review Answers</span>
          </Button>
          
          <Button
            variant="secondary"
            onClick={() => navigate('/practice-test/new')}
            className="flex items-center space-x-2"
          >
            <i className="ri-refresh-line"></i>
            <span>Take Another Test</span>
          </Button>
          
          <Button
            variant="secondary"
            onClick={() => navigate('/practice')}
            className="flex items-center space-x-2"
          >
            <i className="ri-book-open-line"></i>
            <span>Practice Questions</span>
          </Button>
          
          <Button
            variant="secondary"
            onClick={() => navigate('/dashboard')}
            className="flex items-center space-x-2"
          >
            <i className="ri-dashboard-line"></i>
            <span>Back to Dashboard</span>
          </Button>
        </div>
      </div>
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\test\review\page.tsx
---- CONTENT ----

import { useState, useEffect } from 'react';
import { useParams, useNavigate, useSearchParams } from 'react-router-dom';
import Header from '../../../components/feature/Header';
import Button from '../../../components/base/Button';
import Card from '../../../components/base/Card';
import LoadingSpinner from '../../../components/effects/LoadingSpinner';
import { testService } from '../../../api';
import type { PracticeTest } from '../../../api/types';

interface ReviewQuestion {
  id: string;
  question: string;
  options: string[];
  correctAnswer: number;
  userAnswer?: number;
  explanation: string;
  topic: string;
  difficulty: 'Easy' | 'Medium' | 'Hard';
  isCorrect: boolean;
}

interface TestReview {
  id: string;
  title: string;
  questions: ReviewQuestion[];
  score: number;
  completedAt: Date;
}

export default function TestReview() {
  const { testId } = useParams();
  const [searchParams] = useSearchParams();
  const actualTestId = testId || searchParams.get('id') || '';
  const navigate = useNavigate();
  const [review, setReview] = useState<TestReview | null>(null);
  const [apiTest, setApiTest] = useState<PracticeTest | null>(null);
  const [loading, setLoading] = useState(true);
  const [expandedQuestions, setExpandedQuestions] = useState<Set<string>>(new Set());
  const [filterType, setFilterType] = useState<'all' | 'correct' | 'incorrect'>('all');
  const [error, setError] = useState('');

  useEffect(() => {
    const fetchReview = async () => {
      if (!actualTestId) {
        setError('No test ID provided');
        setLoading(false);
        return;
      }

      try {
        const data = await testService.reviewTest(actualTestId);
        setApiTest(data);
        
        const mappedReview: TestReview = {
          id: data.id,
          title: `Practice Test - ${data.test_type}`,
          score: data.score,
          completedAt: new Date(data.completed_at || data.started_at),
          questions: (data.questions || []).map(q => {
            const difficulty = q.question?.difficulty || 'medium';
            return {
              id: q.id,
              question: q.question?.content || '',
              options: q.question?.options.map(opt => opt.content) || [],
              correctAnswer: q.question?.options.findIndex(opt => opt.is_correct) || 0,
              userAnswer: q.answer_id ? q.question?.options.findIndex(opt => opt.id === q.answer_id) : undefined,
              explanation: q.question?.explanation || '',
              topic: q.question?.topic?.name || 'Unknown',
              difficulty: (difficulty.charAt(0).toUpperCase() + difficulty.slice(1)) as 'Easy' | 'Medium' | 'Hard',
              isCorrect: q.is_correct || false
            };
          })
        };
        setReview(mappedReview);
      } catch (err) {
        setError(err instanceof Error ? err.message : 'Failed to load review');
      } finally {
        setLoading(false);
      }
    };

    fetchReview();
  }, [actualTestId]);

  const toggleQuestionExpansion = (questionId: string) => {
    const newExpanded = new Set(expandedQuestions);
    if (newExpanded.has(questionId)) {
      newExpanded.delete(questionId);
    } else {
      newExpanded.add(questionId);
    }
    setExpandedQuestions(newExpanded);
  };

  const expandAll = () => {
    if (!review) return;
    setExpandedQuestions(new Set(review.questions.map(q => q.id)));
  };

  const collapseAll = () => {
    setExpandedQuestions(new Set());
  };

  const getFilteredQuestions = () => {
    if (!review) return [];
    switch (filterType) {
      case 'correct':
        return review.questions.filter(q => q.isCorrect);
      case 'incorrect':
        return review.questions.filter(q => !q.isCorrect);
      default:
        return review.questions;
    }
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-50">
        <Header />
        <div className="flex items-center justify-center h-96">
          <LoadingSpinner size="lg" variant="engineering" />
        </div>
      </div>
    );
  }

  if (!review) {
    return (
      <div className="min-h-screen bg-gray-50">
        <Header />
        <div className="max-w-4xl mx-auto px-4 py-8">
          <Card className="text-center py-12">
            <h2 className="text-2xl font-bold text-gray-900 mb-4">Review Not Found</h2>
            <p className="text-gray-600 mb-6">The test review you're looking for doesn't exist.</p>
            <Button onClick={() => navigate('/practice-tests')}>
              Back to Practice Tests
            </Button>
          </Card>
        </div>
      </div>
    );
  }

  const filteredQuestions = getFilteredQuestions();
  const correctCount = review.questions.filter(q => q.isCorrect).length;
  const incorrectCount = review.questions.length - correctCount;

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <div className="max-w-4xl mx-auto px-4 py-8">
        {error && (
          <div className="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg">
            <div className="flex items-center">
              <i className="ri-error-warning-line text-red-600 text-xl mr-3"></i>
              <p className="text-red-800">{error}</p>
            </div>
          </div>
        )}
        {/* Header */}
        <div className="mb-8">
          <div className="flex items-center justify-between mb-4">
            <div>
              <h1 className="text-3xl font-bold text-gray-900 mb-2">Test Review</h1>
              <p className="text-gray-600">{review.title}</p>
              <p className="text-sm text-gray-500">
                Score: {review.score}% • Completed on {review.completedAt.toLocaleDateString()}
              </p>
            </div>
            <Button
              variant="secondary"
              onClick={() => navigate(`/test/results?id=${review.id}`)}
              className="flex items-center space-x-2"
            >
              <i className="ri-arrow-left-line"></i>
              <span>Back to Results</span>
            </Button>
          </div>

          {/* Summary Stats */}
          <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
            <Card className="text-center">
              <div className="p-4">
                <div className="text-2xl font-bold text-gray-900">{review.questions.length}</div>
                <div className="text-sm text-gray-600">Total Questions</div>
              </div>
            </Card>
            <Card className="text-center">
              <div className="p-4">
                <div className="text-2xl font-bold text-green-600">{correctCount}</div>
                <div className="text-sm text-gray-600">Correct</div>
              </div>
            </Card>
            <Card className="text-center">
              <div className="p-4">
                <div className="text-2xl font-bold text-red-600">{incorrectCount}</div>
                <div className="text-sm text-gray-600">Incorrect</div>
              </div>
            </Card>
          </div>

          {/* Controls */}
          <div className="flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center">
            <div className="flex flex-wrap gap-2">
              <Button
                variant={filterType === 'all' ? 'primary' : 'secondary'}
                onClick={() => setFilterType('all')}
                size="sm"
              >
                All ({review.questions.length})
              </Button>
              <Button
                variant={filterType === 'correct' ? 'primary' : 'secondary'}
                onClick={() => setFilterType('correct')}
                size="sm"
                className={filterType === 'correct' ? '' : 'text-green-600'}
              >
                Correct ({correctCount})
              </Button>
              <Button
                variant={filterType === 'incorrect' ? 'primary' : 'secondary'}
                onClick={() => setFilterType('incorrect')}
                size="sm"
                className={filterType === 'incorrect' ? '' : 'text-red-600'}
              >
                Incorrect ({incorrectCount})
              </Button>
            </div>

            <div className="flex gap-2">
              <Button variant="secondary" onClick={expandAll} size="sm">
                Expand All
              </Button>
              <Button variant="secondary" onClick={collapseAll} size="sm">
                Collapse All
              </Button>
            </div>
          </div>
        </div>

        {/* Questions */}
        <div className="space-y-4">
          {filteredQuestions.map((question, index) => (
            <Card key={question.id}>
              <div className="p-6">
                {/* Question Header */}
                <div
                  className="flex items-center justify-between cursor-pointer"
                  onClick={() => toggleQuestionExpansion(question.id)}
                >
                  <div className="flex items-center space-x-4">
                    <div className={`w-8 h-8 rounded-full flex items-center justify-center ${
                      question.isCorrect ? 'bg-green-100 text-green-600' : 'bg-red-100 text-red-600'
                    }`}>
                      <i className={`${question.isCorrect ? 'ri-check-line' : 'ri-close-line'} text-sm`}></i>
                    </div>
                    <div>
                      <h3 className="font-semibold text-gray-900">Question {index + 1}</h3>
                      <div className="flex items-center space-x-2 mt-1">
                        <span className="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs">
                          {question.topic}
                        </span>
                        <span className={`px-2 py-1 rounded text-xs ${
                          question.difficulty === 'Easy' ? 'bg-green-100 text-green-800' :
                          question.difficulty === 'Medium' ? 'bg-yellow-100 text-yellow-800' :
                          'bg-red-100 text-red-800'
                        }`}>
                          {question.difficulty}
                        </span>
                      </div>
                    </div>
                  </div>
                  
                  <i className={`ri-arrow-${expandedQuestions.has(question.id) ? 'up' : 'down'}-s-line text-gray-400`}></i>
                </div>

                {/* Question Content */}
                {expandedQuestions.has(question.id) && (
                  <div className="mt-6 space-y-6">
                    {/* Question Text */}
                    <div>
                      <p className="text-lg text-gray-800 leading-relaxed">
                        {question.question}
                      </p>
                    </div>

                    {/* Answer Options */}
                    <div className="space-y-3">
                      {question.options.map((option, optionIndex) => (
                        <div
                          key={optionIndex}
                          className={`p-3 border-2 rounded-lg ${
                            optionIndex === question.correctAnswer
                              ? 'border-green-500 bg-green-50'
                              : question.userAnswer === optionIndex && optionIndex !== question.correctAnswer
                                ? 'border-red-500 bg-red-50'
                                : 'border-gray-200'
                          }`}
                        >
                          <div className="flex items-center space-x-3">
                            <div className={`w-6 h-6 rounded-full border-2 flex items-center justify-center ${
                              optionIndex === question.correctAnswer
                                ? 'border-green-500 bg-green-500'
                                : question.userAnswer === optionIndex && optionIndex !== question.correctAnswer
                                  ? 'border-red-500 bg-red-500'
                                  : 'border-gray-300'
                            }`}>
                              {optionIndex === question.correctAnswer && (
                                <i className="ri-check-line text-white text-sm"></i>
                              )}
                              {question.userAnswer === optionIndex && optionIndex !== question.correctAnswer && (
                                <i className="ri-close-line text-white text-sm"></i>
                              )}
                            </div>
                            <span className="text-gray-800">
                              {String.fromCharCode(65 + optionIndex)}. {option}
                            </span>
                            {optionIndex === question.correctAnswer && (
                              <span className="text-green-600 text-sm font-medium">Correct Answer</span>
                            )}
                            {question.userAnswer === optionIndex && optionIndex !== question.correctAnswer && (
                              <span className="text-red-600 text-sm font-medium">Your Answer</span>
                            )}
                          </div>
                        </div>
                      ))}
                    </div>

                    {/* Explanation */}
                    <div className="bg-blue-50 border border-blue-200 rounded-lg p-4">
                      <h4 className="font-semibold text-blue-900 mb-2 flex items-center space-x-2">
                        <i className="ri-lightbulb-line"></i>
                        <span>Explanation</span>
                      </h4>
                      <p className="text-blue-800 leading-relaxed">
                        {question.explanation}
                      </p>
                    </div>
                  </div>
                )}
              </div>
            </Card>
          ))}
        </div>

        {/* Action Buttons */}
        <div className="flex flex-col sm:flex-row gap-4 justify-center mt-8">
          <Button
            onClick={() => navigate('/practice-test/new')}
            className="flex items-center space-x-2"
          >
            <i className="ri-refresh-line"></i>
            <span>Take Another Test</span>
          </Button>
          
          <Button
            variant="secondary"
            onClick={() => navigate('/practice')}
            className="flex items-center space-x-2"
          >
            <i className="ri-book-open-line"></i>
            <span>Practice Questions</span>
          </Button>
          
          <Button
            variant="secondary"
            onClick={() => navigate('/dashboard')}
            className="flex items-center space-x-2"
          >
            <i className="ri-dashboard-line"></i>
            <span>Back to Dashboard</span>
          </Button>
        </div>
      </div>
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\topics\detail\page.tsx
---- CONTENT ----

import { useState, useEffect } from 'react';
import { useParams, useNavigate } from 'react-router-dom';
import Header from '../../../components/feature/Header';
import Button from '../../../components/base/Button';
import Card from '../../../components/base/Card';
import LoadingSpinner from '../../../components/effects/LoadingSpinner';
import CircularProgress from '../../../components/base/CircularProgress';

interface SubTopic {
  id: string;
  name: string;
  mastery: number;
  questionsAnswered: number;
  correctAnswers: number;
  lastPracticed?: Date;
}

interface TopicDetail {
  id: string;
  name: string;
  description: string;
  mastery: number;
  totalQuestions: number;
  questionsAnswered: number;
  correctAnswers: number;
  averageTime: number;
  lastPracticed?: Date;
  subTopics: SubTopic[];
  recentPerformance: {
    date: Date;
    score: number;
    questionsAnswered: number;
  }[];
  recommendations: string[];
}

export default function TopicDetail() {
  const { topicId } = useParams();
  const navigate = useNavigate();
  const [topic, setTopic] = useState<TopicDetail | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    // Simulate loading topic data
    setTimeout(() => {
      const mockTopic: TopicDetail = {
        id: topicId || '1',
        name: 'Structural Engineering',
        description: 'Comprehensive coverage of structural analysis, design principles, material properties, and code requirements for various structural systems.',
        mastery: 78,
        totalQuestions: 150,
        questionsAnswered: 89,
        correctAnswers: 69,
        averageTime: 95, // seconds
        lastPracticed: new Date('2024-01-15'),
        subTopics: [
          {
            id: '1',
            name: 'Beam Design',
            mastery: 85,
            questionsAnswered: 25,
            correctAnswers: 21,
            lastPracticed: new Date('2024-01-15')
          },
          {
            id: '2',
            name: 'Column Design',
            mastery: 72,
            questionsAnswered: 18,
            correctAnswers: 13,
            lastPracticed: new Date('2024-01-12')
          },
          {
            id: '3',
            name: 'Connection Design',
            mastery: 68,
            questionsAnswered: 15,
            correctAnswers: 10,
            lastPracticed: new Date('2024-01-10')
          },
          {
            id: '4',
            name: 'Load Analysis',
            mastery: 90,
            questionsAnswered: 20,
            correctAnswers: 18,
            lastPracticed: new Date('2024-01-14')
          },
          {
            id: '5',
            name: 'Material Properties',
            mastery: 75,
            questionsAnswered: 11,
            correctAnswers: 8,
            lastPracticed: new Date('2024-01-08')
          }
        ],
        recentPerformance: [
          { date: new Date('2024-01-15'), score: 85, questionsAnswered: 10 },
          { date: new Date('2024-01-12'), score: 70, questionsAnswered: 8 },
          { date: new Date('2024-01-10'), score: 75, questionsAnswered: 12 },
          { date: new Date('2024-01-08'), score: 80, questionsAnswered: 15 },
          { date: new Date('2024-01-05'), score: 65, questionsAnswered: 9 }
        ],
        recommendations: [
          'Focus on connection design - your weakest area',
          'Practice more column design problems',
          'Review material properties for different steel grades',
          'Work on time management - average time is above target'
        ]
      };
      setTopic(mockTopic);
      setLoading(false);
    }, 1000);
  }, [topicId]);

  const getMasteryColor = (mastery: number) => {
    if (mastery >= 80) return 'text-green-600';
    if (mastery >= 60) return 'text-yellow-600';
    return 'text-red-600';
  };

  const getMasteryBgColor = (mastery: number) => {
    if (mastery >= 80) return 'bg-green-100';
    if (mastery >= 60) return 'bg-yellow-100';
    return 'bg-red-100';
  };

  const formatTime = (seconds: number) => {
    const minutes = Math.floor(seconds / 60);
    const secs = seconds % 60;
    return `${minutes}:${secs.toString().padStart(2, '0')}`;
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-50">
        <Header />
        <div className="flex items-center justify-center h-96">
          <LoadingSpinner size="lg" variant="engineering" />
        </div>
      </div>
    );
  }

  if (!topic) {
    return (
      <div className="min-h-screen bg-gray-50">
        <Header />
        <div className="max-w-4xl mx-auto px-4 py-8">
          <Card className="text-center py-12">
            <h2 className="text-2xl font-bold text-gray-900 mb-4">Topic Not Found</h2>
            <p className="text-gray-600 mb-6">The topic you're looking for doesn't exist.</p>
            <Button onClick={() => navigate('/topics')}>
              Back to Topics
            </Button>
          </Card>
        </div>
      </div>
    );
  }

  const accuracyPercentage = topic.questionsAnswered > 0 
    ? Math.round((topic.correctAnswers / topic.questionsAnswered) * 100) 
    : 0;

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <div className="max-w-6xl mx-auto px-4 py-8">
        {/* Header */}
        <div className="mb-8">
          <div className="flex items-center justify-between mb-4">
            <Button
              variant="outline"
              onClick={() => navigate('/topics')}
              className="flex items-center space-x-2"
            >
              <i className="ri-arrow-left-line"></i>
              <span>Back to Topics</span>
            </Button>
            
            <div className="flex space-x-3">
              <Button
                onClick={() => navigate(`/practice?topic=${topic.id}`)}
                className="flex items-center space-x-2"
              >
                <i className="ri-play-line"></i>
                <span>Practice Now</span>
              </Button>
              <Button
                variant="outline"
                onClick={() => navigate(`/practice-test/new?topic=${topic.id}`)}
                className="flex items-center space-x-2"
              >
                <i className="ri-file-list-line"></i>
                <span>Take Test</span>
              </Button>
            </div>
          </div>
          
          <h1 className="text-3xl font-bold text-gray-900 mb-2">{topic.name}</h1>
          <p className="text-gray-600">{topic.description}</p>
        </div>

        {/* Overview Stats */}
        <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
          <Card className="text-center">
            <div className="p-6">
              <div className="flex justify-center mb-4">
                <CircularProgress 
                  value={topic.mastery} 
                  size={80}
                  strokeWidth={8}
                  className={getMasteryColor(topic.mastery)}
                />
              </div>
              <h3 className="text-lg font-semibold text-gray-900 mb-1">Mastery Level</h3>
              <p className={`text-xl font-bold ${getMasteryColor(topic.mastery)}`}>
                {topic.mastery}%
              </p>
            </div>
          </Card>

          <Card className="text-center">
            <div className="p-6">
              <div className="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i className="ri-question-line text-2xl text-blue-600"></i>
              </div>
              <h3 className="text-lg font-semibold text-gray-900 mb-1">Questions Answered</h3>
              <p className="text-xl font-bold text-gray-900">
                {topic.questionsAnswered}/{topic.totalQuestions}
              </p>
            </div>
          </Card>

          <Card className="text-center">
            <div className="p-6">
              <div className={`w-16 h-16 ${getMasteryBgColor(accuracyPercentage)} rounded-full flex items-center justify-center mx-auto mb-4`}>
                <i className={`ri-target-line text-2xl ${getMasteryColor(accuracyPercentage)}`}></i>
              </div>
              <h3 className="text-lg font-semibold text-gray-900 mb-1">Accuracy</h3>
              <p className={`text-xl font-bold ${getMasteryColor(accuracyPercentage)}`}>
                {accuracyPercentage}%
              </p>
            </div>
          </Card>

          <Card className="text-center">
            <div className="p-6">
              <div className="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i className="ri-time-line text-2xl text-purple-600"></i>
              </div>
              <h3 className="text-lg font-semibold text-gray-900 mb-1">Avg. Time</h3>
              <p className="text-xl font-bold text-gray-900">
                {formatTime(topic.averageTime)}
              </p>
            </div>
          </Card>
        </div>

        <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
          {/* Sub-Topics */}
          <Card>
            <div className="p-6">
              <h3 className="text-xl font-semibold text-gray-900 mb-6 flex items-center space-x-2">
                <i className="ri-list-check text-blue-600"></i>
                <span>Sub-Topics</span>
              </h3>
              
              <div className="space-y-4">
                {topic.subTopics.map((subTopic) => (
                  <div key={subTopic.id} className="border border-gray-200 rounded-lg p-4">
                    <div className="flex items-center justify-between mb-3">
                      <h4 className="font-medium text-gray-900">{subTopic.name}</h4>
                      <span className={`text-sm font-bold ${getMasteryColor(subTopic.mastery)}`}>
                        {subTopic.mastery}%
                      </span>
                    </div>
                    
                    <div className="w-full bg-gray-200 rounded-full h-2 mb-3">
                      <div
                        className={`h-2 rounded-full ${
                          subTopic.mastery >= 80 ? 'bg-green-500' :
                          subTopic.mastery >= 60 ? 'bg-yellow-500' :
                          'bg-red-500'
                        }`}
                        style={{ width: `${subTopic.mastery}%` }}
                      ></div>
                    </div>
                    
                    <div className="flex justify-between text-sm text-gray-600">
                      <span>{subTopic.correctAnswers}/{subTopic.questionsAnswered} correct</span>
                      {subTopic.lastPracticed && (
                        <span>Last: {subTopic.lastPracticed.toLocaleDateString()}</span>
                      )}
                    </div>
                  </div>
                ))}
              </div>
            </div>
          </Card>

          {/* Recent Performance */}
          <Card>
            <div className="p-6">
              <h3 className="text-xl font-semibold text-gray-900 mb-6 flex items-center space-x-2">
                <i className="ri-line-chart-line text-green-600"></i>
                <span>Recent Performance</span>
              </h3>
              
              <div className="space-y-3 mb-6">
                {topic.recentPerformance.map((performance, index) => (
                  <div key={index} className="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                    <div className="flex items-center space-x-3">
                      <div className={`w-3 h-3 rounded-full ${
                        performance.score >= 80 ? 'bg-green-500' :
                        performance.score >= 60 ? 'bg-yellow-500' :
                        'bg-red-500'
                      }`}></div>
                      <span className="text-sm text-gray-600">
                        {performance.date.toLocaleDateString()}
                      </span>
                    </div>
                    <div className="text-right">
                      <div className={`text-sm font-bold ${getMasteryColor(performance.score)}`}>
                        {performance.score}%
                      </div>
                      <div className="text-xs text-gray-500">
                        {performance.questionsAnswered} questions
                      </div>
                    </div>
                  </div>
                ))}
              </div>

              {/* Recommendations */}
              <div>
                <h4 className="font-medium text-gray-900 mb-3 flex items-center space-x-2">
                  <i className="ri-lightbulb-line text-yellow-500"></i>
                  <span>Recommendations</span>
                </h4>
                <ul className="space-y-2">
                  {topic.recommendations.map((recommendation, index) => (
                    <li key={index} className="flex items-start space-x-2">
                      <i className="ri-arrow-right-line text-blue-600 mt-1 flex-shrink-0"></i>
                      <span className="text-sm text-gray-700">{recommendation}</span>
                    </li>
                  ))}
                </ul>
              </div>
            </div>
          </Card>
        </div>

        {/* Action Buttons */}
        <div className="flex flex-col sm:flex-row gap-4 justify-center mt-8">
          <Button
            onClick={() => navigate(`/practice?topic=${topic.id}`)}
            className="flex items-center space-x-2"
          >
            <i className="ri-play-line"></i>
            <span>Practice Questions</span>
          </Button>
          
          <Button
            variant="outline"
            onClick={() => navigate(`/practice-test/new?topic=${topic.id}`)}
            className="flex items-center space-x-2"
          >
            <i className="ri-file-list-line"></i>
            <span>Topic Test</span>
          </Button>
          
          <Button
            variant="outline"
            onClick={() => navigate('/study-path')}
            className="flex items-center space-x-2"
          >
            <i className="ri-book-open-line"></i>
            <span>Study Materials</span>
          </Button>
          
          <Button
            variant="outline"
            onClick={() => navigate('/analytics')}
            className="flex items-center space-x-2"
          >
            <i className="ri-bar-chart-line"></i>
            <span>View Analytics</span>
          </Button>
        </div>
      </div>
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\topics\page.tsx
---- CONTENT ----

import { useEffect, useState } from 'react';
import { useNavigate } from 'react-router-dom';
import Header from '../../components/feature/Header';
import MobileNavigation from '../../components/feature/MobileNavigation';
import Card from '../../components/base/Card';
import Button from '../../components/base/Button';
import CircularProgress from '../../components/base/CircularProgress';
import LoadingSpinner from '../../components/effects/LoadingSpinner';
import { updateSEO } from '../../utils/seo';
import { questionService } from '../../api';
import type { Topic } from '../../api/types';

export default function Topics() {
  const [selectedView, setSelectedView] = useState<'grid' | 'list'>('grid');
  const [topics, setTopics] = useState<Topic[]>([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const navigate = useNavigate();

  useEffect(() => {
    updateSEO({
      title: 'Topics - NPPE Pro',
      description: 'Browse NPPE exam topics',
      keywords: 'topics, NPPE, exam topics',
      canonical: '/topics'
    });
  }, []);

  useEffect(() => {
    const fetchTopics = async () => {
      try {
        const data = await questionService.getTopics();
        setTopics(data);
      } catch (err) {
        setError(err instanceof Error ? err.message : 'Failed to load topics');
      } finally {
        setLoading(false);
      }
    };

    fetchTopics();
  }, []);

  const topicIcons: { [key: string]: string } = {
    'Professional Practice': 'ri-user-star-line',
    'Ethics': 'ri-scales-line',
    'Engineering Law': 'ri-scales-3-line',
    'Liability': 'ri-shield-line',
    'Contracts': 'ri-file-text-line',
    'Sustainability': 'ri-leaf-line',
    'Project Management': 'ri-briefcase-line',
    'Leadership': 'ri-team-line'
  };

  const topicColors = ['blue', 'green', 'purple', 'orange', 'red', 'emerald', 'indigo', 'pink'];

  const getMasteryColor = (level: number) => {
    if (level >= 80) return 'text-green-600';
    if (level >= 60) return 'text-yellow-600';
    return 'text-red-600';
  };

  const getMasteryLabel = (level: number) => {
    if (level >= 80) return 'Mastered';
    if (level >= 60) return 'Proficient';
    return 'Needs Work';
  };

  const getColorClasses = (color: string) => {
    const colorMap: { [key: string]: string } = {
      blue: 'text-blue-600 bg-blue-100',
      green: 'text-green-600 bg-green-100',
      purple: 'text-purple-600 bg-purple-100',
      orange: 'text-orange-600 bg-orange-100',
      red: 'text-red-600 bg-red-100',
      emerald: 'text-emerald-600 bg-emerald-100',
      indigo: 'text-indigo-600 bg-indigo-100',
      pink: 'text-pink-600 bg-pink-100'
    };
    return colorMap[color] || 'text-gray-600 bg-gray-100';
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-50">
        <Header />
        <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-24">
          <div className="flex items-center justify-center h-96">
            <LoadingSpinner size="lg" />
          </div>
        </main>
        <MobileNavigation />
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-24">
        {error && (
          <div className="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg">
            <div className="flex items-center">
              <i className="ri-error-warning-line text-red-600 text-xl mr-3"></i>
              <p className="text-red-800">{error}</p>
            </div>
          </div>
        )}
        {/* Header */}
        <div className="mb-8">
          <h1 className="text-3xl font-bold text-gray-900 mb-2">
            NPPE Topics Overview
          </h1>
          <p className="text-gray-600">
            Track your progress across all 8 core topics of the NPPE exam.
          </p>
        </div>

        {/* Overall Stats */}
        <div className="grid md:grid-cols-4 gap-6 mb-8">
          <Card className="text-center">
            <div className="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3">
              <i className="ri-question-line text-blue-600 text-xl"></i>
            </div>
            <div className="text-2xl font-bold text-gray-900 mb-1">
              {topics.length}
            </div>
            <div className="text-sm text-gray-600">Total Topics</div>
          </Card>

          <Card className="text-center">
            <div className="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3">
              <i className="ri-trophy-line text-green-600 text-xl"></i>
            </div>
            <div className="text-2xl font-bold text-gray-900 mb-1">
              {Math.round(topics.reduce((sum, t) => sum + (t.weight || 0), 0))}%
            </div>
            <div className="text-sm text-gray-600">Coverage</div>
          </Card>

          <Card className="text-center">
            <div className="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3">
              <i className="ri-book-line text-purple-600 text-xl"></i>
            </div>
            <div className="text-2xl font-bold text-gray-900 mb-1">
              Study
            </div>
            <div className="text-sm text-gray-600">All Topics</div>
          </Card>

          <Card className="text-center">
            <div className="w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-3">
              <i className="ri-target-line text-orange-600 text-xl"></i>
            </div>
            <div className="text-2xl font-bold text-gray-900 mb-1">
              100%
            </div>
            <div className="text-sm text-gray-600">Exam Coverage</div>
          </Card>
        </div>

        {/* View Toggle */}
        <div className="flex items-center justify-between mb-6">
          <div className="flex items-center space-x-4">
            <h2 className="text-xl font-semibold text-gray-900">All Topics</h2>
            <span className="text-sm text-gray-500">{topics.length} topics</span>
          </div>
          
          <div className="flex items-center space-x-2">
            <button
              onClick={() => setSelectedView('grid')}
              className={`p-2 rounded-lg transition-colors cursor-pointer ${
                selectedView === 'grid' 
                  ? 'bg-blue-100 text-blue-600' 
                  : 'text-gray-400 hover:text-gray-600'
              }`}
            >
              <i className="ri-grid-line text-lg"></i>
            </button>
            <button
              onClick={() => setSelectedView('list')}
              className={`p-2 rounded-lg transition-colors cursor-pointer ${
                selectedView === 'list' 
                  ? 'bg-blue-100 text-blue-600' 
                  : 'text-gray-400 hover:text-gray-600'
              }`}
            >
              <i className="ri-list-check text-lg"></i>
            </button>
          </div>
        </div>

        {loading ? (
          <div className="flex items-center justify-center h-96">
            <LoadingSpinner size="lg" />
          </div>
        ) : (
          <>
        {/* Topics Grid/List */}
        {selectedView === 'grid' ? (
          <div className="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            {topics.map((topic, index) => (
              <div key={topic.id} onClick={() => navigate(`/topics/detail?id=${topic.id}`)}>
              <Card className="hover:shadow-lg transition-shadow cursor-pointer">
                <div className="text-center mb-4">
                  <div className={`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3 ${getColorClasses(topicColors[index % topicColors.length])}`}>
                    <i className={`${topicIcons[topic.name] || 'ri-book-line'} text-2xl`}></i>
                  </div>
                  <h3 className="text-lg font-semibold text-gray-900 mb-2">
                    {topic.name}
                  </h3>
                  <p className="text-sm text-gray-600 mb-4">
                    {topic.description}
                  </p>
                </div>

                <div className="mb-4">
                  <div className="flex items-center justify-center mb-2">
                    <CircularProgress
                      value={topic.weight}
                      size={80}
                      strokeWidth={8}
                      animate={true}
                    />
                  </div>
                  <div className="text-center">
                    <div className="text-sm font-medium text-blue-600">
                      {topic.weight}% Exam Weight
                    </div>
                    <div className="text-xs text-gray-500">
                      {topic.code}
                    </div>
                  </div>
                </div>

                <div className="mt-4 pt-4 border-t border-gray-200">
                  <Button
                    variant="secondary"
                    size="sm"
                    className="w-full"
                    onClick={(e) => {
                      e.stopPropagation();
                      navigate(`/practice?topic=${topic.id}`);
                    }}
                  >
                    Study Topic
                  </Button>
                </div>
              </Card>
              </div>
            ))}
          </div>
        ) : (
          <div className="space-y-4">
            {topics.map((topic, index) => (
              <div key={topic.id} onClick={() => navigate(`/topics/detail?id=${topic.id}`)}>
              <Card className="hover:shadow-lg transition-shadow cursor-pointer">
                <div className="flex items-center justify-between">
                  <div className="flex items-center space-x-4">
                    <div className={`w-12 h-12 rounded-lg flex items-center justify-center ${getColorClasses(topicColors[index % topicColors.length])}`}>
                      <i className={`${topicIcons[topic.name] || 'ri-book-line'} text-xl`}></i>
                    </div>
                    <div className="flex-1">
                      <h3 className="text-lg font-semibold text-gray-900 mb-1">
                        {topic.name}
                      </h3>
                      <p className="text-sm text-gray-600 mb-2">
                        {topic.description}
                      </p>
                      <div className="flex items-center space-x-4 text-sm text-gray-600">
                        <span>Code: {topic.code}</span>
                        <span>Weight: {topic.weight}%</span>
                      </div>
                    </div>
                  </div>

                  <div className="flex items-center space-x-6">
                    <div className="flex flex-col space-y-2">
                      <Button
                        variant="secondary"
                        size="sm"
                        onClick={(e) => {
                          e.stopPropagation();
                          navigate(`/topics/detail?id=${topic.id}`);
                        }}
                      >
                        Details
                      </Button>
                      <Button
                        variant="secondary"
                        size="sm"
                        onClick={(e) => {
                          e.stopPropagation();
                          navigate(`/practice?topic=${topic.id}`);
                        }}
                      >
                        Practice
                      </Button>
                    </div>
                  </div>
                </div>
              </Card>
              </div>
            ))}
          </div>
        )}

        <Card className="mt-8 bg-gradient-to-r from-blue-50 to-blue-100">
          <h3 className="text-lg font-semibold text-gray-900 mb-4">
            <i className="ri-lightbulb-line mr-2"></i>
            Study Recommendations
          </h3>
          <div className="grid md:grid-cols-2 gap-6">
            <div>
              <h4 className="font-medium text-gray-900 mb-2">Exam Topics</h4>
              <ul className="space-y-2">
                {topics.slice(0, 3).map((topic, index) => (
                  <li key={topic.id} className="flex items-center text-sm">
                    <i className={`${topicIcons[topic.name] || 'ri-book-line'} mr-2 text-blue-600`}></i>
                    <span className="text-gray-700">{topic.name} - {topic.weight}% weight</span>
                  </li>
                ))}
              </ul>
            </div>
            <div>
              <h4 className="font-medium text-gray-900 mb-2">Next Steps</h4>
              <ul className="text-sm text-gray-700 space-y-1">
                <li>• Complete practice questions in all topics</li>
                <li>• Focus on high-weight topics first</li>
                <li>• Take topic-specific practice tests</li>
                <li>• Review materials for challenging subjects</li>
              </ul>
            </div>
          </div>
        </Card>
        </>
        )}
      </main>

      <MobileNavigation />
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\pages\weaknesses\page.tsx
---- CONTENT ----

import { useState, useEffect } from 'react';
import Header from '../../components/feature/Header';
import LoadingSpinner from '../../components/effects/LoadingSpinner';
import { dashboardService } from '../../api';
import type { WeakTopic as ApiWeakTopic } from '../../api/types';

interface WeakTopic {
  id: string;
  name: string;
  accuracy: number;
  questionsAttempted: number;
  lastPracticed: string;
  difficulty: 'Easy' | 'Medium' | 'Hard';
  recommendations: string[];
}

const mockWeakTopics: WeakTopic[] = [
  {
    id: '1',
    name: 'Structural Analysis',
    accuracy: 45,
    questionsAttempted: 28,
    lastPracticed: '2024-01-15',
    difficulty: 'Hard',
    recommendations: [
      'Review beam deflection calculations',
      'Practice moment distribution method',
      'Study influence lines for continuous beams'
    ]
  },
  {
    id: '2',
    name: 'Concrete Design',
    accuracy: 52,
    questionsAttempted: 35,
    lastPracticed: '2024-01-14',
    difficulty: 'Medium',
    recommendations: [
      'Focus on reinforcement detailing',
      'Practice shear design calculations',
      'Review ACI code provisions'
    ]
  },
  {
    id: '3',
    name: 'Geotechnical Engineering',
    accuracy: 38,
    questionsAttempted: 22,
    lastPracticed: '2024-01-13',
    difficulty: 'Hard',
    recommendations: [
      'Study soil classification systems',
      'Practice bearing capacity calculations',
      'Review slope stability analysis'
    ]
  },
  {
    id: '4',
    name: 'Transportation Engineering',
    accuracy: 58,
    questionsAttempted: 31,
    lastPracticed: '2024-01-12',
    difficulty: 'Medium',
    recommendations: [
      'Review traffic flow theory',
      'Practice pavement design',
      'Study intersection design principles'
    ]
  }
];

export default function Weaknesses() {
  const [selectedTopic, setSelectedTopic] = useState<string | null>(null);
  const [weakTopics, setWeakTopics] = useState<WeakTopic[]>(mockWeakTopics);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');

  useEffect(() => {
    const fetchWeaknesses = async () => {
      try {
        const data = await dashboardService.getWeaknesses();
        // Map API data to component format
        const mappedTopics: WeakTopic[] = data.weak_topics.map((topic: ApiWeakTopic) => ({
          id: Math.random().toString(),
          name: topic.name,
          accuracy: topic.score,
          questionsAttempted: topic.questions_attempted || 0,
          lastPracticed: new Date().toISOString().split('T')[0],
          difficulty: topic.score < 50 ? 'Hard' : topic.score < 70 ? 'Medium' : 'Easy' as 'Easy' | 'Medium' | 'Hard',
          recommendations: topic.sub_topics?.map(st => `Focus on ${st.name}`) || []
        }));
        setWeakTopics(mappedTopics.length > 0 ? mappedTopics : mockWeakTopics);
      } catch (err) {
        setError(err instanceof Error ? err.message : 'Failed to load weaknesses');
        setWeakTopics(mockWeakTopics); // Fall back to mock data
      } finally {
        setLoading(false);
      }
    };

    fetchWeaknesses();
  }, []);

  const getAccuracyColor = (accuracy: number) => {
    if (accuracy < 50) return 'text-red-600 bg-red-50';
    if (accuracy < 70) return 'text-yellow-600 bg-yellow-50';
    return 'text-green-600 bg-green-50';
  };

  const getDifficultyColor = (difficulty: string) => {
    switch (difficulty) {
      case 'Easy': return 'bg-green-100 text-green-800';
      case 'Medium': return 'bg-yellow-100 text-yellow-800';
      case 'Hard': return 'bg-red-100 text-red-800';
      default: return 'bg-gray-100 text-gray-800';
    }
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-50">
        <Header />
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <div className="flex items-center justify-center h-96">
            <LoadingSpinner size="lg" />
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        {error && (
          <div className="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg">
            <div className="flex items-center">
              <i className="ri-error-warning-line text-red-600 text-xl mr-3"></i>
              <p className="text-red-800">{error}</p>
            </div>
          </div>
        )}
        <div className="mb-8">
          <h1 className="text-3xl font-bold text-gray-900 mb-2">Weakness Analysis</h1>
          <p className="text-gray-600">Identify and improve your weak areas with AI-powered recommendations</p>
        </div>

        {/* Summary Cards */}
        <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
          <div className="bg-white rounded-lg shadow p-6">
            <div className="flex items-center">
              <div className="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center">
                <i className="ri-alert-line text-red-600 text-xl"></i>
              </div>
              <div className="ml-4">
                <p className="text-sm font-medium text-gray-600">Critical Areas</p>
                <p className="text-2xl font-bold text-gray-900">2</p>
              </div>
            </div>
          </div>

          <div className="bg-white rounded-lg shadow p-6">
            <div className="flex items-center">
              <div className="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center">
                <i className="ri-time-line text-yellow-600 text-xl"></i>
              </div>
              <div className="ml-4">
                <p className="text-sm font-medium text-gray-600">Needs Practice</p>
                <p className="text-2xl font-bold text-gray-900">2</p>
              </div>
            </div>
          </div>

          <div className="bg-white rounded-lg shadow p-6">
            <div className="flex items-center">
              <div className="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                <i className="ri-target-line text-blue-600 text-xl"></i>
              </div>
              <div className="ml-4">
                <p className="text-sm font-medium text-gray-600">Avg Accuracy</p>
                <p className="text-2xl font-bold text-gray-900">48%</p>
              </div>
            </div>
          </div>

          <div className="bg-white rounded-lg shadow p-6">
            <div className="flex items-center">
              <div className="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                <i className="ri-lightbulb-line text-green-600 text-xl"></i>
              </div>
              <div className="ml-4">
                <p className="text-sm font-medium text-gray-600">Recommendations</p>
                <p className="text-2xl font-bold text-gray-900">12</p>
              </div>
            </div>
          </div>
        </div>

        {/* Weak Topics List */}
        <div className="bg-white rounded-lg shadow">
          <div className="px-6 py-4 border-b border-gray-200">
            <h2 className="text-lg font-semibold text-gray-900">Areas Needing Improvement</h2>
          </div>
          
          <div className="divide-y divide-gray-200">
            {weakTopics.map((topic) => (
              <div key={topic.id} className="p-6">
                <div className="flex items-center justify-between mb-4">
                  <div className="flex items-center space-x-4">
                    <h3 className="text-lg font-medium text-gray-900">{topic.name}</h3>
                    <span className={`px-2 py-1 rounded-full text-xs font-medium ${getDifficultyColor(topic.difficulty)}`}>
                      {topic.difficulty}
                    </span>
                  </div>
                  <button
                    onClick={() => setSelectedTopic(selectedTopic === topic.id ? null : topic.id)}
                    className="text-blue-600 hover:text-blue-800 font-medium whitespace-nowrap"
                  >
                    {selectedTopic === topic.id ? 'Hide Details' : 'View Details'}
                  </button>
                </div>

                <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                  <div className="flex items-center space-x-2">
                    <span className={`px-3 py-1 rounded-full text-sm font-medium ${getAccuracyColor(topic.accuracy)}`}>
                      {topic.accuracy}% Accuracy
                    </span>
                  </div>
                  <div className="text-sm text-gray-600">
                    <i className="ri-question-line mr-1"></i>
                    {topic.questionsAttempted} questions attempted
                  </div>
                  <div className="text-sm text-gray-600">
                    <i className="ri-calendar-line mr-1"></i>
                    Last practiced: {new Date(topic.lastPracticed).toLocaleDateString()}
                  </div>
                </div>

                {selectedTopic === topic.id && (
                  <div className="mt-4 p-4 bg-gray-50 rounded-lg">
                    <h4 className="font-medium text-gray-900 mb-3">AI Recommendations:</h4>
                    <ul className="space-y-2">
                      {topic.recommendations.map((rec, index) => (
                        <li key={index} className="flex items-start space-x-2">
                          <i className="ri-arrow-right-s-line text-blue-600 mt-0.5"></i>
                          <span className="text-sm text-gray-700">{rec}</span>
                        </li>
                      ))}
                    </ul>
                    <div className="mt-4 flex space-x-3">
                      <button className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap">
                        Practice Now
                      </button>
                      <button className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap">
                        Study Materials
                      </button>
                    </div>
                  </div>
                )}
              </div>
            ))}
          </div>
        </div>

        {/* Study Plan */}
        <div className="mt-8 bg-white rounded-lg shadow p-6">
          <h2 className="text-lg font-semibold text-gray-900 mb-4">Recommended Study Plan</h2>
          <div className="space-y-4">
            <div className="flex items-center justify-between p-4 bg-blue-50 rounded-lg">
              <div>
                <h3 className="font-medium text-gray-900">Week 1-2: Focus on Structural Analysis</h3>
                <p className="text-sm text-gray-600">Complete 50 practice questions and review beam theory</p>
              </div>
              <button className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap">
                Start Plan
              </button>
            </div>
            <div className="flex items-center justify-between p-4 bg-yellow-50 rounded-lg">
              <div>
                <h3 className="font-medium text-gray-900">Week 3-4: Geotechnical Fundamentals</h3>
                <p className="text-sm text-gray-600">Master soil mechanics and foundation design principles</p>
              </div>
              <button className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap">
                View Plan
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\router\config.tsx
---- CONTENT ----

import type { RouteObject } from "react-router-dom";
import NotFound from "../pages/NotFound";
import Home from "../pages/home/page";
import Landing from "../pages/landing/page";
import Dashboard from "../pages/dashboard/page";
import RootRedirect from "./RootRedirect";
import About from "../pages/about/page";
import Features from "../pages/features/page";
import Pricing from "../pages/pricing/page";
import Login from "../pages/login/page";
import Signup from "../pages/signup/page";
import Blog from "../pages/blog/page";
import Contact from "../pages/contact/page";
import PrivacyPolicy from "../pages/privacy-policy/page";
import TermsOfService from "../pages/terms-of-service/page";
import Help from "../pages/help/page";
import ForgotPassword from "../pages/forgot-password/page";
import ResetPassword from "../pages/reset-password/page";
import EmailVerification from "../pages/email-verification/page";
import Onboarding from "../pages/onboarding/page";
import Practice from "../pages/practice/page";
import QuestionReview from "../pages/practice/question/page";
import Bookmarks from "../pages/bookmarks/page";
import PracticeTestNew from "../pages/practice-test/new/page";
import PracticeTestTake from "../pages/practice-test/take/page";
import TestResults from "../pages/test/results/page";
import TestReview from "../pages/test/review/page";
import PracticeTests from "../pages/practice-tests/page";
import StudyPath from "../pages/study-path/page";
import ModuleDetail from "../pages/study-path/module/page";
import Topics from "../pages/topics/page";
import TopicDetail from "../pages/topics/detail/page";
import Analytics from "../pages/analytics/page";
import Weaknesses from "../pages/weaknesses/page";
import Forum from "../pages/forum/page";
import ForumPost from "../pages/forum/post/page";
import ForumNew from "../pages/forum/new/page";
import StudyGroups from "../pages/study-groups/page";
import StudyGroupDetail from "../pages/study-groups/detail/page";
import Profile from "../pages/profile/page";
import AccountSettings from "../pages/settings/account/page";
import Subscription from "../pages/settings/subscription/page";
import NotificationSettings from "../pages/settings/notifications/page";
import Achievements from "../pages/achievements/page";
import Support from "../pages/support/page";
import AdminDashboard from "../pages/admin/page";
import AdminUsers from "../pages/admin/users/page";
import AdminQuestions from "../pages/admin/questions/page";
import AdminQuestionEditor from "../pages/admin/questions/editor/page";
import AdminAnalytics from "../pages/admin/analytics/page";
import AdminSubscriptions from "../pages/admin/subscriptions/page";
import Offline from "../pages/offline/page";
import Error from "../pages/error/page";
import Maintenance from "../pages/maintenance/page";

const routes: RouteObject[] = [
  {
    path: "/",
    element: <RootRedirect />,
  },
  {
    path: "/landing",
    element: <Landing />,
  },
  {
    path: "/home",
    element: <Home />,
  },
  {
    path: "/about",
    element: <About />,
  },
  {
    path: "/features",
    element: <Features />,
  },
  {
    path: "/pricing",
    element: <Pricing />,
  },
  {
    path: "/blog",
    element: <Blog />,
  },
  {
    path: "/contact",
    element: <Contact />,
  },
  {
    path: "/privacy-policy",
    element: <PrivacyPolicy />,
  },
  {
    path: "/terms-of-service",
    element: <TermsOfService />,
  },
  {
    path: "/help",
    element: <Help />,
  },
  {
    path: "/login",
    element: <Login />,
  },
  {
    path: "/signup",
    element: <Signup />,
  },
  {
    path: "/forgot-password",
    element: <ForgotPassword />,
  },
  {
    path: "/reset-password/:token",
    element: <ResetPassword />,
  },
  {
    path: "/verify-email/:token",
    element: <EmailVerification />,
  },
  {
    path: "/onboarding",
    element: <Onboarding />,
  },
  {
    path: "/dashboard",
    element: <Dashboard />,
  },
  {
    path: "/practice",
    element: <Practice />,
  },
  {
    path: "/practice/:questionId",
    element: <QuestionReview />,
  },
  {
    path: "/bookmarks",
    element: <Bookmarks />,
  },
  {
    path: "/practice-test/new",
    element: <PracticeTestNew />,
  },
  {
    path: "/practice-test/take/:testId",
    element: <PracticeTestTake />,
  },
  {
    path: "/test/:testId/results",
    element: <TestResults />,
  },
  {
    path: "/test/:testId/review",
    element: <TestReview />,
  },
  {
    path: "/practice-tests",
    element: <PracticeTests />,
  },
  {
    path: "/study-path",
    element: <StudyPath />,
  },
  {
    path: "/study-path/module/:moduleId",
    element: <ModuleDetail />,
  },
  {
    path: "/topics",
    element: <Topics />,
  },
  {
    path: "/topics/:topicId",
    element: <TopicDetail />,
  },
  {
    path: "/analytics",
    element: <Analytics />,
  },
  {
    path: "/weaknesses",
    element: <Weaknesses />,
  },
  {
    path: "/forum",
    element: <Forum />,
  },
  {
    path: "/forum/post/:postId",
    element: <ForumPost />,
  },
  {
    path: "/forum/new",
    element: <ForumNew />,
  },
  {
    path: "/study-groups",
    element: <StudyGroups />,
  },
  {
    path: "/study-groups/:groupId",
    element: <StudyGroupDetail />,
  },
  {
    path: "/profile",
    element: <Profile />,
  },
  {
    path: "/settings/account",
    element: <AccountSettings />,
  },
  {
    path: "/settings/subscription",
    element: <Subscription />,
  },
  {
    path: "/settings/notifications",
    element: <NotificationSettings />,
  },
  {
    path: "/achievements",
    element: <Achievements />,
  },
  {
    path: "/support",
    element: <Support />,
  },
  {
    path: "/admin",
    element: <AdminDashboard />,
  },
  {
    path: "/admin/users",
    element: <AdminUsers />,
  },
  {
    path: "/admin/questions",
    element: <AdminQuestions />,
  },
  {
    path: "/admin/questions/new",
    element: <AdminQuestionEditor />,
  },
  {
    path: "/admin/questions/edit/:id",
    element: <AdminQuestionEditor />,
  },
  {
    path: "/admin/analytics",
    element: <AdminAnalytics />,
  },
  {
    path: "/admin/subscriptions",
    element: <AdminSubscriptions />,
  },
  {
    path: "/offline",
    element: <Offline />,
  },
  {
    path: "/error",
    element: <Error />,
  },
  {
    path: "/maintenance",
    element: <Maintenance />,
  },
  {
    path: "/404",
    element: <NotFound />,
  },
  {
    path: "*",
    element: <NotFound />,
  },
];

export default routes;
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\router\guards.tsx
---- CONTENT ----
import { Navigate, Outlet } from 'react-router-dom';

export function RequireAuth() {
  const token = localStorage.getItem('access_token');
  return token ? <Outlet /> : <Navigate to="/login" replace />;
}

export function RequireAdmin() {
  const token = localStorage.getItem('access_token');
  const userStr = localStorage.getItem('user');
  const user = token && userStr ? JSON.parse(userStr) : null;
  return user?.is_admin ? <Outlet /> : <Navigate to="/dashboard" replace />;
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\router\index.ts
---- CONTENT ----
import { useNavigate, type NavigateFunction } from "react-router-dom";
import { useRoutes } from "react-router-dom";
import { useEffect } from "react";
import routes from "./config";

let navigateResolver: (navigate: ReturnType<typeof useNavigate>) => void;

declare global {
  interface Window {
    REACT_APP_NAVIGATE: ReturnType<typeof useNavigate>;
  }
}

export const navigatePromise = new Promise<NavigateFunction>((resolve) => {
  navigateResolver = resolve;
});

export function AppRoutes() {
  const element = useRoutes(routes);
  if (!window.REACT_APP_NAVIGATE) {
    const navigate = useNavigate();
    useEffect(() => {
      window.REACT_APP_NAVIGATE = navigate;
      navigateResolver(window.REACT_APP_NAVIGATE);
    });
  }
  return element;
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\router\RootRedirect.tsx
---- CONTENT ----
import { Navigate } from "react-router-dom";

export default function RootRedirect() {
  const token = localStorage.getItem("access_token");
  // If logged in, go straight to dashboard; otherwise show landing
  return token ? <Navigate to="/dashboard" replace /> : <Navigate to="/landing" replace />;
}
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\utils\seo.ts
---- CONTENT ----

// SEO utility functions for dynamic meta tag management
export interface SEOData {
  title: string;
  description: string;
  keywords?: string;
  ogImage?: string;
  canonical?: string;
  schema?: object;
}

export const updateSEO = (seoData: SEOData) => {
  // Update title
  document.title = seoData.title;
  
  // Update meta description
  updateMetaTag('description', seoData.description);
  
  // Update keywords if provided
  if (seoData.keywords) {
    updateMetaTag('keywords', seoData.keywords);
  }
  
  // Update Open Graph tags
  updateMetaProperty('og:title', seoData.title);
  updateMetaProperty('og:description', seoData.description);
  updateMetaProperty('og:url', window.location.href);
  
  if (seoData.ogImage) {
    updateMetaProperty('og:image', seoData.ogImage);
  }
  
  // Update Twitter tags
  updateMetaProperty('twitter:title', seoData.title);
  updateMetaProperty('twitter:description', seoData.description);
  
  if (seoData.ogImage) {
    updateMetaProperty('twitter:image', seoData.ogImage);
  }
  
  // Update canonical URL
  if (seoData.canonical) {
    updateCanonical(seoData.canonical);
  }
  
  // Add Schema.org JSON-LD
  if (seoData.schema) {
    addSchemaMarkup(seoData.schema);
  }
};

const updateMetaTag = (name: string, content: string) => {
  let meta = document.querySelector(`meta[name="${name}"]`) as HTMLMetaElement;
  if (!meta) {
    meta = document.createElement('meta');
    meta.name = name;
    document.head.appendChild(meta);
  }
  meta.content = content;
};

const updateMetaProperty = (property: string, content: string) => {
  let meta = document.querySelector(`meta[property="${property}"]`) as HTMLMetaElement;
  if (!meta) {
    meta = document.createElement('meta');
    meta.setAttribute('property', property);
    document.head.appendChild(meta);
  }
  meta.content = content;
};

const updateCanonical = (url: string) => {
  let canonical = document.querySelector('link[rel="canonical"]') as HTMLLinkElement;
  if (!canonical) {
    canonical = document.createElement('link');
    canonical.rel = 'canonical';
    document.head.appendChild(canonical);
  }
  canonical.href = url;
};

const addSchemaMarkup = (schema: object) => {
  // Remove existing schema
  const existingSchema = document.querySelector('script[type="application/ld+json"]');
  if (existingSchema) {
    existingSchema.remove();
  }
  
  // Add new schema
  const script = document.createElement('script');
  script.type = 'application/ld+json';
  script.textContent = JSON.stringify(schema);
  document.head.appendChild(script);
};

// Predefined SEO data for different pages
export const seoData = {
  landing: {
    title: 'NPPE Pro - Professional Engineering Exam Preparation Platform',
    description: 'Pass your NPPE exam with confidence. Comprehensive study materials, practice tests, and analytics for professional engineers. 95% pass rate, 500+ questions.',
    keywords: 'NPPE exam, professional engineering, exam preparation, practice tests, engineering certification, professional engineer',
    canonical: `${import.meta.env.VITE_SITE_URL || 'https://example.com'}/`,
    schema: {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "NPPE Pro",
      "description": "Professional Engineering Exam Preparation Platform",
      "url": `${import.meta.env.VITE_SITE_URL || 'https://example.com'}`,
      "potentialAction": {
        "@type": "SearchAction",
        "target": {
          "@type": "EntryPoint",
          "urlTemplate": `${import.meta.env.VITE_SITE_URL || 'https://example.com'}/search?q={search_term_string}`
        },
        "query-input": "required name=search_term_string"
      },
      "publisher": {
        "@type": "Organization",
        "name": "NPPE Pro",
        "logo": {
          "@type": "ImageObject",
          "url": `${import.meta.env.VITE_SITE_URL || 'https://example.com'}/logo.png`
        }
      }
    }
  },
  dashboard: {
    title: 'Dashboard - NPPE Pro',
    description: 'Track your NPPE exam preparation progress with detailed analytics, performance metrics, and personalized study recommendations.',
    keywords: 'NPPE dashboard, exam progress, study analytics, performance tracking',
    canonical: `${import.meta.env.VITE_SITE_URL || 'https://example.com'}/dashboard`,
    schema: {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "NPPE Pro Dashboard",
      "description": "Professional Engineering Exam Preparation Dashboard",
      "url": `${import.meta.env.VITE_SITE_URL || 'https://example.com'}/dashboard`,
      "applicationCategory": "EducationalApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
  },
  home: {
    title: 'Home - NPPE Pro',
    description: 'Welcome to NPPE Pro - Your comprehensive platform for professional engineering exam preparation.',
    keywords: 'NPPE home, engineering exam, professional certification',
    canonical: `${import.meta.env.VITE_SITE_URL || 'https://example.com'}/home`
  },
  about: {
    title: 'About Us - NPPE Pro | Leading NPPE Exam Preparation Platform',
    description: 'Learn about NPPE Pro\'s mission to help engineers pass the National Professional Practice Examination. Founded by engineers, for engineers.',
    keywords: 'NPPE Pro team, engineering exam preparation, professional engineers, company mission, engineering education',
    ogTitle: 'About NPPE Pro - Empowering Engineers to Achieve Excellence',
    ogDescription: 'Founded by engineers, for engineers. Discover how NPPE Pro has helped over 10,000 engineers achieve their P.Eng designation.',
    ogImage: 'https://readdy.ai/api/search-image?query=professional%20engineering%20team%20collaboration%20office%20environment&width=1200&height=630&seq=about-og&orientation=landscape',
    schema: {
      "@context": "https://schema.org",
      "@type": "AboutPage",
      "name": "About NPPE Pro",
      "description": "Learn about NPPE Pro's mission to help engineers pass the National Professional Practice Examination",
      "url": `${import.meta.env.VITE_SITE_URL}/about`,
      "mainEntity": {
        "@type": "Organization",
        "name": "NPPE Pro",
        "description": "Leading NPPE exam preparation platform for professional engineers",
        "foundingDate": "2020",
        "numberOfEmployees": "10-50",
        "address": {
          "@type": "PostalAddress",
          "addressCountry": "CA"
        }
      }
    }
  },
  features: {
    title: 'Features - NPPE Pro | Comprehensive NPPE Exam Preparation Tools',
    description: 'Discover NPPE Pro\'s powerful features: 500+ practice questions, realistic tests, advanced analytics, study paths, and mobile learning.',
    keywords: 'NPPE exam features, practice questions, study tools, engineering exam preparation, mobile learning, analytics',
    ogTitle: 'NPPE Pro Features - Everything You Need to Pass the NPPE',
    ogDescription: 'Comprehensive tools, expert content, and proven strategies designed specifically for Canadian engineering professionals.',
    ogImage: 'https://readdy.ai/api/search-image?query=modern%20engineering%20study%20workspace%20features&width=1200&height=630&seq=features-og&orientation=landscape',
    schema: {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "NPPE Pro Features",
      "description": "Comprehensive NPPE exam preparation tools and features",
      "url": `${import.meta.env.VITE_SITE_URL}/features`,
      "mainEntity": {
        "@type": "SoftwareApplication",
        "name": "NPPE Pro",
        "applicationCategory": "EducationalApplication",
        "operatingSystem": "Web, iOS, Android",
        "offers": {
          "@type": "Offer",
          "price": "49",
          "priceCurrency": "CAD"
        }
      }
    }
  },
  pricing: {
    title: 'Pricing - NPPE Pro | Flexible Plans for NPPE Exam Success',
    description: 'Choose from Basic ($39/month), Professional ($79/month), or Premium ($159/month) plans. 14-day free trial included.',
    keywords: 'NPPE exam pricing, subscription plans, engineering exam costs, free trial, professional engineer preparation',
    ogTitle: 'NPPE Pro Pricing - Choose Your Path to Success',
    ogDescription: 'Flexible pricing plans designed to fit your study needs and budget. Start with a 14-day free trial.',
    ogImage: 'https://readdy.ai/api/search-image?query=pricing%20plans%20comparison%20professional&width=1200&height=630&seq=pricing-og&orientation=landscape',
    schema: {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "NPPE Pro Pricing",
      "description": "Flexible pricing plans for NPPE exam preparation",
      "url": `${import.meta.env.VITE_SITE_URL}/pricing`,
      "mainEntity": [
        {
          "@type": "Offer",
          "name": "Basic Plan",
          "price": "39",
          "priceCurrency": "CAD",
          "billingIncrement": "P1M"
        },
        {
          "@type": "Offer",
          "name": "Professional Plan",
          "price": "79",
          "priceCurrency": "CAD",
          "billingIncrement": "P1M"
        },
        {
          "@type": "Offer",
          "name": "Premium Plan",
          "price": "159",
          "priceCurrency": "CAD",
          "billingIncrement": "P1M"
        }
      ]
    }
  },
  login: {
    title: 'Login - NPPE Pro | Access Your NPPE Exam Preparation',
    description: 'Sign in to your NPPE Pro account to continue your professional engineering exam preparation journey.',
    keywords: 'NPPE Pro login, sign in, engineering exam account, professional engineer preparation',
    ogTitle: 'Login to NPPE Pro',
    ogDescription: 'Access your personalized NPPE exam preparation dashboard and continue your journey to professional engineering success.',
    ogImage: 'https://readdy.ai/api/search-image?query=professional%20login%20interface%20engineering&width=1200&height=630&seq=login-og&orientation=landscape',
    schema: {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "NPPE Pro Login",
      "description": "Sign in to access your NPPE exam preparation account",
      "url": `${import.meta.env.VITE_SITE_URL}/login`
    }
  },
  signup: {
    title: 'Sign Up - NPPE Pro | Start Your NPPE Exam Preparation',
    description: 'Create your NPPE Pro account and start your journey to professional engineering success. 14-day free trial included.',
    keywords: 'NPPE Pro signup, create account, engineering exam registration, professional engineer preparation, free trial',
    ogTitle: 'Join NPPE Pro - Start Your Engineering Success Journey',
    ogDescription: 'Create your account and get access to comprehensive NPPE exam preparation tools. 14-day free trial included.',
    ogImage: 'https://readdy.ai/api/search-image?query=professional%20signup%20registration%20engineering&width=1200&height=630&seq=signup-og&orientation=landscape',
    schema: {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "NPPE Pro Sign Up",
      "description": "Create your account to start NPPE exam preparation",
      "url": `${import.meta.env.VITE_SITE_URL}/signup`,
      "potentialAction": {
        "@type": "RegisterAction",
        "target": `${import.meta.env.VITE_SITE_URL}/signup`,
        "name": "Sign up for NPPE Pro"
      }
    }
  },
  onboarding: {
    title: 'Welcome - NPPE Pro | Setup Your Account',
    description: 'Complete your NPPE Pro account setup and personalize your exam preparation experience.',
    keywords: 'NPPE onboarding, account setup, personalization, engineering exam preparation',
    canonical: `${import.meta.env.VITE_SITE_URL || 'https://example.com'}/onboarding`
  }
};
===== END FILE =====

===== BEGIN FILE =====
PATH: C:\Users\meysa\Desktop\Document\PEng\Pen-Code\NPPE Mock exam\source\front\src\vite-env.d.ts
---- CONTENT ----
/// <reference types="vite/client" />

declare const __BASE_PATH__: string;
declare const __IS_PREVIEW__: boolean;
===== END FILE =====

